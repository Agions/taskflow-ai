# TaskFlow AI - æ¶æ„è®¾è®¡ v2.0

> ç‰ˆæœ¬: 2.0 | æ›´æ–°æ—¥æœŸ: 2026-02-22 | çŠ¶æ€: âœ… **å·²å®ç°**

---

## 1. è®¾è®¡åŸåˆ™

### 1.1 æ ¸å¿ƒå“²å­¦â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”

```
â”Œ
â”‚                    TaskFlow AI æ ¸å¿ƒå“²å­¦                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   ğŸ¯ ä½¿å‘½: è®© AI å¼€å‘å·¥ä½œæµä»"è¢«åŠ¨æ‰§è¡Œ"å˜ä¸º"ä¸»åŠ¨æ€è€ƒ"              â”‚
â”‚                                                                 â”‚
â”‚   ğŸ“Œ åŸåˆ™:                                                      â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚   â”‚ 1. æ€ç»´ä¼˜å…ˆ (Thought-First)                               â”‚ â”‚
â”‚   â”‚    - æ¯ä¸€æ¬¡ AI äº¤äº’éƒ½æ˜¯æ€ç»´è¿‡ç¨‹çš„ä½“ç°                      â”‚ â”‚
â”‚   â”‚    - å¯è§†åŒ–æ€ç»´é“¾ > ç›´æ¥ç»™ç­”æ¡ˆ                             â”‚ â”‚
â”‚   â”‚                                                          â”‚ â”‚
â”‚   â”‚ 2. å¼€æ”¾æ¶æ„ (Open Architecture)                          â”‚ â”‚
â”‚   â”‚    - MCP-first: å›´ç»• Model Context Protocol æ„å»º         â”‚ â”‚
â”‚   â”‚    - æ’ä»¶åŒ–è®¾è®¡: æ ¸å¿ƒç¨³å®šï¼Œè¾¹ç¼˜çµæ´»                         â”‚ â”‚
â”‚   â”‚                                                          â”‚ â”‚
â”‚   â”‚ 3. æ¸è¿›å¤æ‚ (Progressive Complexity)                      â”‚ â”‚
â”‚   â”‚    - ç®€å•ä»»åŠ¡: å¿«é€Ÿæ‰§è¡Œ                                    â”‚ â”‚
â”‚   â”‚    - å¤æ‚ä»»åŠ¡: æ¨ç†é“¾ + åæ€                               â”‚ â”‚
â”‚   â”‚    - è¶…çº§ä»»åŠ¡: å¤š Agent åä½œ                               â”‚ â”‚
â”‚   â”‚                                                          â”‚ â”‚
â”‚   â”‚ 4. ç¤¾åŒºé©±åŠ¨ (Community-Driven)                            â”‚ â”‚
â”‚   â”‚    - å¼€æºä¼˜å…ˆ: ä»£ç é€æ˜ï¼Œç¤¾åŒºæ§åˆ¶                          â”‚ â”‚
â”‚   â”‚    - å…±è¯†å†³ç­–: é‡å¤§å˜åŒ–é€šè¿‡ RFC æµç¨‹                       â”‚ â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. ç³»ç»Ÿæ¶æ„

### 2.1 åˆ†å±‚æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          ç”¨æˆ·å±‚ (User Layer)                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚   CLI    â”‚  â”‚  Web UI  â”‚  â”‚IDE Pluginâ”‚  â”‚   API   â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                        ç¼–æ’å±‚ (Orchestration Layer)                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚  Workflow      â”‚  â”‚  Task Router   â”‚  â”‚  State         â”‚       â”‚
â”‚  â”‚  Engine        â”‚  â”‚  (æ™ºèƒ½è·¯ç”±)     â”‚  â”‚  Manager       â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚
â”‚  â”‚  Chain of      â”‚  â”‚  Agent        â”‚                            â”‚
â”‚  â”‚  Thought      â”‚  â”‚  Coordinator   â”‚                            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                         å¼•æ“å±‚ (Engine Layer)                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚  Thought      â”‚  â”‚  MCP Hub       â”‚  â”‚  Model        â”‚       â”‚
â”‚  â”‚  Parser       â”‚  â”‚  (MCP ç¼–æ’)     â”‚  â”‚  Gateway      â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚
â”‚  â”‚  PRD          â”‚  â”‚  Task         â”‚                            â”‚
â”‚  â”‚  Parser       â”‚  â”‚  Generator    â”‚                            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                       é€‚é…å±‚ (Adapter Layer)                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚  LLM          â”‚  â”‚  MCP          â”‚  â”‚  Storage      â”‚       â”‚
â”‚  â”‚  Adapters     â”‚  â”‚  Clients      â”‚  â”‚  Backends     â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚
â”‚  â”‚  Tool         â”‚  â”‚  Vector       â”‚                            â”‚
â”‚  â”‚  Registry     â”‚  â”‚  DB           â”‚                            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 æ•°æ®æµæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           æ•°æ®æµ (Data Flow)                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  ç”¨æˆ·è¾“å…¥          æ€ç»´è§£æ           ä»»åŠ¡è§„åˆ’           æ‰§è¡Œåé¦ˆ
     â”‚                â”‚                  â”‚                  â”‚
     â–¼                â–¼                  â–¼                  â–¼
     
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Input  â”‚â”€â”€â”€â–¶â”‚   Thought   â”‚â”€â”€â”€â–¶â”‚   Planner   â”‚â”€â”€â”€â–¶â”‚  Executor   â”‚
â”‚         â”‚    â”‚   Parser   â”‚    â”‚             â”‚    â”‚             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚                   â”‚                   â”‚
                       â”‚ æ¨ç†é“¾            â”‚ å·¥ä½œæµ            â”‚ çŠ¶æ€æ›´æ–°
                       â–¼                   â–¼                   â–¼
               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â”‚              State Manager (çŠ¶æ€ç®¡ç†)               â”‚
               â”‚  - æ€ç»´å›¾è°± (Thought Graph)                          â”‚
               â”‚  - æ‰§è¡ŒçŠ¶æ€ (Execution State)                        â”‚
               â”‚  - ä¸Šä¸‹æ–‡ç¼“å­˜ (Context Cache)                        â”‚
               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â”‚              MCP Hub (MCP ç¼–æ’)                     â”‚
               â”‚  - å·¥å…·å‘ç° (Tool Discovery)                        â”‚
               â”‚  - è·¯ç”±é€‰æ‹© (Route Selection)                        â”‚
               â”‚  - ç»“æœèšåˆ (Result Aggregation)                    â”‚
               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. æ ¸å¿ƒæ¨¡å—è®¾è®¡

### 3.1 æ€ç»´è§£æå¼•æ“ (Thought Parser)

```typescript
// ä½ç½®: src/core/thought/parser.ts

interface ThoughtNode {
  id: string;
  type: ThoughtType;
  content: string;
  confidence: number;        // ç½®ä¿¡åº¦ 0-1
  reasoning: string;         // æ¨ç†è¿‡ç¨‹
  children: ThoughtNode[];   // å­èŠ‚ç‚¹
  model?: string;            // ç”Ÿæˆæ¨¡å‹
  timestamp: number;
}

enum ThoughtType {
  REQUIREMENT = 'requirement',    // éœ€æ±‚
  ANALYSIS = 'analysis',          // åˆ†æ
  DECOMPOSITION = 'decomposition', // æ‹†è§£
  TASK = 'task',                  // ä»»åŠ¡
  ACTION = 'action',              // è¡ŒåŠ¨
  REFLECTION = 'reflection',      // åæ€
  SYNTHESIS = 'synthesis'          // ç»¼åˆ
}

class ThoughtParser {
  private models: ModelGateway;
  
  // è§£æè¾“å…¥ â†’ æ€ç»´å›¾è°±
  async parse(input: Input): Promise<ThoughtGraph> {
    // 1. æ„å›¾è¯†åˆ«
    const intent = await this.recognizeIntent(input);
    
    // 2. æ€ç»´æ‹†è§£
    const decomposition = await this.decompose(intent);
    
    // 3. æ„å»ºæ€ç»´å›¾è°±
    const graph = this.buildGraph(decomposition);
    
    // 4. åæ€ä¼˜åŒ–
    const refined = await this.reflect(graph);
    
    return refined;
  }
  
  // æå–æ€ç»´é“¾ (Chain of Thought)
  extractChain(graph: ThoughtGraph): ThoughtChain {
    // çº¿æ€§åŒ–æ€ç»´å›¾è°±
    // æ”¯æŒ: CoT, ToT, ReAct æ¨¡å¼
  }
  
  // åæ€æœºåˆ¶
  private async reflect(graph: ThoughtGraph): Promise<ThoughtGraph> {
    // è®© AI å®¡è§†è‡ªå·±çš„æ€ç»´è¿‡ç¨‹
    // è¯†åˆ«é€»è¾‘æ¼æ´ã€é—æ¼ã€çŸ›ç›¾
  }
}
```

### 3.2 ç¼–æ’å¼•æ“ (Orchestrator)

```typescript
// ä½ç½®: src/core/orchestrator/workflow.ts

interface Workflow {
  id: string;
  name: string;
  version: string;
  steps: WorkflowStep[];
  triggers: Trigger[];
  config: WorkflowConfig;
}

interface WorkflowStep {
  id: string;
  type: 'thought' | 'task' | 'tool' | 'condition' | 'parallel' | 'loop';
  config: StepConfig;
  next?: string[];           // ä¸‹ä¸€æ­¥ (å¯å¤šæ¡)
  errorHandling?: ErrorConfig;
}

class WorkflowEngine {
  private executor: StepExecutor;
  private stateManager: StateManager;
  
  // å®šä¹‰å·¥ä½œæµ (å£°æ˜å¼)
  async define(spec: WorkflowSpec): Promise<Workflow> {
    // YAML/JSON â†’ Workflow å¯¹è±¡
    // éªŒè¯ + ä¼˜åŒ–
  }
  
  // æ™ºèƒ½è·¯ç”±
  async route(task: Task): Promise<RoutingResult> {
    // æ ¹æ®ä»»åŠ¡å¤æ‚åº¦ã€æˆæœ¬ã€å»¶è¿Ÿé€‰æ‹©æœ€ä¼˜æ¨¡å‹
    // ç­–ç•¥: smart | cost | speed | custom
  }
  
  // æ‰§è¡Œå·¥ä½œæµ
  async execute(workflow: Workflow, context: Context): Promise<Result> {
    // çŠ¶æ€æœºé©±åŠ¨æ‰§è¡Œ
    // æ”¯æŒ: ä¸²è¡Œ | å¹¶è¡Œ | æ¡ä»¶ | å¾ªç¯
  }
  
  // æš‚åœ/æ¢å¤
  async pause(executionId: string): Promise<void> {}
  async resume(executionId: string): Promise<Result> {}
}
```

### 3.3 MCP Hub

```typescript
// ä½ç½®: src/mcp/hub.ts

interface MCPNode {
  id: string;
  editor: EditorType;        // cursor | trae | windsurf | claude
  tools: MCPTool[];
  status: NodeStatus;
  capabilities: string[];
  load: number;              // å½“å‰è´Ÿè½½
}

class MCPHub {
  private nodes: Map<string, MCPNode>;
  
  // è‡ªåŠ¨å‘ç°å·¥å…·
  async discover(): Promise<MCPTool[]> {
    // æ‰«ææ‰€æœ‰è¿æ¥çš„ç¼–è¾‘å™¨
    // æ”¶é›†å¯ç”¨å·¥å…·
  }
  
  // æ™ºèƒ½ç¼–æ’
  async orchestrate(call: ToolCall): Promise<ToolResult> {
    // 1. æ‰¾åˆ°å¯ç”¨å·¥å…·
    // 2. è´Ÿè½½å‡è¡¡
    // 3. æ‰§è¡Œå¹¶è¿”å›ç»“æœ
  }
  
  // è·¨ç¼–è¾‘å™¨åä½œ
  async collaborate(calls: ToolCall[]): Promise<Results> {
    // å¹¶è¡Œæ‰§è¡Œè·¨ç¼–è¾‘å™¨çš„å·¥å…·è°ƒç”¨
    // èšåˆç»“æœ
  }
}
```

### 3.4 æ¨¡å‹ç½‘å…³ (Model Gateway)

```typescript
// ä½ç½®: src/core/ai/gateway.ts

interface ModelConfig {
  provider: ProviderType;
  modelName: string;
  apiKey: string;
  baseUrl?: string;
  priority: number;         // ä¼˜å…ˆçº§
  capabilities: string[];  // èƒ½åŠ›æ ‡ç­¾
  maxTokens?: number;
  temperature?: number;
}

class ModelGateway {
  private models: Map<string, ModelConfig>;
  private router: RouterStrategy;
  
  // ç»Ÿä¸€æ¨ç†æ¥å£
  async complete(prompt: Prompt, options?: Options): Promise<Response> {
    // 1. è·¯ç”±é€‰æ‹©
    const model = await this.route(prompt, options);
    
    // 2. è¯·æ±‚å‘é€
    const response = await this.send(model, prompt);
    
    // 3. å“åº”å¤„ç†
    return this.process(response);
  }
  
  // æ™ºèƒ½è·¯ç”±ç­–ç•¥
  private async route(prompt: Prompt, options?: Options): Promise<ModelConfig> {
    switch (this.router) {
      case 'smart':
        // åˆ†æä»»åŠ¡å¤æ‚åº¦ï¼Œé€‰æ‹©æœ€é€‚åˆçš„æ¨¡å‹
        return this.smartRoute(prompt);
      case 'cost':
        // æˆæœ¬ä¼˜å…ˆ
        return this.cheapestAvailable();
      case 'speed':
        // å»¶è¿Ÿæœ€ä½
        return this.fastest();
      default:
        return this.defaultModel();
    }
  }
  
  // çº§è”é™çº§
  async cascade(prompt: Prompt): Promise<Response> {
    // å°è¯•ä¸»è¦æ¨¡å‹ï¼Œå¤±è´¥åˆ™é™çº§
    // è®°å½•æ¯æ¬¡å°è¯•çš„ç»“æœ
  }
}
```

---

## 4. æ‰©å±•æ€§è®¾è®¡

### 4.1 æ’ä»¶ç³»ç»Ÿ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        æ’ä»¶æ¶æ„                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚   â”‚   è§£æå™¨     â”‚    â”‚   å¯è§†åŒ–     â”‚    â”‚   å·¥å…·      â”‚     â”‚
â”‚   â”‚  æ’ä»¶        â”‚    â”‚   æ’ä»¶       â”‚    â”‚   æ’ä»¶       â”‚     â”‚
â”‚   â”‚             â”‚    â”‚             â”‚    â”‚             â”‚     â”‚
â”‚   â”‚ PRD Parser  â”‚    â”‚ Gantt Chart â”‚    â”‚ GitHub API  â”‚     â”‚
â”‚   â”‚ Markdown    â”‚    â”‚ Pie Chart   â”‚    â”‚ Jira API    â”‚     â”‚
â”‚   â”‚ Word        â”‚    â”‚ Timeline    â”‚    â”‚ Slack       â”‚     â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚   â”‚                    æ’ä»¶æ¥å£ (Plugin API)                  â”‚ â”‚
â”‚   â”‚  - register()                                            â”‚ â”‚
â”‚   â”‚  - execute(input: any): any                             â”‚ â”‚
â”‚   â”‚  - getMetadata(): PluginMetadata                        â”‚ â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 å­˜å‚¨åç«¯

```typescript
// å¯æ’æ‹”çš„å­˜å‚¨åç«¯

interface StorageBackend {
  // æ€ç»´å›¾è°±
  saveGraph(graph: ThoughtGraph): Promise<void>;
  loadGraph(id: string): Promise<ThoughtGraph>;
  
  // å·¥ä½œæµ
  saveWorkflow(workflow: Workflow): Promise<void>;
  listWorkflows(): Promise<Workflow[]>;
  
  // æ‰§è¡Œå†å²
  saveExecution(execution: Execution): Promise<void>;
  getExecutionHistory(workflowId: string): Promise<Execution[]>;
}

// æ”¯æŒçš„åç«¯
class FileStorage implements StorageBackend { }      // æœ¬åœ°æ–‡ä»¶
class SQLiteStorage implements StorageBackend { }     // SQLite
class PostgresStorage implements StorageBackend { }  // PostgreSQL
class CRDTStorage implements StorageBackend { }      // åä½œåœºæ™¯
```

---

## 5. API è®¾è®¡

### 5.1 CLI å‘½ä»¤

```bash
# æ€ç»´æµå‘½ä»¤
taskflow think "å¸®æˆ‘åˆ†æè¿™ä¸ªéœ€æ±‚"          # å¯åŠ¨æ€ç»´åˆ†æ
taskflow think --visualize                  # å¯è§†åŒ–æ€ç»´é“¾
taskflow think --chain                       # è¾“å‡ºæ€ç»´é“¾

# å·¥ä½œæµå‘½ä»¤
taskflow flow list                           # åˆ—å‡ºå·¥ä½œæµ
taskflow flow run my-workflow                # è¿è¡Œå·¥ä½œæµ
taskflow flow pause <id>                     # æš‚åœæ‰§è¡Œ
taskflow flow resume <id>                    # æ¢å¤æ‰§è¡Œ

# MCP å‘½ä»¤
taskflow mcp connect cursor                  # è¿æ¥ç¼–è¾‘å™¨
taskflow mcp discover                        # å‘ç°å·¥å…·
taskflow mcp route "å¸®æˆ‘å†™ä¸ªå‡½æ•°"            # æ™ºèƒ½è·¯ç”±

# æ¨¡å‹å‘½ä»¤
taskflow model list                          # åˆ—å‡ºå¯ç”¨æ¨¡å‹
taskflow model route "ä»»åŠ¡æè¿°"              # æµ‹è¯•è·¯ç”±
taskflow model benchmark                     # æ€§èƒ½åŸºå‡†æµ‹è¯•
```

### 5.2 ç¼–ç¨‹ API

```typescript
import { TaskFlow } from 'taskflow-ai';

const tf = new TaskFlow({
  storage: 'sqlite',
  models: [
    { provider: 'deepseek', modelName: 'deepseek-chat', apiKey: 'xxx' },
    { provider: 'openai', modelName: 'gpt-4', apiKey: 'xxx' }
  ]
});

// æ€ç»´è§£æ
const thought = await tf.think.analyze(`
  ç”¨æˆ·éœ€è¦ä¸€ä¸ªæ–°çš„ç”¨æˆ·ç™»å½•åŠŸèƒ½
  - æ”¯æŒé‚®ç®±å’Œç¤¾äº¤è´¦å·ç™»å½•
  - éœ€è¦å®‰å…¨å¯é 
`);

// å·¥ä½œæµæ‰§è¡Œ
const result = await tf.flow.run({
  name: 'prd-to-code',
  input: prdContent
});

// MCP å·¥å…·è°ƒç”¨
const tools = await tf.mcp.discover();
const result = await tf.mcp.call('cursor', 'file_write', {
  path: 'src/main.ts',
  content: generatedCode
});
```

---

## 6. å®‰å…¨è®¾è®¡

### 6.1 å®‰å…¨æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        å®‰å…¨å±‚çº§                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   ğŸ›¡ï¸ å±‚çº§ 1: è®¤è¯ä¸æˆæƒ                                          â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚   â”‚ - API Key ç®¡ç†                                           â”‚ â”‚
â”‚   â”‚ - OAuth 2.0 (ä¼ä¸šçº§)                                     â”‚ â”‚
â”‚   â”‚ - RBAC æƒé™æ§åˆ¶                                          â”‚ â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚   ğŸ›¡ï¸ å±‚çº§ 2: è¯·æ±‚å®‰å…¨                                            â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚   â”‚ - è¾“å…¥éªŒè¯ (Schema Validation)                          â”‚ â”‚
â”‚   â”‚ - SQL/å‘½ä»¤æ³¨å…¥é˜²æŠ¤                                       â”‚ â”‚
â”‚   â”‚ - Rate Limiting                                          â”‚ â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚   ğŸ›¡ï¸ å±‚çº§ 3: MCP å®‰å…¨                                            â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚   â”‚ - å·¥å…·æƒé™åˆ†çº§ (read/write/execute)                     â”‚ â”‚
â”‚   â”‚ - æ–‡ä»¶è®¿é—®æ§åˆ¶                                            â”‚ â”‚
â”‚   â”‚ - Shell å‘½ä»¤ç™½åå•                                        â”‚ â”‚
â”‚   â”‚ - æ‰§è¡Œè¶…æ—¶                                                â”‚ â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚   ğŸ›¡ï¸ å±‚çº§ 4: æ•°æ®å®‰å…¨                                            â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚   â”‚ - æ•æ„Ÿä¿¡æ¯åŠ å¯†                                           â”‚ â”‚
â”‚   â”‚ - æœ¬åœ°æ•°æ®éš”ç¦»                                            â”‚ â”‚
â”‚   â”‚ - å®¡è®¡æ—¥å¿—                                                â”‚ â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 7. æ€§èƒ½è®¾è®¡

### 7.1 æ€§èƒ½ç›®æ ‡

| æŒ‡æ ‡ | ç›®æ ‡å€¼ | æµ‹é‡æ–¹å¼ |
|------|--------|----------|
| å†·å¯åŠ¨ | < 2s | CLI é¦–æ¬¡åŠ è½½ |
| æ€ç»´è§£æ | < 3s | 1000 å­— PRD |
| æ¨¡å‹è·¯ç”± | < 500ms | API è°ƒç”¨ |
| MCP å‘ç° | < 1s | 3 ä¸ªç¼–è¾‘å™¨ |
| å¹¶å‘ä»»åŠ¡ | 50+ | åŒæ—¶æ‰§è¡Œ |
| å†…å­˜å ç”¨ | < 200MB | ç©ºé—²çŠ¶æ€ |

### 7.2 ä¼˜åŒ–ç­–ç•¥

```typescript
// 1. ç¼“å­˜ç­–ç•¥
class CacheManager {
  // æ¨¡å‹å“åº”ç¼“å­˜
  private responseCache: LRUCache<string, Response>;
  
  // ä¸Šä¸‹æ–‡å‹ç¼©
  async compressContext(messages: Message[]): Promise<Message[]> {
    // ä¿ç•™å…³é”®ä¿¡æ¯ï¼Œå‹ç¼©å†—ä½™
  }
  
  // å¢é‡åŠ è½½
  async loadIncremental(workflowId: string, fromStep: number): Promise<void> {
    // åªåŠ è½½éœ€è¦çš„éƒ¨åˆ†
  }
}

// 2. å¹¶å‘ä¼˜åŒ–
class ParallelExecutor {
  async executeParallel(tasks: Task[]): Promise<Results> {
    // é™åˆ¶å¹¶å‘æ•°ï¼Œé¿å…èµ„æºè€—å°½
    const semaphore = new Semaphore(10);
    return Promise.all(tasks.map(t => semaphore.run(() => this.execute(t))));
  }
}

// 3. æµå¼å¤„ç†
async *streamThinking(prompt: string): AsyncGenerator<ThoughtChunk> {
  // é€æ­¥è¾“å‡ºæ€ç»´è¿‡ç¨‹ï¼Œè€Œéç­‰å¾…å®Œæ•´ç»“æœ
  for await (const chunk of model.stream(prompt)) {
    yield parseChunk(chunk);
  }
}
```

---

## 8. æµ‹è¯•ç­–ç•¥

### 8.1 æµ‹è¯•é‡‘å­—å¡”

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   E2E æµ‹è¯•   â”‚  â† å…³é”®ç”¨æˆ·è·¯å¾„
                    â”‚             â”‚
              â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
              â”‚      é›†æˆæµ‹è¯•            â”‚  â† æ¨¡å—åä½œ
              â”‚                         â”‚
        â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
        â”‚           å•å…ƒæµ‹è¯•                    â”‚  â† æ ¸å¿ƒé€»è¾‘
        â”‚                                       â”‚
  â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
  â”‚              é™æ€åˆ†æ (Lint/Type)                â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 8.2 æµ‹è¯•è¦†ç›–ç›®æ ‡

| ç±»å‹ | ç›®æ ‡è¦†ç›–ç‡ |
|------|-----------|
| å•å…ƒæµ‹è¯• | > 80% |
| é›†æˆæµ‹è¯• | > 60% |
| E2E æµ‹è¯• | å…³é”®è·¯å¾„ 100% |

---

## 9. éƒ¨ç½²æ–¹æ¡ˆ

### 9.1 éƒ¨ç½²æ¨¡å¼

```yaml
# 1. æœ¬åœ° CLI (é»˜è®¤)
taskflow:
  mode: cli
  storage: local

# 2. æœ¬åœ°æœåŠ¡
taskflow:
  mode: server
  port: 3000
  storage: sqlite

# 3. Docker éƒ¨ç½²
taskflow:
  mode: docker
  storage: postgres
  redis: enabled

# 4. Kubernetes
taskflow:
  mode: k8s
  replicas: 3
  storage: distributed
```

---

## 10. ç›‘æ§ä¸å¯è§‚æµ‹æ€§

### 10.1 æŒ‡æ ‡æ”¶é›†

```typescript
// å…³é”®æŒ‡æ ‡
const metrics = {
  // ä¸šåŠ¡æŒ‡æ ‡
  'taskflow.thought.parse.duration': Histogram,
  'taskflow.workflow.execute.duration': Histogram,
  'taskflow.mcp.tool.call.duration': Histogram,
  'taskflow.model.route.decisions': Counter,
  
  // ç³»ç»ŸæŒ‡æ ‡
  'taskflow.cpu.usage': Gauge,
  'taskflow.memory.usage': Gauge,
  'taskflow.storage.size': Gauge,
  
  // é”™è¯¯æŒ‡æ ‡
  'taskflow.errors.total': Counter,
  'taskflow.errors.by_type': Counter,
};
```

### 10.2 æ—¥å¿—ç­–ç•¥

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      æ—¥å¿—çº§åˆ«                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   ERROR: é”™è¯¯ä¿¡æ¯ï¼Œéœ€è¦ç«‹å³å¤„ç†                                  â”‚
â”‚   WARN:  è­¦å‘Šä¿¡æ¯ï¼Œå¯èƒ½å­˜åœ¨é—®é¢˜                                   â”‚
â”‚   INFO:  å…³é”®ä¸šåŠ¡ä¿¡æ¯                                            â”‚
â”‚   DEBUG: å¼€å‘è°ƒè¯•ä¿¡æ¯                                            â”‚
â”‚   TRACE: è¯¦ç»†è·Ÿè¸ªä¿¡æ¯                                            â”‚
â”‚                                                                 â”‚
â”‚   ç»“æ„åŒ–æ—¥å¿— (JSON):                                            â”‚
â”‚   {                                                             â”‚
â”‚     "timestamp": "2026-02-22T14:30:00Z",                      â”‚
â”‚     "level": "INFO",                                           â”‚
â”‚     "event": "workflow.execute",                               â”‚
â”‚     "workflow_id": "wf_xxx",                                  â”‚
â”‚     "duration_ms": 1234                                       â”‚
â”‚   }                                                             â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

_æœ¬æ–‡æ¡£æŒç»­è¿­ä»£ä¸­..._
