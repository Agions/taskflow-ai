#!/usr/bin/env node
"use strict";Object.create,Object.defineProperty,Object.getOwnPropertyDescriptor,Object.getOwnPropertyNames,Object.getPrototypeOf,Object.prototype.hasOwnProperty;const e=require("commander"),t=require("chalk"),n=require("inquirer"),s=require("ora"),r=require("path"),i=require("fs-extra"),o=require("winston"),a=require("child_process");function u(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var c,l,d,h,p={exports:{}},f={exports:{}};function m(){if(h)return d;h=1;const e=l?c:(l=1,c=({onlyFirst:e=!1}={})=>{const t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(t,e?void 0:"g")});return d=t=>"string"==typeof t?t.replace(e(),""):t}var g,D,y,_,k={exports:{}};function b(){if(_)return f.exports;_=1;const e=m(),t=function(){if(g)return k.exports;g=1;const e=e=>!Number.isNaN(e)&&e>=4352&&(e<=4447||9001===e||9002===e||11904<=e&&e<=12871&&12351!==e||12880<=e&&e<=19903||19968<=e&&e<=42182||43360<=e&&e<=43388||44032<=e&&e<=55203||63744<=e&&e<=64255||65040<=e&&e<=65049||65072<=e&&e<=65131||65281<=e&&e<=65376||65504<=e&&e<=65510||110592<=e&&e<=110593||127488<=e&&e<=127569||131072<=e&&e<=262141);return k.exports=e,k.exports.default=e,k.exports}(),n=y?D:(y=1,D=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F|\uD83D\uDC68(?:\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68\uD83C\uDFFB|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|[\u2695\u2696\u2708]\uFE0F|\uD83D[\uDC66\uDC67]|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708])\uFE0F|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C[\uDFFB-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)\uD83C\uDFFB|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB\uDFFC])|\uD83D\uDC69(?:\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB-\uDFFD])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|(?:(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)\uFE0F|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|\uD83C\uDFF4\u200D\u2620)\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDF6\uD83C\uDDE6|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDB5\uDDB6\uDDBB\uDDD2-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5\uDEEB\uDEEC\uDEF4-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g}),s=s=>{if("string"!=typeof s||0===s.length)return 0;if(0===(s=e(s)).length)return 0;s=s.replace(n(),"  ");let r=0;for(let e=0;e<s.length;e++){const n=s.codePointAt(e);n<=31||n>=127&&n<=159||(n>=768&&n<=879||(n>65535&&e++,r+=t(n)?2:1))}return r};return f.exports=s,f.exports.default=s,f.exports}var w,C={exports:{}};var v={exports:{}};const F={single:{topLeft:"‚îå",topRight:"‚îê",bottomRight:"‚îò",bottomLeft:"‚îî",vertical:"‚îÇ",horizontal:"‚îÄ"},double:{topLeft:"‚ïî",topRight:"‚ïó",bottomRight:"‚ïù",bottomLeft:"‚ïö",vertical:"‚ïë",horizontal:"‚ïê"},round:{topLeft:"‚ï≠",topRight:"‚ïÆ",bottomRight:"‚ïØ",bottomLeft:"‚ï∞",vertical:"‚îÇ",horizontal:"‚îÄ"},bold:{topLeft:"‚îè",topRight:"‚îì",bottomRight:"‚îõ",bottomLeft:"‚îó",vertical:"‚îÉ",horizontal:"‚îÅ"},singleDouble:{topLeft:"‚ïì",topRight:"‚ïñ",bottomRight:"‚ïú",bottomLeft:"‚ïô",vertical:"‚ïë",horizontal:"‚îÄ"},doubleSingle:{topLeft:"‚ïí",topRight:"‚ïï",bottomRight:"‚ïõ",bottomLeft:"‚ïò",vertical:"‚îÇ",horizontal:"‚ïê"},classic:{topLeft:"+",topRight:"+",bottomRight:"+",bottomLeft:"+",vertical:"|",horizontal:"-"}};var x;var E,A,S,M={exports:{}};function T(){if(E)return M.exports;E=1;const e=/[\p{Lu}]/u,t=/[\p{Ll}]/u,n=/^[\p{Lu}](?![\p{Lu}])/gu,s=/([\p{Alpha}\p{N}_]|$)/u,r=/[_.\- ]+/,i=new RegExp("^"+r.source),o=new RegExp(r.source+s.source,"gu"),a=new RegExp("\\d+"+s.source,"gu"),u=(s,r)=>{if("string"!=typeof s&&!Array.isArray(s))throw new TypeError("Expected the input to be `string | string[]`");if(r={pascalCase:!1,preserveConsecutiveUppercase:!1,...r},0===(s=Array.isArray(s)?s.map(e=>e.trim()).filter(e=>e.length).join("-"):s.trim()).length)return"";const u=!1===r.locale?e=>e.toLowerCase():e=>e.toLocaleLowerCase(r.locale),c=!1===r.locale?e=>e.toUpperCase():e=>e.toLocaleUpperCase(r.locale);if(1===s.length)return r.pascalCase?c(s):u(s);return s!==u(s)&&(s=((n,s,r)=>{let i=!1,o=!1,a=!1;for(let u=0;u<n.length;u++){const c=n[u];i&&e.test(c)?(n=n.slice(0,u)+"-"+n.slice(u),i=!1,a=o,o=!0,u++):o&&a&&t.test(c)?(n=n.slice(0,u-1)+"-"+n.slice(u-1),a=o,o=!1,i=!0):(i=s(c)===c&&r(c)!==c,a=o,o=r(c)===c&&s(c)!==c)}return n})(s,u,c)),s=s.replace(i,""),s=r.preserveConsecutiveUppercase?((e,t)=>(n.lastIndex=0,e.replace(n,e=>t(e))))(s,u):u(s),r.pascalCase&&(s=c(s.charAt(0))+s.slice(1)),((e,t)=>(o.lastIndex=0,a.lastIndex=0,e.replace(o,(e,n)=>t(n)).replace(a,e=>t(e))))(s,c)};return M.exports=u,M.exports.default=u,M.exports}var B,$,I,O,j,N,P,R,q,z,L,Z,H={exports:{}};function U(){if(O)return I;O=1;const e=$?B:($=1,B={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}),t={};for(const r of Object.keys(e))t[e[r]]=r;const n={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};I=n;for(const r of Object.keys(n)){if(!("channels"in n[r]))throw new Error("missing channels property: "+r);if(!("labels"in n[r]))throw new Error("missing channel labels property: "+r);if(n[r].labels.length!==n[r].channels)throw new Error("channel and label counts mismatch: "+r);const{channels:e,labels:t}=n[r];delete n[r].channels,delete n[r].labels,Object.defineProperty(n[r],"channels",{value:e}),Object.defineProperty(n[r],"labels",{value:t})}function s(e,t){return(e[0]-t[0])**2+(e[1]-t[1])**2+(e[2]-t[2])**2}return n.rgb.hsl=function(e){const t=e[0]/255,n=e[1]/255,s=e[2]/255,r=Math.min(t,n,s),i=Math.max(t,n,s),o=i-r;let a,u;i===r?a=0:t===i?a=(n-s)/o:n===i?a=2+(s-t)/o:s===i&&(a=4+(t-n)/o),a=Math.min(60*a,360),a<0&&(a+=360);const c=(r+i)/2;return u=i===r?0:c<=.5?o/(i+r):o/(2-i-r),[a,100*u,100*c]},n.rgb.hsv=function(e){let t,n,s,r,i;const o=e[0]/255,a=e[1]/255,u=e[2]/255,c=Math.max(o,a,u),l=c-Math.min(o,a,u),d=function(e){return(c-e)/6/l+.5};return 0===l?(r=0,i=0):(i=l/c,t=d(o),n=d(a),s=d(u),o===c?r=s-n:a===c?r=1/3+t-s:u===c&&(r=2/3+n-t),r<0?r+=1:r>1&&(r-=1)),[360*r,100*i,100*c]},n.rgb.hwb=function(e){const t=e[0],s=e[1];let r=e[2];const i=n.rgb.hsl(e)[0],o=1/255*Math.min(t,Math.min(s,r));return r=1-1/255*Math.max(t,Math.max(s,r)),[i,100*o,100*r]},n.rgb.cmyk=function(e){const t=e[0]/255,n=e[1]/255,s=e[2]/255,r=Math.min(1-t,1-n,1-s);return[100*((1-t-r)/(1-r)||0),100*((1-n-r)/(1-r)||0),100*((1-s-r)/(1-r)||0),100*r]},n.rgb.keyword=function(n){const r=t[n];if(r)return r;let i,o=1/0;for(const t of Object.keys(e)){const r=s(n,e[t]);r<o&&(o=r,i=t)}return i},n.keyword.rgb=function(t){return e[t]},n.rgb.xyz=function(e){let t=e[0]/255,n=e[1]/255,s=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,s=s>.04045?((s+.055)/1.055)**2.4:s/12.92;return[100*(.4124*t+.3576*n+.1805*s),100*(.2126*t+.7152*n+.0722*s),100*(.0193*t+.1192*n+.9505*s)]},n.rgb.lab=function(e){const t=n.rgb.xyz(e);let s=t[0],r=t[1],i=t[2];s/=95.047,r/=100,i/=108.883,s=s>.008856?s**(1/3):7.787*s+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;return[116*r-16,500*(s-r),200*(r-i)]},n.hsl.rgb=function(e){const t=e[0]/360,n=e[1]/100,s=e[2]/100;let r,i,o;if(0===n)return o=255*s,[o,o,o];r=s<.5?s*(1+n):s+n-s*n;const a=2*s-r,u=[0,0,0];for(let c=0;c<3;c++)i=t+1/3*-(c-1),i<0&&i++,i>1&&i--,o=6*i<1?a+6*(r-a)*i:2*i<1?r:3*i<2?a+(r-a)*(2/3-i)*6:a,u[c]=255*o;return u},n.hsl.hsv=function(e){const t=e[0];let n=e[1]/100,s=e[2]/100,r=n;const i=Math.max(s,.01);s*=2,n*=s<=1?s:2-s,r*=i<=1?i:2-i;return[t,100*(0===s?2*r/(i+r):2*n/(s+n)),100*((s+n)/2)]},n.hsv.rgb=function(e){const t=e[0]/60,n=e[1]/100;let s=e[2]/100;const r=Math.floor(t)%6,i=t-Math.floor(t),o=255*s*(1-n),a=255*s*(1-n*i),u=255*s*(1-n*(1-i));switch(s*=255,r){case 0:return[s,u,o];case 1:return[a,s,o];case 2:return[o,s,u];case 3:return[o,a,s];case 4:return[u,o,s];case 5:return[s,o,a]}},n.hsv.hsl=function(e){const t=e[0],n=e[1]/100,s=e[2]/100,r=Math.max(s,.01);let i,o;o=(2-n)*s;const a=(2-n)*r;return i=n*r,i/=a<=1?a:2-a,i=i||0,o/=2,[t,100*i,100*o]},n.hwb.rgb=function(e){const t=e[0]/360;let n=e[1]/100,s=e[2]/100;const r=n+s;let i;r>1&&(n/=r,s/=r);const o=Math.floor(6*t),a=1-s;i=6*t-o,1&o&&(i=1-i);const u=n+i*(a-n);let c,l,d;switch(o){default:case 6:case 0:c=a,l=u,d=n;break;case 1:c=u,l=a,d=n;break;case 2:c=n,l=a,d=u;break;case 3:c=n,l=u,d=a;break;case 4:c=u,l=n,d=a;break;case 5:c=a,l=n,d=u}return[255*c,255*l,255*d]},n.cmyk.rgb=function(e){const t=e[0]/100,n=e[1]/100,s=e[2]/100,r=e[3]/100;return[255*(1-Math.min(1,t*(1-r)+r)),255*(1-Math.min(1,n*(1-r)+r)),255*(1-Math.min(1,s*(1-r)+r))]},n.xyz.rgb=function(e){const t=e[0]/100,n=e[1]/100,s=e[2]/100;let r,i,o;return r=3.2406*t+-1.5372*n+-.4986*s,i=-.9689*t+1.8758*n+.0415*s,o=.0557*t+-.204*n+1.057*s,r=r>.0031308?1.055*r**(1/2.4)-.055:12.92*r,i=i>.0031308?1.055*i**(1/2.4)-.055:12.92*i,o=o>.0031308?1.055*o**(1/2.4)-.055:12.92*o,r=Math.min(Math.max(0,r),1),i=Math.min(Math.max(0,i),1),o=Math.min(Math.max(0,o),1),[255*r,255*i,255*o]},n.xyz.lab=function(e){let t=e[0],n=e[1],s=e[2];t/=95.047,n/=100,s/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,s=s>.008856?s**(1/3):7.787*s+16/116;return[116*n-16,500*(t-n),200*(n-s)]},n.lab.xyz=function(e){let t,n,s;n=(e[0]+16)/116,t=e[1]/500+n,s=n-e[2]/200;const r=n**3,i=t**3,o=s**3;return n=r>.008856?r:(n-16/116)/7.787,t=i>.008856?i:(t-16/116)/7.787,s=o>.008856?o:(s-16/116)/7.787,t*=95.047,n*=100,s*=108.883,[t,n,s]},n.lab.lch=function(e){const t=e[0],n=e[1],s=e[2];let r;r=360*Math.atan2(s,n)/2/Math.PI,r<0&&(r+=360);return[t,Math.sqrt(n*n+s*s),r]},n.lch.lab=function(e){const t=e[0],n=e[1],s=e[2]/360*2*Math.PI;return[t,n*Math.cos(s),n*Math.sin(s)]},n.rgb.ansi16=function(e,t=null){const[s,r,i]=e;let o=null===t?n.rgb.hsv(e)[2]:t;if(o=Math.round(o/50),0===o)return 30;let a=30+(Math.round(i/255)<<2|Math.round(r/255)<<1|Math.round(s/255));return 2===o&&(a+=60),a},n.hsv.ansi16=function(e){return n.rgb.ansi16(n.hsv.rgb(e),e[2])},n.rgb.ansi256=function(e){const t=e[0],n=e[1],s=e[2];if(t===n&&n===s)return t<8?16:t>248?231:Math.round((t-8)/247*24)+232;return 16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(s/255*5)},n.ansi16.rgb=function(e){let t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];const n=.5*(1+~~(e>50));return[(1&t)*n*255,(t>>1&1)*n*255,(t>>2&1)*n*255]},n.ansi256.rgb=function(e){if(e>=232){const t=10*(e-232)+8;return[t,t,t]}let t;e-=16;return[Math.floor(e/36)/5*255,Math.floor((t=e%36)/6)/5*255,t%6/5*255]},n.rgb.hex=function(e){const t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},n.hex.rgb=function(e){const t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let n=t[0];3===t[0].length&&(n=n.split("").map(e=>e+e).join(""));const s=parseInt(n,16);return[s>>16&255,s>>8&255,255&s]},n.rgb.hcg=function(e){const t=e[0]/255,n=e[1]/255,s=e[2]/255,r=Math.max(Math.max(t,n),s),i=Math.min(Math.min(t,n),s),o=r-i;let a,u;return a=o<1?i/(1-o):0,u=o<=0?0:r===t?(n-s)/o%6:r===n?2+(s-t)/o:4+(t-n)/o,u/=6,u%=1,[360*u,100*o,100*a]},n.hsl.hcg=function(e){const t=e[1]/100,n=e[2]/100,s=n<.5?2*t*n:2*t*(1-n);let r=0;return s<1&&(r=(n-.5*s)/(1-s)),[e[0],100*s,100*r]},n.hsv.hcg=function(e){const t=e[1]/100,n=e[2]/100,s=t*n;let r=0;return s<1&&(r=(n-s)/(1-s)),[e[0],100*s,100*r]},n.hcg.rgb=function(e){const t=e[0]/360,n=e[1]/100,s=e[2]/100;if(0===n)return[255*s,255*s,255*s];const r=[0,0,0],i=t%1*6,o=i%1,a=1-o;let u=0;switch(Math.floor(i)){case 0:r[0]=1,r[1]=o,r[2]=0;break;case 1:r[0]=a,r[1]=1,r[2]=0;break;case 2:r[0]=0,r[1]=1,r[2]=o;break;case 3:r[0]=0,r[1]=a,r[2]=1;break;case 4:r[0]=o,r[1]=0,r[2]=1;break;default:r[0]=1,r[1]=0,r[2]=a}return u=(1-n)*s,[255*(n*r[0]+u),255*(n*r[1]+u),255*(n*r[2]+u)]},n.hcg.hsv=function(e){const t=e[1]/100,n=t+e[2]/100*(1-t);let s=0;return n>0&&(s=t/n),[e[0],100*s,100*n]},n.hcg.hsl=function(e){const t=e[1]/100,n=e[2]/100*(1-t)+.5*t;let s=0;return n>0&&n<.5?s=t/(2*n):n>=.5&&n<1&&(s=t/(2*(1-n))),[e[0],100*s,100*n]},n.hcg.hwb=function(e){const t=e[1]/100,n=t+e[2]/100*(1-t);return[e[0],100*(n-t),100*(1-n)]},n.hwb.hcg=function(e){const t=e[1]/100,n=1-e[2]/100,s=n-t;let r=0;return s<1&&(r=(n-s)/(1-s)),[e[0],100*s,100*r]},n.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},n.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},n.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},n.gray.hsl=function(e){return[0,0,e[0]]},n.gray.hsv=n.gray.hsl,n.gray.hwb=function(e){return[0,100,e[0]]},n.gray.cmyk=function(e){return[0,0,0,e[0]]},n.gray.lab=function(e){return[e[0],0,0]},n.gray.hex=function(e){const t=255&Math.round(e[0]/100*255),n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n},n.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]},I}function V(){if(N)return j;N=1;const e=U();function t(t){const n=function(){const t={},n=Object.keys(e);for(let e=n.length,s=0;s<e;s++)t[n[s]]={distance:-1,parent:null};return t}(),s=[t];for(n[t].distance=0;s.length;){const t=s.pop(),r=Object.keys(e[t]);for(let e=r.length,i=0;i<e;i++){const e=r[i],o=n[e];-1===o.distance&&(o.distance=n[t].distance+1,o.parent=t,s.unshift(e))}}return n}function n(e,t){return function(n){return t(e(n))}}function s(t,s){const r=[s[t].parent,t];let i=e[s[t].parent][t],o=s[t].parent;for(;s[o].parent;)r.unshift(s[o].parent),i=n(e[s[o].parent][o],i),o=s[o].parent;return i.conversion=r,i}return j=function(e){const n=t(e),r={},i=Object.keys(n);for(let t=i.length,o=0;o<t;o++){const e=i[o];null!==n[e].parent&&(r[e]=s(e,n))}return r}}function W(){if(R)return P;R=1;const e=U(),t=V(),n={};return Object.keys(e).forEach(s=>{n[s]={},Object.defineProperty(n[s],"channels",{value:e[s].channels}),Object.defineProperty(n[s],"labels",{value:e[s].labels});const r=t(s);Object.keys(r).forEach(e=>{const t=r[e];n[s][e]=function(e){const t=function(...t){const n=t[0];if(null==n)return n;n.length>1&&(t=n);const s=e(t);if("object"==typeof s)for(let e=s.length,r=0;r<e;r++)s[r]=Math.round(s[r]);return s};return"conversion"in e&&(t.conversion=e.conversion),t}(t),n[s][e].raw=function(e){const t=function(...t){const n=t[0];return null==n?n:(n.length>1&&(t=n),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(t)})}),P=n}function J(){if(L)return z;L=1;const e=b(),t=m(),n=(q||(q=1,function(e){const t=(e,t)=>(...n)=>`[${e(...n)+t}m`,n=(e,t)=>(...n)=>{const s=e(...n);return`[${38+t};5;${s}m`},s=(e,t)=>(...n)=>{const s=e(...n);return`[${38+t};2;${s[0]};${s[1]};${s[2]}m`},r=e=>e,i=(e,t,n)=>[e,t,n],o=(e,t,n)=>{Object.defineProperty(e,t,{get:()=>{const s=n();return Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0}),s},enumerable:!0,configurable:!0})};let a;const u=(e,t,n,s)=>{void 0===a&&(a=W());const r=s?10:0,i={};for(const[o,u]of Object.entries(a)){const s="ansi16"===o?"ansi":o;o===t?i[s]=e(n,r):"object"==typeof u&&(i[s]=e(u[t],r))}return i};Object.defineProperty(e,"exports",{enumerable:!0,get:function(){const e=new Map,a={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};a.color.gray=a.color.blackBright,a.bgColor.bgGray=a.bgColor.bgBlackBright,a.color.grey=a.color.blackBright,a.bgColor.bgGrey=a.bgColor.bgBlackBright;for(const[t,n]of Object.entries(a)){for(const[t,s]of Object.entries(n))a[t]={open:`[${s[0]}m`,close:`[${s[1]}m`},n[t]=a[t],e.set(s[0],s[1]);Object.defineProperty(a,t,{value:n,enumerable:!1})}return Object.defineProperty(a,"codes",{value:e,enumerable:!1}),a.color.close="[39m",a.bgColor.close="[49m",o(a.color,"ansi",()=>u(t,"ansi16",r,!1)),o(a.color,"ansi256",()=>u(n,"ansi256",r,!1)),o(a.color,"ansi16m",()=>u(s,"rgb",i,!1)),o(a.bgColor,"ansi",()=>u(t,"ansi16",r,!0)),o(a.bgColor,"ansi256",()=>u(n,"ansi256",r,!0)),o(a.bgColor,"ansi16m",()=>u(s,"rgb",i,!0)),a}})}(H)),H.exports),s=new Set(["","¬õ"]),r="]8;;",i=e=>`${s.values().next().value}[${e}m`,o=e=>`${s.values().next().value}${r}${e}`,a=(n,i,o)=>{const a=[...i];let u=!1,c=!1,l=e(t(n[n.length-1]));for(const[t,d]of a.entries()){const i=e(d);l+i<=o?n[n.length-1]+=d:(n.push(d),l=0),s.has(d)&&(u=!0,c=a.slice(t+1).join("").startsWith(r)),u?c?""===d&&(u=!1,c=!1):"m"===d&&(u=!1):(l+=i,l===o&&t<a.length-1&&(n.push(""),l=0))}!l&&n[n.length-1].length>0&&n.length>1&&(n[n.length-2]+=n.pop())},u=t=>{const n=t.split(" ");let s=n.length;for(;s>0&&!(e(n[s-1])>0);)s--;return s===n.length?t:n.slice(0,s).join(" ")+n.slice(s).join("")},c=(t,c,l={})=>{if(!1!==l.trim&&""===t.trim())return"";let d,h,p="";const f=(t=>t.split(" ").map(t=>e(t)))(t);let m=[""];for(const[n,s]of t.split(" ").entries()){!1!==l.trim&&(m[m.length-1]=m[m.length-1].trimStart());let t=e(m[m.length-1]);if(0!==n&&(t>=c&&(!1===l.wordWrap||!1===l.trim)&&(m.push(""),t=0),(t>0||!1===l.trim)&&(m[m.length-1]+=" ",t++)),l.hard&&f[n]>c){const e=c-t,r=1+Math.floor((f[n]-e-1)/c);Math.floor((f[n]-1)/c)<r&&m.push(""),a(m,s,c);continue}if(t+f[n]>c&&t>0&&f[n]>0){if(!1===l.wordWrap&&t<c){a(m,s,c);continue}m.push("")}t+f[n]>c&&!1===l.wordWrap?a(m,s,c):m[m.length-1]+=s}!1!==l.trim&&(m=m.map(u));const g=[...m.join("\n")];for(const[e,a]of g.entries()){if(p+=a,s.has(a)){const{groups:t}=new RegExp(`(?:\\[(?<code>\\d+)m|\\${r}(?<uri>.*))`).exec(g.slice(e).join(""))||{groups:{}};if(void 0!==t.code){const e=Number.parseFloat(t.code);d=39===e?void 0:e}else void 0!==t.uri&&(h=0===t.uri.length?void 0:t.uri)}const t=n.codes.get(Number(d));"\n"===g[e+1]?(h&&(p+=o("")),d&&t&&(p+=i(t))):"\n"===a&&(d&&t&&(p+=i(d)),h&&(p+=o(h)))}return p};return z=(e,t,n)=>String(e).normalize().replace(/\r\n/g,"\n").split("\n").map(e=>c(e,t,n)).join("\n")}!function(){if(Z)return p.exports;Z=1;const e=b(),n=t,s=function(){if(w)return C.exports;w=1;const e=b(),t=t=>{let n=0;for(const s of t.split("\n"))n=Math.max(n,e(s));return n};return C.exports=t,C.exports.default=t,C.exports}(),r=function(){if(x)return v.exports;x=1;const e=F;return v.exports=e,v.exports.default=e,v.exports}(),i=T(),o=function(){if(S)return A;S=1;const e=b();function t(t,r){if(!t)return t;const i=(r=r||{}).align||"center";if("left"===i)return t;const o=r.split||"\n",a=r.pad||" ",u="right"!==i?n:s;let c,l=!1;Array.isArray(t)||(l=!0,t=String(t).split(o));let d=0;return t=t.map(function(t){return t=String(t),c=e(t),d=Math.max(c,d),{str:t,width:c}}).map(function(e){return new Array(u(d,e.width)+1).join(a)+e.str}),l?t.join(o):t}function n(e,t){return Math.floor((e-t)/2)}function s(e,t){return e-t}return t.left=function(e){return t(e,{align:"left"})},t.center=function(e){return t(e,{align:"center"})},t.right=function(e){return t(e,{align:"right"})},A=t}(),a=J(),u="\n",c=" ",l=e=>"number"==typeof e?{top:e,right:3*e,bottom:e,left:3*e}:{top:0,right:0,bottom:0,left:0,...e},d=e=>e.match(/^#(?:[0-f]{3}){1,2}$/i),h=e=>"string"==typeof e&&(n[e]||d(e));p.exports=(t,p)=>{(p={padding:0,borderStyle:"single",dimBorder:!1,textAlignment:"left",float:"left",titleAlignment:"left",...p}).align&&(p.textAlignment=p.align);if(p.borderColor&&!h(p.borderColor))throw new Error(`${p.borderColor} is not a valid borderColor`);if(p.backgroundColor&&!h(p.backgroundColor))throw new Error(`${p.backgroundColor} is not a valid backgroundColor`);const f=(e=>{const t=["topLeft","topRight","bottomRight","bottomLeft","vertical","horizontal"];let n;if("string"==typeof e){if(n=r[e],!n)throw new TypeError(`Invalid border style: ${e}`)}else{for(const n of t)if(!e[n]||"string"!=typeof e[n])throw new TypeError(`Invalid border style: ${n}`);n=e}return n})(p.borderStyle),m=l(p.padding),g=l(p.margin),D=e=>{const t=p.borderColor?(s=p.borderColor,d(s)?n.hex(s):n[s])(e):e;var s;return p.dimBorder?n.dim(t):t},y=e=>{return p.backgroundColor?(t=p.backgroundColor,d(t)?n.bgHex(t):n[i(["bg",t])])(e):e;var t},_=(()=>{const{env:e,stdout:t,stderr:n}=process;return t&&t.columns?t.columns:n&&n.columns?n.columns:e.COLUMNS?Number.parseInt(e.COLUMNS,10):80})();let k=s(a(t,_-2,{hard:!0,trim:!1}))+m.left+m.right,b=p.title&&p.title.slice(0,_-4-g.left-g.right);if(b&&(b=` ${b} `,e(b)>k&&(k=e(b))),g.left&&g.right&&k+2+g.left+g.right>_){const e=(_-k-2)/(g.left+g.right);g.left=Math.max(0,Math.floor(g.left*e)),g.right=Math.max(0,Math.floor(g.right*e))}k=Math.min(k,_-2-g.left-g.right),t=((t,n,r,i)=>{let l=(t=o(t,{align:i})).split(u);const d=s(t),h=r-n.left-n.right;if(d>h){const t=[];for(const n of l){const s=a(n,h,{hard:!0}),r=o(s,{align:i}).split("\n"),u=Math.max(...r.map(t=>e(t)));for(const e of r){let n;switch(i){case"center":n=c.repeat((h-u)/2)+e;break;case"right":n=c.repeat(h-u)+e;break;default:n=e}t.push(n)}}l=t}"center"===i&&d<h?l=l.map(e=>c.repeat((h-d)/2)+e):"right"===i&&d<h&&(l=l.map(e=>c.repeat(h-d)+e));const p=c.repeat(n.left),f=c.repeat(n.right);return l=l.map(e=>p+e+f),l=l.map(t=>r-e(t)>0?t+c.repeat(r-e(t)):t),n.top>0&&(l=new Array(n.top).fill(c.repeat(r)).concat(l)),n.bottom>0&&(l=l.concat(new Array(n.bottom).fill(c.repeat(r)))),l.join(u)})(t,m,k,p.textAlignment);let w=c.repeat(g.left);if("center"===p.float){const e=Math.max((_-k-2)/2,0);w=c.repeat(e)}else if("right"===p.float){const e=Math.max(_-k-g.right-2,0);w=c.repeat(e)}const C=f.horizontal.repeat(k),v=D(u.repeat(g.top)+w+f.topLeft+(b?((t,n,s)=>{let r="";const i=e(t);switch(s){case"left":r=t+n.slice(i);break;case"right":r=n.slice(i)+t;break;default:r=(n=n.slice(i)).length%2==1?(n=n.slice(Math.floor(n.length/2))).slice(1)+t+n:(n=n.slice(n.length/2))+t+n}return r})(b,C,p.titleAlignment):C)+f.topRight),F=D(w+f.bottomLeft+C+f.bottomRight+u.repeat(g.bottom)),x=D(f.vertical),E=k+2+g.left>=_?"":u;return v+E+t.split(u).map(e=>w+x+y(e)+x).join(E)+E+F},p.exports._borderStyles=r,p.exports}();const K="2.1.0",G=".taskflow",Y="config.json",Q=[".md",".markdown",".txt",".doc",".docx",".pdf",".html",".htm"],X="deepseek",ee="zhipu",te="qwen",ne="baidu",se="moonshot",re="spark",ie="openai",oe="claude",ae="CONFIG_NOT_FOUND",ue="CONFIG_INVALID",ce="CONFIG_PARSE_ERROR",le="FILE_NOT_FOUND",de="FILE_WRITE_ERROR",he={projectName:"",version:"1.0.0",aiModels:[],mcpSettings:{enabled:!0,port:3e3,host:"localhost",serverName:"taskflow-ai",version:"2024-11-05",capabilities:[],security:{authRequired:!1,allowedOrigins:["*"],rateLimit:{enabled:!0,maxRequests:100,windowMs:6e4},sandbox:{enabled:!0,timeout:3e4,memoryLimit:536870912}},tools:[],resources:[]},outputFormats:["json","markdown"],plugins:[]},pe={SEMVER:/^\d+\.\d+\.\d+$/};function fe(e){return{[X]:"deepseek-chat",[ee]:"glm-4",[te]:"qwen-turbo",[ne]:"ernie-4.0-8k",[se]:"moonshot-v1-8k",[re]:"generalv3.5",[ie]:"gpt-4",[oe]:"claude-3-sonnet-20240229"}[e]||"default"}class me{constructor(e){this.name=e,this.logger=this.createWinstonLogger()}logger;static instances=new Map;static getInstance(e){return me.instances.has(e)||me.instances.set(e,new me(e)),me.instances.get(e)}createWinstonLogger(){const e=r.join(process.cwd(),G,"logs");i.ensureDirSync(e);const t=o.format.combine(o.format.timestamp({format:"YYYY-MM-DD HH:mm:ss"}),o.format.errors({stack:!0}),o.format.printf(({timestamp:e,level:t,message:n,stack:s,...r})=>{const i=Object.keys(r).length>0?` ${JSON.stringify(r)}`:"",o=s?`\n${s}`:"";return`[${e}] [${this.name}] ${t.toUpperCase()}: ${n}${i}${o}`})),n=[new o.transports.Console({level:process.env.LOG_LEVEL||"info",format:o.format.combine(o.format.colorize(),t)}),new o.transports.File({filename:r.join(e,"taskflow.log"),level:"debug",format:t,maxsize:10485760,maxFiles:5}),new o.transports.File({filename:r.join(e,"error.log"),level:"error",format:t,maxsize:10485760,maxFiles:3})];return o.createLogger({level:"debug",format:t,transports:n,exitOnError:!1})}debug(e,...t){this.logger.debug(e,...t)}info(e,...t){this.logger.info(e,...t)}warn(e,...t){this.logger.warn(e,...t)}error(e,t,...n){t instanceof Error?this.logger.error(e,{error:t.message,stack:t.stack,...n}):t?this.logger.error(e,{error:t,...n}):this.logger.error(e,...n)}perf(e,t,n){this.logger.info(`Performance: ${e} completed in ${t}ms`,{operation:e,duration:t,...n})}audit(e,t,n){this.logger.info(`Audit: ${e} by ${t}`,{action:e,user:t,timestamp:(new Date).toISOString(),...n})}child(e){return me.getInstance(`${this.name}:${e}`)}withContext(e){return new ge(this,e)}}class ge{constructor(e,t){this.logger=e,this.context=t}debug(e,...t){this.logger.debug(e,this.context,...t)}info(e,...t){this.logger.info(e,this.context,...t)}warn(e,...t){this.logger.warn(e,this.context,...t)}error(e,t,...n){this.logger.error(e,t,this.context,...n)}}const De={};function ye(e,t){"string"!=typeof t&&(t=ye.defaultChars);const n=function(e){let t=De[e];if(t)return t;t=De[e]=[];for(let n=0;n<128;n++){const e=String.fromCharCode(n);t.push(e)}for(let n=0;n<e.length;n++){const s=e.charCodeAt(n);t[s]="%"+("0"+s.toString(16).toUpperCase()).slice(-2)}return t}(t);return e.replace(/(%[a-f0-9]{2})+/gi,function(e){let t="";for(let s=0,r=e.length;s<r;s+=3){const i=parseInt(e.slice(s+1,s+3),16);if(i<128)t+=n[i];else{if(192==(224&i)&&s+3<r){const n=parseInt(e.slice(s+4,s+6),16);if(128==(192&n)){const e=i<<6&1984|63&n;t+=e<128?"ÔøΩÔøΩ":String.fromCharCode(e),s+=3;continue}}if(224==(240&i)&&s+6<r){const n=parseInt(e.slice(s+4,s+6),16),r=parseInt(e.slice(s+7,s+9),16);if(128==(192&n)&&128==(192&r)){const e=i<<12&61440|n<<6&4032|63&r;t+=e<2048||e>=55296&&e<=57343?"ÔøΩÔøΩÔøΩ":String.fromCharCode(e),s+=6;continue}}if(240==(248&i)&&s+9<r){const n=parseInt(e.slice(s+4,s+6),16),r=parseInt(e.slice(s+7,s+9),16),o=parseInt(e.slice(s+10,s+12),16);if(128==(192&n)&&128==(192&r)&&128==(192&o)){let e=i<<18&1835008|n<<12&258048|r<<6&4032|63&o;e<65536||e>1114111?t+="ÔøΩÔøΩÔøΩÔøΩ":(e-=65536,t+=String.fromCharCode(55296+(e>>10),56320+(1023&e))),s+=9;continue}}t+="ÔøΩ"}}return t})}ye.defaultChars=";/?:@&=+$,#",ye.componentChars="";const _e={};function ke(e,t,n){"string"!=typeof t&&(n=t,t=ke.defaultChars),void 0===n&&(n=!0);const s=function(e){let t=_e[e];if(t)return t;t=_e[e]=[];for(let n=0;n<128;n++){const e=String.fromCharCode(n);/^[0-9a-z]$/i.test(e)?t.push(e):t.push("%"+("0"+n.toString(16).toUpperCase()).slice(-2))}for(let n=0;n<e.length;n++)t[e.charCodeAt(n)]=e[n];return t}(t);let r="";for(let i=0,o=e.length;i<o;i++){const t=e.charCodeAt(i);if(n&&37===t&&i+2<o&&/^[0-9a-f]{2}$/i.test(e.slice(i+1,i+3)))r+=e.slice(i,i+3),i+=2;else if(t<128)r+=s[t];else if(t>=55296&&t<=57343){if(t>=55296&&t<=56319&&i+1<o){const t=e.charCodeAt(i+1);if(t>=56320&&t<=57343){r+=encodeURIComponent(e[i]+e[i+1]),i++;continue}}r+="%EF%BF%BD"}else r+=encodeURIComponent(e[i])}return r}function be(e){let t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",e.hostname&&-1!==e.hostname.indexOf(":")?t+="["+e.hostname+"]":t+=e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",t+=e.search||"",t+=e.hash||"",t}function we(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}ke.defaultChars=";/?:@&=+$,-_.!~*'()#",ke.componentChars="-_.!~*'()";const Ce=/^([a-z0-9.+-]+:)/i,ve=/:[0-9]*$/,Fe=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,xe=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),Ee=["'"].concat(xe),Ae=["%","/","?",";","#"].concat(Ee),Se=["/","?","#"],Me=/^[+a-z0-9A-Z_-]{0,63}$/,Te=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Be={javascript:!0,"javascript:":!0},$e={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function Ie(e,t){if(e&&e instanceof we)return e;const n=new we;return n.parse(e,t),n}we.prototype.parse=function(e,t){let n,s,r,i=e;if(i=i.trim(),!t&&1===e.split("#").length){const e=Fe.exec(i);if(e)return this.pathname=e[1],e[2]&&(this.search=e[2]),this}let o=Ce.exec(i);if(o&&(o=o[0],n=o.toLowerCase(),this.protocol=o,i=i.substr(o.length)),(t||o||i.match(/^\/\/[^@\/]+@[^@\/]+/))&&(r="//"===i.substr(0,2),!r||o&&Be[o]||(i=i.substr(2),this.slashes=!0)),!Be[o]&&(r||o&&!$e[o])){let e,t,n=-1;for(let a=0;a<Se.length;a++)s=i.indexOf(Se[a]),-1!==s&&(-1===n||s<n)&&(n=s);t=-1===n?i.lastIndexOf("@"):i.lastIndexOf("@",n),-1!==t&&(e=i.slice(0,t),i=i.slice(t+1),this.auth=e),n=-1;for(let a=0;a<Ae.length;a++)s=i.indexOf(Ae[a]),-1!==s&&(-1===n||s<n)&&(n=s);-1===n&&(n=i.length),":"===i[n-1]&&n--;const r=i.slice(0,n);i=i.slice(n),this.parseHost(r),this.hostname=this.hostname||"";const o="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!o){const e=this.hostname.split(/\./);for(let t=0,n=e.length;t<n;t++){const n=e[t];if(n&&!n.match(Me)){let s="";for(let e=0,t=n.length;e<t;e++)n.charCodeAt(e)>127?s+="x":s+=n[e];if(!s.match(Me)){const s=e.slice(0,t),r=e.slice(t+1),o=n.match(Te);o&&(s.push(o[1]),r.unshift(o[2])),r.length&&(i=r.join(".")+i),this.hostname=s.join(".");break}}}}this.hostname.length>255&&(this.hostname=""),o&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const a=i.indexOf("#");-1!==a&&(this.hash=i.substr(a),i=i.slice(0,a));const u=i.indexOf("?");return-1!==u&&(this.search=i.substr(u),i=i.slice(0,u)),i&&(this.pathname=i),$e[n]&&this.hostname&&!this.pathname&&(this.pathname=""),this},we.prototype.parseHost=function(e){let t=ve.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};const Oe=Object.freeze(Object.defineProperty({__proto__:null,decode:ye,encode:ke,format:be,parse:Ie},Symbol.toStringTag,{value:"Module"})),je=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Ne=/[\0-\x1F\x7F-\x9F]/,Pe=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,Re=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,qe=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,ze=Object.freeze(Object.defineProperty({__proto__:null,Any:je,Cc:Ne,Cf:/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,P:Pe,S:Re,Z:qe},Symbol.toStringTag,{value:"Module"})),Le=new Uint16Array('·µÅ<√ïƒ± ä“ù’ª◊êŸµ€ûﬁ¢ﬂñ‡†è‡©ä‡™ë‡∂°‡π≠‡ºâ‡º¶·Éä·à®·ã°·êï·íù·ìÉ·ìü·î•\0\0\0\0\0\0·ï´·õç·¶ç·∞í·∑ù·Ωæ‚Å†‚Ü∞‚äç‚èÄ‚èª‚ëÇ‚†§‚§í‚¥à‚πà‚øé„Äñ„ä∫„òπ„û¨„£æ„®®„©±„´†„¨Æ‡†ÄEMabcfglmnoprstu\\bfms¬Ñ¬ã¬ê¬ï¬ò¬¶¬≥¬π√à√èligËÄª√Ü‰ÉÜPËÄª&‰Ä¶cuteËÄª√Å‰ÉÅreve;‰ÑÇƒÄiyx}rcËÄª√Ç‰ÉÇ;‰êêr;ÏÄÄùîÑraveËÄª√Ä‰ÉÄpha;‰éëacr;‰ÑÄd;Ê©ìƒÄgp¬ù¬°on;‰ÑÑf;ÏÄÄùî∏plyFunction;ÊÅ°ingËÄª√Ö‰ÉÖƒÄcs¬æ√Ér;ÏÄÄùíúign;ÊâîildeËÄª√É‰ÉÉmlËÄª√Ñ‰ÉÑ–Äaceforsu√•√ª√æƒóƒúƒ¢ƒßƒ™ƒÄcr√™√≤kslash;Êàñ≈∂√∂√∏;Ê´ßed;ÊåÜy;‰êë∆ÄcrtƒÖƒãƒîause;Êàµnoullis;ÊÑ¨a;‰éír;ÏÄÄùîÖpf;ÏÄÄùîπeve;‰ãòc√≤ƒìmpeq;Êâé‹ÄHOacdefhilorsu≈ç≈ë≈ñ∆Ä∆û∆¢∆µ∆∑∆∫«ú»ï…≥…∏…æcy;‰êßPYËÄª¬©‰Ç©∆Äcpy≈ù≈¢≈∫ute;‰ÑÜƒÄ;i≈ß≈®ÊãítalDifferentialD;ÊÖÖleys;ÊÑ≠»Äaeio∆â∆é∆î∆òron;‰ÑådilËÄª√á‰Éárc;‰Ñànint;Êà∞ot;‰ÑäƒÄdn∆ß∆≠illa;‰Ç∏terDot;‰Ç∑√≤≈øi;‰éßrcle»ÄDMPT«á«ã«ë«ñot;Êäôinus;Êäñlus;Êäïimes;ÊäóoƒÄcs«¢«∏kwiseContourIntegral;Êà≤eCurlyƒÄDQ»É»èoubleQuote;ÊÄùuote;ÊÄô»Älnpu»û»®…á…ïonƒÄ;e»•»¶Êà∑;Ê©¥∆Ägit»Ø»∂»∫ruent;Êâ°nt;ÊàØourIntegral;ÊàÆƒÄfr…å…é;ÊÑÇoduct;ÊàênterClockwiseContourIntegral;Êà≥oss;Ê®Øcr;ÏÄÄùíûpƒÄ;C Ñ ÖÊãìap;Êâç÷ÄDJSZacefios † ¨ ∞ ¥ ∏ÀãÀóÀ°À¶Ã≥“çƒÄ;o≈π •trahd;Ê§ëcy;‰êÇcy;‰êÖcy;‰êè∆Ägrs øÀÑÀáger;ÊÄ°r;ÊÜ°hv;Ê´§ƒÄayÀêÀïron;‰Ñé;‰êîlƒÄ;tÀùÀûÊàáa;‰éîr;ÏÄÄùîáƒÄafÀ´ÃßƒÄcmÀ∞Ã¢ritical»ÄADGTÃÄÃÜÃñÃúcute;‰Ç¥o≈¥ÃãÃç;‰ãôbleAcute;‰ãùrave;‰Å†ilde;‰ãúond;ÊãÑferentialD;ÊÖÜ—∞ÃΩ\0\0\0ÕÇÕî\0–Öf;ÏÄÄùîª∆Ä;DEÕàÕâÕç‰Ç®ot;ÊÉúqual;ÊâêbleÃÄCDLRUVÕ£Õ≤ŒÇœèœ¢œ∏ontourIntegra√¨»πo…¥Õπ\0\0Õª¬ªÕânArrow;ÊáìƒÄeoŒáŒ§ft∆ÄARTŒêŒñŒ°rrow;ÊáêightArrow;Êáîe√•ÀängƒÄLRŒ´œÑeftƒÄARŒ≥Œπrrow;Êü∏ightArrow;Êü∫ightArrow;ÊüπightƒÄATœòœûrrow;Êáíee;Êä®p…Åœ©\0\0œØrrow;ÊáëownArrow;ÊáïerticalBar;Êà•nÃÄABLRTa–í–™–∞—û—øÕºrrow∆Ä;BU–ù–û–¢ÊÜìar;Ê§ìpArrow;Êáµreve;‰åëeftÀí–∫\0—Ü\0—êightVector;Ê•êeeVector;Ê•ûectorƒÄ;B—ô—öÊÜΩar;Ê•ñight«î—ß\0—±eeVector;Ê•üectorƒÄ;B—∫—ªÊáÅar;Ê•óeeƒÄ;A“Ü“áÊä§rrow;ÊÜßƒÄct“í“ór;ÏÄÄùíürok;‰Ñê‡†ÄNTacdfglmopqstux“Ω”Ä”Ñ”ã”û”¢”ß”Æ”µ‘°‘Ø‘∂’í’ù’†’•G;‰ÖäHËÄª√ê‰ÉêcuteËÄª√â‰Éâ∆Äaiy”í”ó”úron;‰ÑörcËÄª√ä‰Éä;‰ê≠ot;‰Ññr;ÏÄÄùîàraveËÄª√à‰Éàement;ÊààƒÄap”∫”æcr;‰Ñíty…ì‘Ü\0\0‘ímallSquare;ÊóªerySmallSquare;Êñ´ƒÄgp‘¶‘™on;‰Ñòf;ÏÄÄùîºsilon;‰éïuƒÄai‘º’âlƒÄ;T’Ç’ÉÊ©µilde;ÊâÇlibrium;ÊáåƒÄci’ó’ör;ÊÑ∞m;Ê©≥a;‰éómlËÄª√ã‰ÉãƒÄip’™’Østs;ÊàÉonentialE;ÊÖá Äcfios÷Ö÷à÷ç÷≤◊åy;‰ê§r;ÏÄÄùîâlled…ì÷ó\0\0÷£mallSquare;ÊóºerySmallSquare;Êñ™Õ∞÷∫\0÷ø\0\0◊Ñf;ÏÄÄùîΩAll;ÊàÄriertrf;ÊÑ±c√≤◊ãÿÄJTabcdfgorst◊®◊¨◊Ø◊∫ÿÄÿíÿñÿõÿùÿ£Ÿ¨Ÿ≤cy;‰êÉËÄª>‰ÄæmmaƒÄ;d◊∑◊∏‰éì;‰èúreve;‰Ñû∆Äeiyÿáÿåÿêdil;‰Ñ¢rc;‰Ñú;‰êìot;‰Ñ†r;ÏÄÄùîä;Êãôpf;ÏÄÄùîæeaterÃÄEFGLSTÿµŸÑŸéŸñŸõŸ¶qualƒÄ;LÿæÿøÊâ•ess;ÊãõullEqual;Êâßreater;Ê™¢ess;Êâ∑lantEqual;Ê©æilde;Êâ≥cr;ÏÄÄùí¢;Êâ´–ÄAacfiosu⁄Ö⁄ã⁄ñ⁄õ⁄û⁄™⁄æ€äRDcy;‰ê™ƒÄct⁄ê⁄îek;‰ãá;‰Åûirc;‰Ñ§r;ÊÑålbertSpace;ÊÑã«∞⁄Ø\0⁄≤f;ÊÑçizontalLine;ÊîÄƒÄct€É€Ö√≤⁄©rok;‰Ñ¶mp≈Ñ€ê€òownHum√∞ƒØqual;Êâè‹ÄEJOacdfgmnostu€∫€æ‹É‹á‹é‹ö‹û‹°‹®›Ñ›∏ﬁãﬁèﬁïcy;‰êïlig;‰Ñ≤cy;‰êÅcuteËÄª√ç‰ÉçƒÄiy‹ì‹òrcËÄª√é‰Éé;‰êòot;‰Ñ∞r;ÊÑëraveËÄª√å‰Éå∆Ä;ap‹†‹Ø‹øƒÄcg‹¥‹∑r;‰Ñ™inaryI;ÊÖàlie√≥œù«¥›â\0›¢ƒÄ;e›ç›éÊà¨ƒÄgr›ì›òral;Êà´section;ÊãÇisibleƒÄCT›¨›≤omma;ÊÅ£imes;ÊÅ¢∆Ägpt›øﬁÉﬁàon;‰ÑÆf;ÏÄÄùïÄa;‰éôcr;ÊÑêilde;‰Ñ®«´ﬁö\0ﬁûcy;‰êÜlËÄª√è‰Éè Äcfosuﬁ¨ﬁ∑ﬁºﬂÇﬂêƒÄiyﬁ±ﬁµrc;‰Ñ¥;‰êôr;ÏÄÄùîçpf;ÏÄÄùïÅ«£ﬂá\0ﬂår;ÏÄÄùí•rcy;‰êàkcy;‰êÑŒÄHJacfosﬂ§ﬂ®ﬂ¨ﬂ±ﬂΩ‡†Ç‡†àcy;‰ê•cy;‰êåppa;‰éöƒÄeyﬂ∂ﬂªdil;‰Ñ∂;‰êör;ÏÄÄùîépf;ÏÄÄùïÇcr;ÏÄÄùí¶÷ÄJTaceflmost‡†•‡†©‡†¨‡°ê‡°£‡¶≥‡¶∏‡ßá‡ßç‡®∑‡©ácy;‰êâËÄª<‰Äº Äcmnpr‡†∑‡†º‡°Å‡°Ñ‡°çute;‰Ñπbda;‰éõg;Êü™lacetrf;ÊÑír;ÊÜû∆Äaey‡°ó‡°ú‡°°ron;‰ÑΩdil;‰Ñª;‰êõƒÄfs‡°®‡•∞t‘ÄACDFRTUVar‡°æ‡¢©‡¢±‡£†‡£¶‡£º‡§Ø‡•õŒê‡•™ƒÄnr‡¢É‡¢ègleBracket;Êü®row∆Ä;BR‡¢ô‡¢ö‡¢ûÊÜêar;Êá§ightArrow;ÊáÜeiling;Êåào«µ‡¢∑\0‡£ÉbleBracket;Êü¶n«î‡£à\0‡£íeeVector;Ê•°ectorƒÄ;B‡£õ‡£úÊáÉar;Ê•ôloor;ÊåäightƒÄAV‡£Ø‡£µrrow;ÊÜîector;Ê•éƒÄer‡§Å‡§óe∆Ä;AV‡§â‡§ä‡§êÊä£rrow;ÊÜ§ector;Ê•öiangle∆Ä;BE‡§§‡§•‡§©Êä≤ar;Êßèqual;Êä¥p∆ÄDTV‡§∑‡•Ç‡•åownVector;Ê•ëeeVector;Ê•†ectorƒÄ;B‡•ñ‡•óÊÜøar;Ê•òectorƒÄ;B‡••‡•¶ÊÜºar;Ê•íight√°ŒúsÃÄEFGLST‡•æ‡¶ã‡¶ï‡¶ù‡¶¢‡¶≠qualGreater;ÊãöullEqual;Êâ¶reater;Êâ∂ess;Ê™°lantEqual;Ê©Ωilde;Êâ≤r;ÏÄÄùîèƒÄ;e‡¶Ω‡¶æÊãòftarrow;Êáöidot;‰Ñø∆Änpw‡ßî‡®ñ‡®õg»ÄLRlr‡ßû‡ß∑‡®Ç‡®êeftƒÄAR‡ß¶‡ß¨rrow;ÊüµightArrow;Êü∑ightArrow;Êü∂eftƒÄarŒ≥‡®äight√°Œøight√°œäf;ÏÄÄùïÉerƒÄLR‡®¢‡®¨eftArrow;ÊÜôightArrow;ÊÜò∆Ächt‡®æ‡©Ä‡©Ç√≤‡°å;ÊÜ∞rok;‰ÖÅ;Êâ™–Äacefiosu‡©ö‡©ù‡©†‡©∑‡©º‡™Ö‡™ã‡™ép;Ê§Öy;‰êúƒÄdl‡©•‡©ØiumSpace;ÊÅülintrf;ÊÑ≥r;ÏÄÄùîênusPlus;Êàìpf;ÏÄÄùïÑc√≤‡©∂;‰éú“ÄJacefostu‡™£‡™ß‡™≠‡´Ä‡¨î‡¨ô‡∂ë‡∂ó‡∂ûcy;‰êäcute;‰ÖÉ∆Äaey‡™¥‡™π‡™æron;‰Öádil;‰ÖÖ;‰êù∆Ägsw‡´á‡´∞‡¨éative∆ÄMTV‡´ì‡´ü‡´®ediumSpace;ÊÄãhiƒÄcn‡´¶‡´ò√´‡´ôeryThi√Æ‡´ôtedƒÄGL‡´∏‡¨ÜreaterGreate√≤Ÿ≥essLes√≥‡©àLine;‰Äär;ÏÄÄùîë»ÄBnpt‡¨¢‡¨®‡¨∑‡¨∫reak;ÊÅ†BreakingSpace;‰Ç†f;ÊÑï⁄Ä;CDEGHLNPRSTV‡≠ï‡≠ñ‡≠™‡≠º‡Æ°‡Ø´‡∞Ñ‡±û‡≤Ñ‡≤¶‡≥ò‡µ°‡∂ÖÊ´¨ƒÄou‡≠õ‡≠§ngruent;Êâ¢pCap;Êâ≠oubleVerticalBar;Êà¶∆Älqx‡ÆÉ‡Æä‡Æõement;ÊàâualƒÄ;T‡Æí‡ÆìÊâ†ilde;ÏÄÄ‚âÇÃ∏ists;ÊàÑreaterŒÄ;EFGLST‡Æ∂‡Æ∑‡ÆΩ‡Øâ‡Øì‡Øò‡Ø•ÊâØqual;Êâ±ullEqual;ÏÄÄ‚âßÃ∏reater;ÏÄÄ‚â´Ã∏ess;ÊâπlantEqual;ÏÄÄ‚©æÃ∏ilde;Êâµump≈Ñ‡Ø≤‡ØΩownHump;ÏÄÄ‚âéÃ∏qual;ÏÄÄ‚âèÃ∏eƒÄfs‡∞ä‡∞ßtTriangle∆Ä;BE‡∞ö‡∞õ‡∞°Êã™ar;ÏÄÄ‚ßèÃ∏qual;Êã¨sÃÄ;EGLST‡∞µ‡∞∂‡∞º‡±Ñ‡±ã‡±òÊâÆqual;Êâ∞reater;Êâ∏ess;ÏÄÄ‚â™Ã∏lantEqual;ÏÄÄ‚©ΩÃ∏ilde;Êâ¥estedƒÄGL‡±®‡±πreaterGreater;ÏÄÄ‚™¢Ã∏essLess;ÏÄÄ‚™°Ã∏recedes∆Ä;ES‡≤í‡≤ì‡≤õÊäÄqual;ÏÄÄ‚™ØÃ∏lantEqual;Êã†ƒÄei‡≤´‡≤πverseElement;ÊàåghtTriangle∆Ä;BE‡≥ã‡≥å‡≥íÊã´ar;ÏÄÄ‚ßêÃ∏qual;Êã≠ƒÄqu‡≥ù‡¥åuareSuƒÄbp‡≥®‡≥πsetƒÄ;E‡≥∞‡≥≥ÏÄÄ‚äèÃ∏qual;Êã¢ersetƒÄ;E‡¥É‡¥ÜÏÄÄ‚äêÃ∏qual;Êã£∆Äbcp‡¥ì‡¥§‡µésetƒÄ;E‡¥õ‡¥ûÏÄÄ‚äÇ‚Éíqual;Êäàceeds»Ä;EST‡¥≤‡¥≥‡¥ª‡µÜÊäÅqual;ÏÄÄ‚™∞Ã∏lantEqual;Êã°ilde;ÏÄÄ‚âøÃ∏ersetƒÄ;E‡µò‡µõÏÄÄ‚äÉ‚Éíqual;Êäâilde»Ä;EFT‡µÆ‡µØ‡µµ‡µøÊâÅqual;ÊâÑullEqual;Êâáilde;ÊââerticalBar;Êà§cr;ÏÄÄùí©ildeËÄª√ë‰Éë;‰éù‹ÄEacdfgmoprstuv‡∂Ω‡∑Ç‡∑â‡∑ï‡∑õ‡∑†‡∑ß‡∑º‡∏Ç‡∏†‡∏¢‡∏≤‡∏ø‡πÑlig;‰ÖícuteËÄª√ì‰ÉìƒÄiy‡∑é‡∑ìrcËÄª√î‰Éî;‰êûblac;‰Öêr;ÏÄÄùîíraveËÄª√í‰Éí∆Äaei‡∑Æ‡∑≤‡∑∂cr;‰Öåga;‰é©cron;‰éüpf;ÏÄÄùïÜenCurlyƒÄDQ‡∏é‡∏öoubleQuote;ÊÄúuote;ÊÄò;Ê©îƒÄcl‡∏ß‡∏¨r;ÏÄÄùí™ashËÄª√ò‰Éòi≈¨‡∏∑‡∏ºdeËÄª√ï‰Éïes;Ê®∑mlËÄª√ñ‰ÉñerƒÄBP‡πã‡π†ƒÄar‡πê‡πìr;ÊÄæacƒÄek‡πö‡πú;Êèûet;Êé¥arenthesis;Êèú“Äacfhilors‡πø‡∫á‡∫ä‡∫è‡∫í‡∫î‡∫ù‡∫∞‡ªºrtialD;ÊàÇy;‰êür;ÏÄÄùîìi;‰é¶;‰é†usMinus;‰Ç±ƒÄip‡∫¢‡∫≠ncareplan√•⁄ùf;ÊÑô»Ä;eio‡∫π‡∫∫‡ª†‡ª§Ê™ªcedes»Ä;EST‡ªà‡ªâ‡ªè‡ªöÊâ∫qual;Ê™ØlantEqual;Êâºilde;Êâæme;ÊÄ≥ƒÄdp‡ª©‡ªÆuct;ÊàèortionƒÄ;a»•‡ªπl;ÊàùƒÄci‡ºÅ‡ºÜr;ÏÄÄùí´;‰é®»ÄUfos‡ºë‡ºñ‡ºõ‡ºüOTËÄª"‰Ä¢r;ÏÄÄùîîpf;ÊÑöcr;ÏÄÄùí¨ÿÄBEacefhiorsu‡ºæ‡ΩÉ‡Ωá‡Ω†‡Ω≥‡æß‡æ™‡æ≠·Çñ·Ç©·Ç¥·Çæarr;Ê§êGËÄª¬Æ‰ÇÆ∆Äcnr‡Ωé‡Ωì‡Ωñute;‰Öîg;Êü´rƒÄ;t‡Ωú‡ΩùÊÜ†l;Ê§ñ∆Äaey‡Ωß‡Ω¨‡Ω±ron;‰Öòdil;‰Öñ;‰ê†ƒÄ;v‡Ω∏‡ΩπÊÑúerseƒÄEU‡æÇ‡æôƒÄlq‡æá‡æéement;Êàãuilibrium;ÊáãpEquilibrium;Ê•Ør¬ª‡Ωπo;‰é°ght–ÄACDFTUVa‡øÅ‡ø´‡ø≥·Ä¢·Ä®·Åõ·ÇáœòƒÄnr‡øÜ‡øígleBracket;Êü©row∆Ä;BL‡øú‡øù‡ø°ÊÜíar;Êá•eftArrow;ÊáÑeiling;Êåâo«µ‡øπ\0·ÄÖbleBracket;Êüßn«î·Ää\0·ÄîeeVector;Ê•ùectorƒÄ;B·Äù·ÄûÊáÇar;Ê•ïloor;ÊåãƒÄer·Ä≠·ÅÉe∆Ä;AV·Äµ·Ä∂·ÄºÊä¢rrow;ÊÜ¶ector;Ê•õiangle∆Ä;BE·Åê·Åë·ÅïÊä≥ar;Êßêqual;Êäµp∆ÄDTV·Å£·ÅÆ·Å∏ownVector;Ê•èeeVector;Ê•úectorƒÄ;B·ÇÇ·ÇÉÊÜæar;Ê•îectorƒÄ;B·Çë·ÇíÊáÄar;Ê•ìƒÄpu·Çõ·Çûf;ÊÑùndImplies;Ê•∞ightarrow;ÊáõƒÄch·Çπ·Çºr;ÊÑõ;ÊÜ±leDelayed;Êß¥⁄ÄHOacfhimoqstu·É§·É±·É∑·ÉΩ·Ñô·Ñû·Öë·Öñ·Ö°·Öß·Üµ·Üª·ÜøƒÄCc·É©·ÉÆHcy;‰ê©y;‰ê®FTcy;‰ê¨cute;‰Öö Ä;aeiy·Ñà·Ñâ·Ñé·Ñì·ÑóÊ™ºron;‰Ö†dil;‰Öûrc;‰Öú;‰ê°r;ÏÄÄùîñort»ÄDLRU·Ñ™·Ñ¥·Ñæ·ÖâownArrow¬ª–ûeftArrow¬ª‡¢öightArrow¬ª‡øùpArrow;ÊÜëgma;‰é£allCircle;Êàòpf;ÏÄÄùïä…≤·Ö≠\0\0·Ö∞t;Êàöare»Ä;ISU·Öª·Öº·Üâ·ÜØÊñ°ntersection;ÊäìuƒÄbp·Üè·ÜûsetƒÄ;E·Üó·ÜòÊäèqual;ÊäëersetƒÄ;E·Ü®·Ü©Êäêqual;Êäínion;Êäîcr;ÏÄÄùíÆar;ÊãÜ»Äbcmp·áà·áõ·àâ·àãƒÄ;s·áç·áéÊãêetƒÄ;E·áç·áïqual;ÊäÜƒÄch·á†·àÖeeds»Ä;EST·á≠·áÆ·á¥·áøÊâªqual;Ê™∞lantEqual;ÊâΩilde;ÊâøTh√°‡æå;Êàë∆Ä;es·àí·àì·à£ÊãërsetƒÄ;E·àú·àùÊäÉqual;Êäáet¬ª·àì÷ÄHRSacfhiors·àæ·âÑ·ââ·âï·âû·â±·â∂·äü·ãÇ·ãà·ãëORNËÄª√û‰ÉûADE;ÊÑ¢ƒÄHc·âé·âícy;‰êãy;‰ê¶ƒÄbu·âö·âú;‰Äâ;‰é§∆Äaey·â•·â™·âØron;‰Ö§dil;‰Ö¢;‰ê¢r;ÏÄÄùîóƒÄei·âª·äâ«≤·äÄ\0·äáefore;Êà¥a;‰éòƒÄcn·äé·äòkSpace;ÏÄÄ‚Åü‚ÄäSpace;ÊÄâlde»Ä;EFT·ä´·ä¨·ä≤·äºÊàºqual;ÊâÉullEqual;ÊâÖilde;Êâàpf;ÏÄÄùïãipleDot;ÊÉõƒÄct·ãñ·ãõr;ÏÄÄùíØrok;‰Ö¶‡´°·ã∑·åé·åö·å¶\0·å¨·å±\0\0\0\0\0·å∏·åΩ·ç∑·éÖ\0·èø·êÑ·êä·êêƒÄcr·ãª·åÅuteËÄª√ö‰ÉörƒÄ;o·åá·åàÊÜücir;Ê•âr«£·åì\0·åñy;‰êéve;‰Ö¨ƒÄiy·åû·å£rcËÄª√õ‰Éõ;‰ê£blac;‰Ö∞r;ÏÄÄùîòraveËÄª√ô‰Éôacr;‰Ö™ƒÄdi·çÅ·ç©erƒÄBP·çà·çùƒÄar·çç·çêr;‰ÅüacƒÄek·çó·çô;Êèüet;Êéµarenthesis;ÊèùonƒÄ;P·ç∞·ç±ÊãÉlus;ÊäéƒÄgp·çª·çøon;‰Ö≤f;ÏÄÄùïå–ÄADETadps·éï·éÆ·é∏·èÑœ®·èí·èó·è≥rrow∆Ä;BD·Öê·é†·é§ar;Ê§íownArrow;ÊáÖownArrow;ÊÜïquilibrium;Ê•ÆeeƒÄ;A·èã·èåÊä•rrow;ÊÜ•own√°œ≥erƒÄLR·èû·è®eftArrow;ÊÜñightArrow;ÊÜóiƒÄ;l·èπ·è∫‰èíon;‰é•ing;‰ÖÆcr;ÏÄÄùí∞ilde;‰Ö®mlËÄª√ú‰Éú“ÄDbcdefosv·êß·ê¨·ê∞·ê≥·êæ·íÖ·íä·íê·íñash;Êä´ar;Ê´´y;‰êíashƒÄ;l·êª·êºÊä©;Ê´¶ƒÄer·ëÉ·ëÖ;ÊãÅ∆Äbty·ëå·ëê·ë∫ar;ÊÄñƒÄ;i·ëè·ëïcal»ÄBLST·ë°·ë•·ë™·ë¥ar;Êà£ine;‰Åºeparator;Êùòilde;ÊâÄThinSpace;ÊÄär;ÏÄÄùîôpf;ÏÄÄùïçcr;ÏÄÄùí±dash;Êä™ Äcefos·íß·í¨·í±·í∂·íºirc;‰Ö¥dge;ÊãÄr;ÏÄÄùîöpf;ÏÄÄùïécr;ÏÄÄùí≤»Äfios·ìã·ìê·ìí·ìòr;ÏÄÄùîõ;‰éûpf;ÏÄÄùïècr;ÏÄÄùí≥“ÄAIUacfosu·ì±·ìµ·ìπ·ìΩ·îÑ·îè·îî·îö·î†cy;‰êØcy;‰êácy;‰êÆcuteËÄª√ù‰ÉùƒÄiy·îâ·îçrc;‰Ö∂;‰ê´r;ÏÄÄùîúpf;ÏÄÄùïêcr;ÏÄÄùí¥ml;‰Ö∏–ÄHacdefos·îµ·îπ·îø·ïã·ïè·ïù·ï†·ï§cy;‰êñcute;‰ÖπƒÄay·ïÑ·ïâron;‰ÖΩ;‰êóot;‰Öª«≤·ïî\0·ïõoWidt√®‡´ôa;‰éñr;ÊÑ®pf;ÊÑ§cr;ÏÄÄùíµ‡Ø°·ñÉ·ñä·ñê\0·ñ∞·ñ∂·ñø\0\0\0\0·óÜ·óõ·ó´·ôü·ô≠\0·öï·öõ·ö≤·öπ\0·öæcuteËÄª√°‰É°reve;‰ÑÉÃÄ;Ediuy·ñú·ñù·ñ°·ñ£·ñ®·ñ≠Êàæ;ÏÄÄ‚àæÃ≥;ÊàørcËÄª√¢‰É¢teËÇª¬¥ÃÜ;‰ê∞ligËÄª√¶‰É¶ƒÄ;r¬≤·ñ∫;ÏÄÄùîûraveËÄª√†‰É†ƒÄep·óä·óñƒÄfp·óè·óîsym;ÊÑµ√®·óìha;‰é±ƒÄap·óücƒÄcl·ó§·óßr;‰ÑÅg;Ê®ø…§·ó∞\0\0·òä Ä;adsv·ó∫·óª·óø·òÅ·òáÊàßnd;Ê©ï;Ê©úlope;Ê©ò;Ê©öŒÄ;elmrsz·òò·òô·òõ·òû·òø·ôè·ôôÊà†;Ê¶§e¬ª·òôsdƒÄ;a·ò•·ò¶Êà°—°·ò∞·ò≤·ò¥·ò∂·ò∏·ò∫·òº·òæ;Ê¶®;Ê¶©;Ê¶™;Ê¶´;Ê¶¨;Ê¶≠;Ê¶Æ;Ê¶ØtƒÄ;v·ôÖ·ôÜÊàübƒÄ;d·ôå·ôçÊäæ;Ê¶ùƒÄpt·ôî·ôóh;Êà¢¬ª¬πarr;ÊçºƒÄgp·ô£·ôßon;‰ÑÖf;ÏÄÄùïíŒÄ;Eaeiop·ãÅ·ôª·ôΩ·öÇ·öÑ·öá·öä;Ê©∞cir;Ê©Ø;Êâäd;Êâãs;‰ÄßroxƒÄ;e·ãÅ·öí√±·öÉingËÄª√•‰É•∆Äcty·ö°·ö¶·ö®r;ÏÄÄùí∂;‰Ä™mpƒÄ;e·ãÅ·öØ√± àildeËÄª√£‰É£mlËÄª√§‰É§ƒÄci·õÇ·õàonin√¥…≤nt;Ê®ë‡†ÄNabcdefiklnoprsu·õ≠·õ±·ú∞·úº·ùÉ·ùà·ù∏·ùΩ·ü†·ü¶·†π·°ê·úç·§Ω·•à·•∞ot;Ê´≠ƒÄcr·õ∂·úûk»Äceps·úÄ·úÖ·úç·úìong;Êâåpsilon;‰è∂rime;ÊÄµimƒÄ;e·úö·úõÊàΩq;Êãç≈∂·ú¢·ú¶ee;ÊäΩedƒÄ;g·ú¨·ú≠ÊåÖe¬ª·ú≠rkƒÄ;t·çú·ú∑brk;Êé∂ƒÄoy·úÅ·ùÅ;‰ê±quo;ÊÄû Äcmprt·ùì·ùõ·ù°·ù§·ù®ausƒÄ;eƒäƒâptyv;Ê¶∞s√©·úåno√µƒì∆Äahw·ùØ·ù±·ù≥;‰é≤;ÊÑ∂een;Êâ¨r;ÏÄÄùîügŒÄcostuvw·ûç·ûù·û≥·üÅ·üï·üõ·üû∆Äaiu·ûî·ûñ·ûö√∞›†rc;ÊóØp¬ª·ç±∆Ädpt·û§·û®·û≠ot;Ê®Älus;Ê®Åimes;Ê®Ç…±·ûπ\0\0·ûæcup;Ê®Üar;ÊòÖriangleƒÄdu·üç·üíown;ÊñΩp;Êñ≥plus;Ê®Ñe√•·ëÑ√•·í≠arow;Ê§ç∆Äako·ü≠·†¶·†µƒÄcn·ü≤·†£k∆Älst·ü∫÷´·†Çozenge;Êß´riangle»Ä;dlr·†í·†ì·†ò·†ùÊñ¥own;Êñæeft;ÊóÇight;Êñ∏k;Êê£∆±·†´\0·†≥∆≤·†Ø\0·†±;Êñí;Êñë4;Êñìck;ÊñàƒÄeo·†æ·°çƒÄ;q·°É·°ÜÏÄÄ=‚É•uiv;ÏÄÄ‚â°‚É•t;Êåê»Äptwx·°ô·°û·°ß·°¨f;ÏÄÄùïìƒÄ;t·èã·°£om¬ª·èåtie;ÊãàÿÄDHUVbdhmptuv·¢Ö·¢ñ·¢™·¢ª·£ó·£õ·£¨·£ø·§Ö·§ä·§ê·§°»ÄLRlr·¢é·¢ê·¢í·¢î;Êïó;Êïî;Êïñ;Êïì Ä;DUdu·¢°·¢¢·¢§·¢¶·¢®Êïê;Êï¶;Êï©;Êï§;Êïß»ÄLRlr·¢≥·¢µ·¢∑·¢π;Êïù;Êïö;Êïú;ÊïôŒÄ;HLRhlr·£ä·£ã·£ç·£è·£ë·£ì·£ïÊïë;Êï¨;Êï£;Êï†;Êï´;Êï¢;Êïüox;Êßâ»ÄLRlr·£§·£¶·£®·£™;Êïï;Êïí;Êîê;Êîå Ä;DUdu⁄Ω·£∑·£π·£ª·£Ω;Êï•;Êï®;Êî¨;Êî¥inus;Êäülus;Êäûimes;Êä†»ÄLRlr·§ô·§õ·§ù·§ü;Êïõ;Êïò;Êîò;ÊîîŒÄ;HLRhlr·§∞·§±·§≥·§µ·§∑·§π·§ªÊîÇ;Êï™;Êï°;Êïû;Êîº;Êî§;ÊîúƒÄevƒ£·•ÇbarËÄª¬¶‰Ç¶»Äceio·•ë·•ñ·•ö·•†r;ÏÄÄùí∑mi;ÊÅèmƒÄ;e·úö·úúl∆Ä;bh·•®·•©·•´‰Åú;ÊßÖsub;Êüà≈¨·•¥·•ælƒÄ;e·•π·•∫ÊÄ¢t¬ª·•∫p∆Ä;EeƒØ·¶Ö·¶á;Ê™ÆƒÄ;q€ú€õ‡≥°·¶ß\0·ß®·®ë·®ï·®≤\0·®∑·©ê\0\0·™¥\0\0·´Å\0\0·¨°·¨Æ·≠ç·≠í\0·ØΩ\0·∞å∆Äcpr·¶≠·¶≤·ßùute;‰ÑáÃÄ;abcds·¶ø·ßÄ·ßÑ·ßä·ßï·ßôÊà©nd;Ê©Ñrcup;Ê©âƒÄau·ßè·ßíp;Ê©ãp;Ê©áot;Ê©Ä;ÏÄÄ‚à©Ô∏ÄƒÄeo·ß¢·ß•t;ÊÅÅ√Æ⁄ì»Äaeiu·ß∞·ßª·®Å·®Ö«∞·ßµ\0·ß∏s;Ê©çon;‰ÑçdilËÄª√ß‰Éßrc;‰ÑâpsƒÄ;s·®å·®çÊ©åm;Ê©êot;‰Ñã∆Ädmn·®õ·®†·®¶ilËÇª¬∏∆≠ptyv;Ê¶≤tËÑÄ¬¢;e·®≠·®Æ‰Ç¢r√§∆≤r;ÏÄÄùî†∆Äcei·®Ω·©Ä·©çy;‰ëáckƒÄ;m·©á·©àÊúìark¬ª·©à;‰èárŒÄ;Ecefms·©ü·©†·©¢·©´·™§·™™·™ÆÊóã;ÊßÉ∆Ä;el·©©·©™·©≠‰ãÜq;Êâóe…°·©¥\0\0·™àrrowƒÄlr·©º·™Åeft;ÊÜ∫ight;ÊÜª ÄRSacd·™í·™î·™ñ·™ö·™ü¬ª‡Ωá;Êìàst;Êäõirc;Êäöash;Êäùnint;Ê®êid;Ê´Øcir;ÊßÇubsƒÄ;u·™ª·™ºÊô£it¬ª·™ºÀ¨·´á·´î·´∫\0·¨äonƒÄ;e·´ç·´é‰Ä∫ƒÄ;q√á√Ü…≠·´ô\0\0·´¢aƒÄ;t·´û·´ü‰Ä¨;‰ÅÄ∆Ä;fl·´®·´©·´´ÊàÅ√Æ·Ö†eƒÄmx·´±·´∂ent¬ª·´©e√≥…ç«ß·´æ\0·¨áƒÄ;d·äª·¨Çot;Ê©≠n√¥…Ü∆Äfry·¨ê·¨î·¨ó;ÏÄÄùïîo√§…îËÑÄ¬©;s≈ï·¨ùr;ÊÑóƒÄao·¨•·¨©rr;ÊÜµss;ÊúóƒÄcu·¨≤·¨∑r;ÏÄÄùí∏ƒÄbp·¨º·≠ÑƒÄ;e·≠Å·≠ÇÊ´è;Ê´ëƒÄ;e·≠â·≠äÊ´ê;Ê´ídot;ÊãØŒÄdelprvw·≠†·≠¨·≠∑·ÆÇ·Æ¨·Øî·ØπarrƒÄlr·≠®·≠™;Ê§∏;Ê§µ…∞·≠≤\0\0·≠µr;Êãûc;ÊãüarrƒÄ;p·≠ø·ÆÄÊÜ∂;Ê§ΩÃÄ;bcdos·Æè·Æê·Æñ·Æ°·Æ•·Æ®Êà™rcap;Ê©àƒÄau·Æõ·Æûp;Ê©Üp;Ê©äot;Êäçr;Ê©Ö;ÏÄÄ‚à™Ô∏Ä»Äalrv·Æµ·Æø·Øû·Ø£rrƒÄ;m·Æº·ÆΩÊÜ∑;Ê§ºy∆Äevw·Øá·Øî·Øòq…∞·Øé\0\0·Øíre√£·≠≥u√£·≠µee;Êãéedge;ÊãèenËÄª¬§‰Ç§earrowƒÄlr·ØÆ·Ø≥eft¬ª·ÆÄight¬ª·ÆΩe√§·ØùƒÄci·∞Å·∞áonin√¥«∑nt;Êà±lcty;Êå≠‡¶ÄAHabcdefhijlorstuwz·∞∏·∞ª·∞ø·±ù·±©·±µ·≤ä·≤û·≤¨·≤∑·≥ª·≥ø·¥ç·µª·∂ë·∂´·∂ª·∑Ü·∑çr√≤ŒÅar;Ê••»Äglrs·±à·±ç·±í·±îger;ÊÄ†eth;ÊÑ∏√≤·Ñ≥hƒÄ;v·±ö·±õÊÄê¬ª‡§ä≈´·±°·±ßarow;Ê§èa√£ÃïƒÄay·±Æ·±≥ron;‰Ñè;‰ê¥∆Ä;aoÃ≤·±º·≤ÑƒÄgr ø·≤År;Êáätseq;Ê©∑∆Äglm·≤ë·≤î·≤òËÄª¬∞‰Ç∞ta;‰é¥ptyv;Ê¶±ƒÄir·≤£·≤®sht;Ê•ø;ÏÄÄùî°arƒÄlr·≤≥·≤µ¬ª‡£ú¬ª·Äû Äaegsv·≥ÇÕ∏·≥ñ·≥ú·≥†m∆Ä;osÃ¶·≥ä·≥îndƒÄ;sÃ¶·≥ëuit;Êô¶amma;‰èùin;Êã≤∆Ä;io·≥ß·≥®·≥∏‰É∑deËÑÄ√∑;o·≥ß·≥∞ntimes;Êãán√∏·≥∑cy;‰ëíc…Ø·¥Ü\0\0·¥ärn;Êåûop;Êåç Älptuw·¥ò·¥ù·¥¢·µâ·µïlar;‰Ä§f;ÏÄÄùïï Ä;empsÃã·¥≠·¥∑·¥Ω·µÇqƒÄ;dÕí·¥≥ot;Êâëinus;Êà∏lus;Êàîquare;Êä°blebarwedg√•√∫n∆Äadh·ÑÆ·µù·µßownarrow√≥·≤ÉarpoonƒÄlr·µ≤·µ∂ef√¥·≤¥igh√¥·≤∂≈¢·µø·∂Ökaro√∑‡ΩÇ…Ø·∂ä\0\0·∂érn;Êåüop;Êåå∆Äcot·∂ò·∂£·∂¶ƒÄry·∂ù·∂°;ÏÄÄùíπ;‰ëïl;Êß∂rok;‰ÑëƒÄdr·∂∞·∂¥ot;Êã±iƒÄ;f·∂∫·†ñÊñøƒÄah·∑Ä·∑Ér√≤–©a√≤‡æ¶angle;Ê¶¶ƒÄci·∑í·∑ïy;‰ëügrarr;Êüø‡§ÄDacdefglmnopqrstux·∏Å·∏â·∏ô·∏∏’∏·∏º·πâ·π°·πæ·∫•·∫Ø·∫Ω·ª°·º™·º∑·ΩÑ·Ωé·ΩöƒÄDo·∏Ü·¥¥o√¥·≤âƒÄcs·∏é·∏îuteËÄª√©‰É©ter;Ê©Æ»Äaioy·∏¢·∏ß·∏±·∏∂ron;‰ÑõrƒÄ;c·∏≠·∏ÆÊâñËÄª√™‰É™lon;Êâï;‰ëçot;‰ÑóƒÄDr·πÅ·πÖot;Êâí;ÏÄÄùî¢∆Ä;rs·πê·πë·πóÊ™öaveËÄª√®‰É®ƒÄ;d·πú·πùÊ™ñot;Ê™ò»Ä;ils·π™·π´·π≤·π¥Ê™ônters;Êèß;ÊÑìƒÄ;d·ππ·π∫Ê™ïot;Ê™ó∆Äaps·∫Ö·∫â·∫ócr;‰Ñìty∆Ä;sv·∫í·∫ì·∫ïÊàÖet¬ª·∫ìpƒÄ1;·∫ù·∫§ƒ≥·∫°·∫£;ÊÄÑ;ÊÄÖÊÄÉƒÄgs·∫™·∫¨;‰Öãp;ÊÄÇƒÄgp·∫¥·∫∏on;‰Ñôf;ÏÄÄùïñ∆Äals·ªÑ·ªé·ªírƒÄ;s·ªä·ªãÊãïl;Êß£us;Ê©±i∆Ä;lv·ªö·ªõ·ªü‰éµon¬ª·ªõ;‰èµ»Äcsuv·ª™·ª≥·ºã·º£ƒÄio·ªØ·∏±rc¬ª·∏Æ…©·ªπ\0\0·ªª√≠’àantƒÄgl·ºÇ·ºÜtr¬ª·πùess¬ª·π∫∆Äaei·ºí·ºñ·ºöls;‰ÄΩst;ÊâüvƒÄ;D»µ·º†D;Ê©∏parsl;Êß•ƒÄDa·ºØ·º≥ot;Êâìrr;Ê•±∆Äcdi·ºæ·ΩÅ·ª∏r;ÊÑØo√¥ÕíƒÄah·Ωâ·Ωã;‰é∑ËÄª√∞‰É∞ƒÄmr·Ωì·ΩólËÄª√´‰É´o;ÊÇ¨∆Äcip·Ω°·Ω§·Ωßl;‰Ä°s√¥’ÆƒÄeo·Ω¨·Ω¥ctatio√Æ’ônential√•’π‡ß°·æí\0·æû\0·æ°·æß\0\0·øÜ·øå\0·øì\0·ø¶·ø™‚ÄÄ\0‚Äà‚Åöllingdotse√±·πÑy;‰ëÑmale;ÊôÄ∆Äilr·æ≠·æ≥·øÅlig;ËÄÄÔ¨É…©·æπ\0\0·æΩg;ËÄÄÔ¨Äig;ËÄÄÔ¨Ñ;ÏÄÄùî£lig;ËÄÄÔ¨Ålig;ÏÄÄfj∆Äalt·øô·øú·ø°t;Êô≠ig;ËÄÄÔ¨Çns;Êñ±of;‰Üí«∞·øÆ\0·ø≥f;ÏÄÄùïóƒÄak÷ø·ø∑ƒÄ;v·øº·øΩÊãî;Ê´ôartint;Ê®çƒÄao‚Äå‚ÅïƒÄcs‚Äë‚ÅíŒ±‚Äö‚Ä∞‚Ä∏‚ÅÖ‚Åà\0‚ÅêŒ≤‚Ä¢‚Ä•‚Äß‚Ä™‚Ä¨\0‚ÄÆËÄª¬Ω‰ÇΩ;ÊÖìËÄª¬º‰Çº;ÊÖï;ÊÖô;ÊÖõ∆≥‚Ä¥\0‚Ä∂;ÊÖî;ÊÖñ ¥‚Äæ‚ÅÅ\0\0‚ÅÉËÄª¬æ‰Çæ;ÊÖó;ÊÖú5;ÊÖò∆∂‚Åå\0‚Åé;ÊÖö;ÊÖù8;ÊÖûl;ÊÅÑwn;Êå¢cr;ÏÄÄùíª‡¢ÄEabcdefgijlnorstv‚ÇÇ‚Çâ‚Çü‚Ç•‚Ç∞‚Ç¥‚É∞‚Éµ‚É∫‚Éø‚ÑÉ‚Ñí‚Ñ∏Ãó‚Ñæ‚Öí‚ÜûƒÄ;lŸç‚Çá;Ê™å∆Äcmp‚Çê‚Çï‚Çùute;‰áµmaƒÄ;d‚Çú·≥ö‰é≥;Ê™Üreve;‰ÑüƒÄiy‚Ç™‚ÇÆrc;‰Ñù;‰ê≥ot;‰Ñ°»Ä;lqsÿæŸÇ‚ÇΩ‚Éâ∆Ä;qsÿæŸå‚ÉÑlan√¥Ÿ•»Ä;cdlŸ•‚Éí‚Éï‚É•c;Ê™©otƒÄ;o‚Éú‚ÉùÊ™ÄƒÄ;l‚É¢‚É£Ê™Ç;Ê™ÑƒÄ;e‚É™‚É≠ÏÄÄ‚ãõÔ∏Äs;Ê™îr;ÏÄÄùî§ƒÄ;gŸ≥ÿõmel;ÊÑ∑cy;‰ëì»Ä;EajŸö‚Ñå‚Ñé‚Ñê;Ê™í;Ê™•;Ê™§»ÄEaes‚Ñõ‚Ñù‚Ñ©‚Ñ¥;Êâ©pƒÄ;p‚Ñ£‚Ñ§Ê™ärox¬ª‚Ñ§ƒÄ;q‚ÑÆ‚ÑØÊ™àƒÄ;q‚ÑÆ‚Ñõim;Êãßpf;ÏÄÄùïòƒÄci‚ÖÉ‚ÖÜr;ÊÑäm∆Ä;elŸ´‚Öé‚Öê;Ê™é;Ê™êËåÄ>;cdlqr◊Æ‚Ö†‚Ö™‚ÖÆ‚Ö≥‚ÖπƒÄci‚Ö•‚Öß;Ê™ßr;Ê©∫ot;ÊãóPar;Ê¶ïuest;Ê©º Äadels‚ÜÑ‚Ö™‚ÜêŸñ‚Üõ«∞‚Üâ\0‚Üépro√∏‚Çûr;Ê•∏qƒÄlqÿø‚Üñles√≥‚Çài√≠Ÿ´ƒÄen‚Ü£‚Ü≠rtneqq;ÏÄÄ‚â©Ô∏Ä√Ö‚Ü™‘ÄAabcefkosy‚áÑ‚áá‚á±‚áµ‚á∫‚àò‚àù‚àØ‚â®‚âΩr√≤Œ†»Äilmr‚áê‚áî‚áó‚áõrs√∞·íÑf¬ª‚Ä§il√¥⁄©ƒÄdr‚á†‚á§cy;‰ëä∆Ä;cw‡£¥‚á´‚áØir;Ê•à;ÊÜ≠ar;ÊÑèirc;‰Ñ•∆Äalr‚àÅ‚àé‚àìrtsƒÄ;u‚àâ‚àäÊô•it¬ª‚àälip;ÊÄ¶con;Êäπr;ÏÄÄùî•sƒÄew‚à£‚à©arow;Ê§•arow;Ê§¶ Äamopr‚à∫‚àæ‚âÉ‚âû‚â£rr;Êáøtht;ÊàªkƒÄlr‚ââ‚âìeftarrow;ÊÜ©ightarrow;ÊÜ™f;ÏÄÄùïôbar;ÊÄï∆Äclt‚âØ‚â¥‚â∏r;ÏÄÄùíΩas√®‚á¥rok;‰ÑßƒÄbp‚äÇ‚äáull;ÊÅÉhen¬ª·±õ‡´°‚ä£\0‚ä™\0‚ä∏‚ãÖ‚ãé\0‚ãï‚ã≥\0\0‚ã∏‚å¢‚çß‚ç¢‚çø\0‚éÜ‚é™‚é¥cuteËÄª√≠‰É≠∆Ä;iy›±‚ä∞‚äµrcËÄª√Æ‰ÉÆ;‰ê∏ƒÄcx‚äº‚äøy;‰êµclËÄª¬°‰Ç°ƒÄfrŒü‚ãâ;ÏÄÄùî¶raveËÄª√¨‰É¨»Ä;ino‹æ‚ãù‚ã©‚ãÆƒÄin‚ã¢‚ã¶nt;Ê®åt;Êà≠fin;Êßúta;ÊÑ©lig;‰Ñ≥∆Äaop‚ãæ‚åö‚åù∆Äcgt‚åÖ‚åà‚åór;‰Ñ´∆Äelp‹ü‚åè‚åìin√•ﬁéar√¥‹†h;‰Ñ±f;Êä∑ed;‰Üµ Ä;cfot”¥‚å¨‚å±‚åΩ‚çÅare;ÊÑÖinƒÄ;t‚å∏‚åπÊàûie;Êßùdo√¥‚åô Ä;celp›ó‚çå‚çê‚çõ‚ç°al;Êä∫ƒÄgr‚çï‚çôer√≥·ï£√£‚ççarhk;Ê®órod;Ê®º»Äcgpt‚çØ‚ç≤‚ç∂‚çªy;‰ëëon;‰ÑØf;ÏÄÄùïöa;‰éπuestËÄª¬ø‰ÇøƒÄci‚éä‚éèr;ÏÄÄùíæn Ä;Edsv”¥‚éõ‚éù‚é°”≥;Êãπot;ÊãµƒÄ;v‚é¶‚éßÊã¥;Êã≥ƒÄ;i›∑‚éÆlde;‰Ñ©«´‚é∏\0‚éºcy;‰ëñlËÄª√Ø‰ÉØÃÄcfmosu‚èå‚èó‚èú‚è°‚èß‚èµƒÄiy‚èë‚èïrc;‰Ñµ;‰êπr;ÏÄÄùîßath;‰à∑pf;ÏÄÄùïõ«£‚è¨\0‚è±r;ÏÄÄùíørcy;‰ëòkcy;‰ëî–Äacfghjos‚êã‚êñ‚ê¢‚êß‚ê≠‚ê±‚êµ‚êªppaƒÄ;v‚êì‚êî‰é∫;‰è∞ƒÄey‚êõ‚ê†dil;‰Ñ∑;‰ê∫r;ÏÄÄùî®reen;‰Ñ∏cy;‰ëÖcy;‰ëúpf;ÏÄÄùïúcr;ÏÄÄùìÄ‡ÆÄABEHabcdefghjlmnoprstuv‚ë∞‚íÅ‚íÜ‚íç‚íë‚îé‚îΩ‚ïö‚ñÄ‚ôé‚ôû‚ô•‚ôπ‚ôΩ‚öö‚ö≤‚õò‚ùù‚ù®‚ûã‚üÄ‚†Å‚†í∆Äart‚ë∑‚ë∫‚ëºr√≤‡ßÜ√≤Œïail;Ê§õarr;Ê§éƒÄ;g‡¶î‚íã;Ê™ãar;Ê•¢‡•£‚í•\0‚í™\0‚í±\0\0\0\0\0‚íµ‚í∫\0‚ìÜ‚ìà‚ìç\0‚ìπute;‰Ñ∫mptyv;Ê¶¥ra√Æ‡°åbda;‰éªg∆Ä;dl‡¢é‚ìÅ‚ìÉ;Ê¶ë√•‡¢é;Ê™ÖuoËÄª¬´‰Ç´r–Ä;bfhlpst‡¢ô‚ìû‚ì¶‚ì©‚ì´‚ìÆ‚ì±‚ìµƒÄ;f‡¢ù‚ì£s;Ê§üs;Ê§ù√´‚âíp;ÊÜ´l;Ê§πim;Ê•≥l;ÊÜ¢∆Ä;ae‚ìø‚îÄ‚îÑÊ™´il;Ê§ôƒÄ;s‚îâ‚îäÊ™≠;ÏÄÄ‚™≠Ô∏Ä∆Äabr‚îï‚îô‚îùrr;Ê§årk;Êù≤ƒÄak‚î¢‚î¨cƒÄek‚î®‚î™;‰Åª;‰ÅõƒÄes‚î±‚î≥;Ê¶ãlƒÄdu‚îπ‚îª;Ê¶è;Ê¶ç»Äaeuy‚ïÜ‚ïã‚ïñ‚ïòron;‰ÑæƒÄdi‚ïê‚ïîil;‰Ñº√¨‡¢∞√¢‚î©;‰êª»Äcqrs‚ï£‚ï¶‚ï≠‚ïΩa;Ê§∂uoƒÄ;r‡∏ô·ùÜƒÄdu‚ï≤‚ï∑har;Ê•ßshar;Ê•ãh;ÊÜ≤ Ä;fgqs‚ñã‚ñå‡¶â‚ó≥‚óøÊâ§t Äahlrt‚ñò‚ñ§‚ñ∑‚óÇ‚ó®rrowƒÄ;t‡¢ô‚ñ°a√©‚ì∂arpoonƒÄdu‚ñØ‚ñ¥own¬ª—öp¬ª‡•¶eftarrows;Êááight∆Äahs‚óç‚óñ‚óûrrowƒÄ;s‡£¥‡¢ßarpoon√≥‡æòquigarro√∑‚á∞hreetimes;Êãã∆Ä;qs‚ñã‡¶ì‚ó∫lan√¥‡¶¨ Ä;cdgs‡¶¨‚òä‚òç‚òù‚ò®c;Ê™®otƒÄ;o‚òî‚òïÊ©øƒÄ;r‚òö‚òõÊ™Å;Ê™ÉƒÄ;e‚ò¢‚ò•ÏÄÄ‚ãöÔ∏Äs;Ê™ì Äadegs‚ò≥‚òπ‚òΩ‚ôâ‚ôãppro√∏‚ìÜot;ÊãñqƒÄgq‚ôÉ‚ôÖ√¥‡¶âgt√≤‚íå√¥‡¶õi√≠‡¶≤∆Äilr‚ôï‡£°‚ôösht;Ê•º;ÏÄÄùî©ƒÄ;E‡¶ú‚ô£;Ê™ë≈°‚ô©‚ô∂rƒÄdu‚ñ≤‚ôÆƒÄ;l‡••‚ô≥;Ê•™lk;ÊñÑcy;‰ëô Ä;acht‡©à‚öà‚öã‚öë‚öñr√≤‚óÅorne√≤·¥àard;Ê•´ri;Êó∫ƒÄio‚öü‚ö§dot;‰ÖÄustƒÄ;a‚ö¨‚ö≠Êé∞che¬ª‚ö≠»ÄEaes‚öª‚öΩ‚õâ‚õî;Êâ®pƒÄ;p‚õÉ‚õÑÊ™ârox¬ª‚õÑƒÄ;q‚õé‚õèÊ™áƒÄ;q‚õé‚öªim;Êã¶–Äabnoptwz‚õ©‚õ¥‚õ∑‚úö‚úØ‚ùÅ‚ùá‚ùêƒÄnr‚õÆ‚õ±g;Êü¨r;ÊáΩr√´‡£Åg∆Älmr‚õø‚úç‚úîeftƒÄar‡ß¶‚úáight√°‡ß≤apsto;Êüºight√°‡ßΩparrowƒÄlr‚ú•‚ú©ef√¥‚ì≠ight;ÊÜ¨∆Äafl‚ú∂‚úπ‚úΩr;Ê¶Ö;ÏÄÄùïùus;Ê®≠imes;Ê®¥≈°‚ùã‚ùèst;Êàó√°·çé∆Ä;ef‚ùó‚ùò·†ÄÊóänge¬ª‚ùòarƒÄ;l‚ù§‚ù•‰Ä®t;Ê¶ì Äachmt‚ù≥‚ù∂‚ùº‚ûÖ‚ûár√≤‡¢®orne√≤·∂åarƒÄ;d‡æò‚ûÉ;Ê•≠;ÊÄéri;ÊäøÃÄachiqt‚ûò‚ûù‡©Ä‚û¢‚ûÆ‚ûªquo;ÊÄπr;ÏÄÄùìÅm∆Ä;eg‡¶≤‚û™‚û¨;Ê™ç;Ê™èƒÄbu‚î™‚û≥oƒÄ;r‡∏ü‚ûπ;ÊÄörok;‰ÖÇËêÄ<;cdhilqr‡†´‚üí‚òπ‚üú‚ü†‚ü•‚ü™‚ü∞ƒÄci‚üó‚üô;Ê™¶r;Ê©πre√•‚ó≤mes;Êãâarr;Ê•∂uest;Ê©ªƒÄPi‚üµ‚üπar;Ê¶ñ∆Ä;ef‚†Ä‡§≠·†õÊóÉrƒÄdu‚†á‚†çshar;Ê•ähar;Ê•¶ƒÄen‚†ó‚†°rtneqq;ÏÄÄ‚â®Ô∏Ä√Ö‚†û‹ÄDacdefhilnopsu‚°Ä‚°Ö‚¢Ç‚¢é‚¢ì‚¢†‚¢•‚¢®‚£ö‚£¢‚£§‡™É‚£≥‚§ÇDot;Êà∫»Äclpr‚°é‚°í‚°£‚°ΩrËÄª¬Ø‰ÇØƒÄet‚°ó‚°ô;ÊôÇƒÄ;e‚°û‚°üÊú†se¬ª‚°üƒÄ;s·Äª‚°®to»Ä;dlu·Äª‚°≥‚°∑‚°ªow√Æ“åef√¥‡§è√∞·èëker;ÊñÆƒÄoy‚¢á‚¢åmma;Ê®©;‰êºash;ÊÄîasuredangle¬ª·ò¶r;ÏÄÄùî™o;ÊÑß∆Äcdn‚¢Ø‚¢¥‚£âroËÄª¬µ‰Çµ»Ä;acd·ë§‚¢Ω‚£Ä‚£Ñs√¥·ößir;Ê´∞otËÇª¬∑∆µus∆Ä;bd‚£í·§É‚£ìÊàíƒÄ;u·¥º‚£ò;Ê®™≈£‚£û‚£°p;Ê´õ√≤‚àí√∞‡™ÅƒÄdp‚£©‚£Æels;Êäßf;ÏÄÄùïûƒÄct‚£∏‚£Ωr;ÏÄÄùìÇpos¬ª·ñù∆Ä;lm‚§â‚§ä‚§ç‰éºtimap;Êä∏‡∞ÄGLRVabcdefghijlmoprstuvw‚•Ç‚•ì‚•æ‚¶â‚¶ò‚ßö‚ß©‚®ï‚®ö‚©ò‚©ù‚™É‚™ï‚™§‚™®‚¨Ñ‚¨á‚≠Ñ‚≠ø‚ÆÆ‚∞¥‚±ß‚±º‚≥©ƒÄgt‚•á‚•ã;ÏÄÄ‚ãôÃ∏ƒÄ;v‚•ê‡ØèÏÄÄ‚â´‚Éí∆Äelt‚•ö‚•≤‚•∂ftƒÄar‚•°‚•ßrrow;Êáçightarrow;Êáé;ÏÄÄ‚ãòÃ∏ƒÄ;v‚•ª‡±áÏÄÄ‚â™‚Éíightarrow;ÊáèƒÄDd‚¶é‚¶ìash;ÊäØash;ÊäÆ Äbcnpt‚¶£‚¶ß‚¶¨‚¶±‚ßåla¬ªÀûute;‰ÖÑg;ÏÄÄ‚à†‚Éí Ä;Eiop‡∂Ñ‚¶º‚ßÄ‚ßÖ‚ßà;ÏÄÄ‚©∞Ã∏d;ÏÄÄ‚âãÃ∏s;‰Öâro√∏‡∂ÑurƒÄ;a‚ßì‚ßîÊôÆlƒÄ;s‚ßì‡¨∏«≥‚ßü\0‚ß£pËÇª¬†‡¨∑mpƒÄ;e‡Øπ‡∞Ä Äaeouy‚ß¥‚ßæ‚®É‚®ê‚®ì«∞‚ßπ\0‚ßª;Ê©Éon;‰Öàdil;‰ÖÜngƒÄ;d‡µæ‚®äot;ÏÄÄ‚©≠Ã∏p;Ê©Ç;‰êΩash;ÊÄìŒÄ;Aadqsx‡Æí‚®©‚®≠‚®ª‚©Å‚©Ö‚©êrr;ÊáórƒÄhr‚®≥‚®∂k;Ê§§ƒÄ;o·è≤·è∞ot;ÏÄÄ‚âêÃ∏ui√∂‡≠£ƒÄei‚©ä‚©éar;Ê§®√≠‡ÆòistƒÄ;s‡Æ†‡Æür;ÏÄÄùî´»ÄEest‡ØÖ‚©¶‚©π‚©º∆Ä;qs‡Æº‚©≠‡Ø°∆Ä;qs‡Æº‡ØÖ‚©¥lan√¥‡Ø¢i√≠‡Ø™ƒÄ;r‡Æ∂‚™Å¬ª‡Æ∑∆ÄAap‚™ä‚™ç‚™ër√≤‚•±rr;ÊÜÆar;Ê´≤∆Ä;sv‡æç‚™ú‡æåƒÄ;d‚™°‚™¢Êãº;Êã∫cy;‰ëöŒÄAEadest‚™∑‚™∫‚™æ‚´Ç‚´Ö‚´∂‚´πr√≤‚•¶;ÏÄÄ‚â¶Ã∏rr;ÊÜör;ÊÄ•»Ä;fqs‡∞ª‚´é‚´£‚´ØtƒÄar‚´î‚´ôrro√∑‚´Åightarro√∑‚™ê∆Ä;qs‡∞ª‚™∫‚´™lan√¥‡±ïƒÄ;s‡±ï‚´¥¬ª‡∞∂i√≠‡±ùƒÄ;r‡∞µ‚´æiƒÄ;e‡∞ö‡∞•i√§‡∂êƒÄpt‚¨å‚¨ëf;ÏÄÄùïüËÜÄ¬¨;in‚¨ô‚¨ö‚¨∂‰Ç¨n»Ä;Edv‡Æâ‚¨§‚¨®‚¨Æ;ÏÄÄ‚ãπÃ∏ot;ÏÄÄ‚ãµÃ∏«°‡Æâ‚¨≥‚¨µ;Êã∑;Êã∂iƒÄ;v‡≤∏‚¨º«°‡≤∏‚≠Å‚≠É;Êãæ;ÊãΩ∆Äaor‚≠ã‚≠£‚≠©r»Ä;ast‡≠ª‚≠ï‚≠ö‚≠ülle√¨‡≠ªl;ÏÄÄ‚´Ω‚É•;ÏÄÄ‚àÇÃ∏lint;Ê®î∆Ä;ce‡≤í‚≠∞‚≠≥u√•‡≤•ƒÄ;c‡≤ò‚≠∏ƒÄ;e‡≤í‚≠Ω√±‡≤ò»ÄAait‚Æà‚Æã‚Æù‚Æßr√≤‚¶àrr∆Ä;cw‚Æî‚Æï‚ÆôÊÜõ;ÏÄÄ‚§≥Ã∏;ÏÄÄ‚ÜùÃ∏ghtarrow¬ª‚ÆïriƒÄ;e‡≥ã‡≥ñŒÄchimpqu‚ÆΩ‚Øç‚Øô‚¨Ñ‡≠∏‚Ø§‚ØØ»Ä;cer‡¥≤‚ØÜ‡¥∑‚Øâu√•‡µÖ;ÏÄÄùìÉort…≠‚¨Ö\0\0‚Øñar√°‚≠ñmƒÄ;e‡µÆ‚ØüƒÄ;q‡µ¥‡µ≥suƒÄbp‚Ø´‚Ø≠√•‡≥∏√•‡¥ã∆Äbcp‚Ø∂‚∞ë‚∞ô»Ä;Ees‚Øø‚∞Ä‡¥¢‚∞ÑÊäÑ;ÏÄÄ‚´ÖÃ∏etƒÄ;e‡¥õ‚∞ãqƒÄ;q‡¥£‚∞ÄcƒÄ;e‡¥≤‚∞ó√±‡¥∏»Ä;Ees‚∞¢‚∞£‡µü‚∞ßÊäÖ;ÏÄÄ‚´ÜÃ∏etƒÄ;e‡µò‚∞ÆqƒÄ;q‡µ†‚∞£»Ägilr‚∞Ω‚∞ø‚±Ö‚±á√¨‡ØóldeËÄª√±‰É±√ß‡±ÉiangleƒÄlr‚±í‚±úeftƒÄ;e‡∞ö‚±ö√±‡∞¶ightƒÄ;e‡≥ã‚±•√±‡≥óƒÄ;m‚±¨‚±≠‰éΩ∆Ä;es‚±¥‚±µ‚±π‰Ä£ro;ÊÑñp;ÊÄá“ÄDHadgilrs‚≤è‚≤î‚≤ô‚≤û‚≤£‚≤∞‚≤∂‚≥ì‚≥£ash;Êä≠arr;Ê§Ñp;ÏÄÄ‚âç‚Éíash;Êä¨ƒÄet‚≤®‚≤¨;ÏÄÄ‚â•‚Éí;ÏÄÄ>‚Éínfin;Êßû∆ÄAet‚≤Ω‚≥Å‚≥Örr;Ê§Ç;ÏÄÄ‚â§‚ÉíƒÄ;r‚≥ä‚≥çÏÄÄ<‚Éíie;ÏÄÄ‚ä¥‚ÉíƒÄAt‚≥ò‚≥úrr;Ê§Érie;ÏÄÄ‚äµ‚Éíim;ÏÄÄ‚àº‚Éí∆ÄAan‚≥∞‚≥¥‚¥Çrr;ÊáñrƒÄhr‚≥∫‚≥Ωk;Ê§£ƒÄ;o·èß·è•ear;Ê§ß·âì·™ï\0\0\0\0\0\0\0\0\0\0\0\0\0‚¥≠\0‚¥∏‚µà‚µ†‚µ•‚µ≤‚∂Ñ·¨á\0\0‚∂ç‚∂´\0‚∑à‚∑é\0‚∑ú‚∏ô‚∏´‚∏æ‚πÉƒÄcs‚¥±·™óuteËÄª√≥‰É≥ƒÄiy‚¥º‚µÖrƒÄ;c·™û‚µÇËÄª√¥‰É¥;‰êæ Äabios·™†‚µí‚µó«à‚µölac;‰Öëv;Ê®∏old;Ê¶ºlig;‰ÖìƒÄcr‚µ©‚µ≠ir;Ê¶ø;ÏÄÄùî¨ÕØ‚µπ\0\0‚µº\0‚∂Çn;‰ãõaveËÄª√≤‰É≤;ÊßÅƒÄbm‚∂à‡∑¥ar;Ê¶µ»Äacit‚∂ï‚∂ò‚∂•‚∂®r√≤·™ÄƒÄir‚∂ù‚∂†r;Ê¶æoss;Ê¶ªn√•‡πí;ÊßÄ∆Äaei‚∂±‚∂µ‚∂πcr;‰Öçga;‰èâ∆Äcdn‚∑Ä‚∑Ö«çron;‰éø;Ê¶∂pf;ÏÄÄùï†∆Äael‚∑î‚∑ó«ír;Ê¶∑rp;Ê¶πŒÄ;adiosv‚∑™‚∑´‚∑Æ‚∏à‚∏ç‚∏ê‚∏ñÊà®r√≤·™Ü»Ä;efm‚∑∑‚∑∏‚∏Ç‚∏ÖÊ©ùrƒÄ;o‚∑æ‚∑øÊÑ¥f¬ª‚∑øËÄª¬™‰Ç™ËÄª¬∫‰Ç∫gof;Êä∂r;Ê©ñlope;Ê©ó;Ê©õ∆Äclo‚∏ü‚∏°‚∏ß√≤‚∏ÅashËÄª√∏‰É∏l;Êäòi≈¨‚∏Ø‚∏¥deËÄª√µ‰ÉµesƒÄ;a«õ‚∏∫s;Ê®∂mlËÄª√∂‰É∂bar;ÊåΩ‡´°‚πû\0‚πΩ\0‚∫Ä‚∫ù\0‚∫¢‚∫π\0\0‚ªã‡∫ú\0‚ºì\0\0‚º´‚æº\0‚øàr»Ä;ast–É‚πß‚π≤‡∫ÖËÑÄ¬∂;l‚π≠‚πÆ‰Ç∂le√¨–É…©‚π∏\0\0‚πªm;Ê´≥;Ê´Ωy;‰êør Äcimpt‚∫ã‚∫è‚∫ì·°•‚∫ónt;‰Ä•od;‰ÄÆil;ÊÄ∞enk;ÊÄ±r;ÏÄÄùî≠∆Äimo‚∫®‚∫∞‚∫¥ƒÄ;v‚∫≠‚∫Æ‰èÜ;‰èïma√¥‡©∂ne;Êòé∆Ä;tv‚∫ø‚ªÄ‚ªà‰èÄchfork¬ª·øΩ;‰èñƒÄau‚ªè‚ªünƒÄck‚ªï‚ªùkƒÄ;h‚á¥‚ªõ;ÊÑé√∂‚á¥s“Ä;abcdemst‚ª≥‚ª¥·§à‚ªπ‚ªΩ‚ºÑ‚ºÜ‚ºä‚ºé‰Ä´cir;Ê®£ir;Ê®¢ƒÄou·µÄ‚ºÇ;Ê®•;Ê©≤nËÇª¬±‡∫ùim;Ê®¶wo;Ê®ß∆Äipu‚ºô‚º†‚º•ntint;Ê®ïf;ÏÄÄùï°ndËÄª¬£‰Ç£‘Ä;Eaceinosu‡ªà‚ºø‚ΩÅ‚ΩÑ‚Ωá‚æÅ‚æâ‚æí‚Ωæ‚æ∂;Ê™≥p;Ê™∑u√•‡ªôƒÄ;c‡ªé‚ΩåÃÄ;acens‡ªà‚Ωô‚Ωü‚Ω¶‚Ω®‚Ωæppro√∏‚ΩÉurlye√±‡ªô√±‡ªé∆Äaes‚ΩØ‚Ω∂‚Ω∫pprox;Ê™πqq;Ê™µim;Êã®i√≠‡ªümeƒÄ;s‚æà‡∫ÆÊÄ≤∆ÄEas‚Ω∏‚æê‚Ω∫√∞‚Ωµ∆Ädfp‡ª¨‚æô‚æØ∆Äals‚æ†‚æ•‚æ™lar;ÊåÆine;Êåíurf;ÊåìƒÄ;t‡ªª‚æ¥√Ø‡ªªrel;Êä∞ƒÄci‚øÄ‚øÖr;ÏÄÄùìÖ;‰èàncsp;ÊÄàÃÄfiopsu‚øö‚ã¢‚øü‚ø•‚ø´‚ø±r;ÏÄÄùîÆpf;ÏÄÄùï¢rime;ÊÅócr;ÏÄÄùìÜ∆Äaeo‚ø∏„Äâ„ÄìtƒÄei‚øæ„ÄÖrnion√≥⁄∞nt;Ê®ñstƒÄ;e„Äê„Äë‰Äø√±·ºô√¥‡ºî‡™ÄABHabcdefhilmnoprstux„ÅÄ„Åë„Åï„Åô„É†„Ñé„Ñ´„Öá„Ö¢„Ö≤„Üé„àÜ„àï„à§„à©„âò„âÆ„â≤„äê„ä∞„ä∑∆Äart„Åá„Åä„Åår√≤·Ç≥√≤œùail;Ê§úar√≤·±•ar;Ê•§ŒÄcdenqrt„Å®„Åµ„Å∏„Åø„Çè„Çî„ÉåƒÄeu„Å≠„Å±;ÏÄÄ‚àΩÃ±te;‰Öïi√£·ÖÆmptyv;Ê¶≥g»Ä;del‡øë„Çâ„Çã„Çç;Ê¶í;Ê¶•√•‡øëuoËÄª¬ª‰Çªr÷Ä;abcfhlpstw‡øú„Ç¨„ÇØ„Ç∑„Çπ„Çº„Çæ„ÉÄ„ÉÉ„Éá„Éäp;Ê•µƒÄ;f‡ø†„Ç¥s;Ê§†;Ê§≥s;Ê§û√´‚âù√∞‚úÆl;Ê•Öim;Ê•¥l;ÊÜ£;ÊÜùƒÄai„Éë„Éïil;Ê§öoƒÄ;n„Éõ„ÉúÊà∂al√≥‡ºû∆Äabr„Éß„É™„ÉÆr√≤·ü•rk;Êù≥ƒÄak„É≥„ÉΩcƒÄek„Éπ„Éª;‰ÅΩ;‰ÅùƒÄes„ÑÇ„ÑÑ;Ê¶ålƒÄdu„Ñä„Ñå;Ê¶é;Ê¶ê»Äaeuy„Ñó„Ñú„Ñß„Ñ©ron;‰ÖôƒÄdi„Ñ°„Ñ•il;‰Öó√¨‡ø≤√¢„É∫;‰ëÄ»Äclqs„Ñ¥„Ñ∑„ÑΩ„ÖÑa;Ê§∑dhar;Ê•©uoƒÄ;r»é»çh;ÊÜ≥∆Äacg„Öé„Öü‡ΩÑl»Ä;ips‡Ω∏„Öò„Öõ·Çún√•·Çªar√¥‡æ©t;Êñ≠∆Äilr„Ö©·Ä£„ÖÆsht;Ê•Ω;ÏÄÄùîØƒÄao„Ö∑„ÜÜrƒÄdu„ÖΩ„Öø¬ª—ªƒÄ;l·Çë„ÜÑ;Ê•¨ƒÄ;v„Üã„Üå‰èÅ;‰è±∆Ägns„Üï„áπ„áºhtÃÄahlrst„Ü§„Ü∞„áÇ„áò„á§„áÆrrowƒÄ;t‡øú„Ü≠a√©„ÉàarpoonƒÄdu„Üª„Üøow√Æ„Öæp¬ª·ÇíeftƒÄah„áä„áêrrow√≥‡ø™arpoon√≥’ëightarrows;Êáâquigarro√∑„Éãhreetimes;Êãåg;‰ãöingdotse√±·º≤∆Äahm„àç„àê„àìr√≤‡ø™a√≤’ë;ÊÄèoustƒÄ;a„àû„àüÊé±che¬ª„àümid;Ê´Æ»Äabpt„à≤„àΩ„âÄ„âíƒÄnr„à∑„à∫g;Êü≠r;Êáær√´·ÄÉ∆Äafl„âá„âä„âér;Ê¶Ü;ÏÄÄùï£us;Ê®Æimes;Ê®µƒÄap„âù„âßrƒÄ;g„â£„â§‰Ä©t;Ê¶îolint;Ê®íar√≤„á£»Äachq„âª„äÄ·Çº„äÖquo;ÊÄ∫r;ÏÄÄùìáƒÄbu„Éª„ääoƒÄ;r»î»ì∆Ähir„äó„äõ„ä†re√•„á∏mes;Êãäi»Ä;efl„ä™·Åô·†°„ä´Êñπtri;Êßéluhar;Ê•®;ÊÑû‡µ°„ãï„ãõ„ãü„å¨„å∏„ç±\0„ç∫„é§\0\0„è¨„è∞\0„ê®„ëà„ëö„í≠„í±„ìä„ì±\0„òñ\0\0„ò≥cute;‰Öõqu√Ø‚û∫‘Ä;Eaceinpsy·á≠„ã≥„ãµ„ãø„åÇ„åã„åè„åü„å¶„å©;Ê™¥«∞„ã∫\0„ãº;Ê™∏on;‰Ö°u√•·áæƒÄ;d·á≥„åáil;‰Öürc;‰Öù∆ÄEas„åñ„åò„åõ;Ê™∂p;Ê™∫im;Êã©olint;Ê®ìi√≠·àÑ;‰ëÅot∆Ä;be„å¥·µá„åµÊãÖ;Ê©¶ŒÄAacmstx„çÜ„çä„çó„çõ„çû„ç£„ç≠rr;ÊáòrƒÄhr„çê„çí√´‚à®ƒÄ;o‡®∂‡®¥tËÄª¬ß‰Çßi;‰Äªwar;Ê§©mƒÄin„ç©√∞nu√≥√±t;Êú∂rƒÄ;o„ç∂‚ÅïÏÄÄùî∞»Äacoy„éÇ„éÜ„éë„é†rp;ÊôØƒÄhy„éã„éècy;‰ëâ;‰ëàrt…≠„éô\0\0„éúi√§·ë§ara√¨‚πØËÄª¬≠‰Ç≠ƒÄgm„é®„é¥ma∆Ä;fv„é±„é≤„é≤‰èÉ;‰èÇ–Ä;deglnpr·ä´„èÖ„èâ„èé„èñ„èû„è°„è¶ot;Ê©™ƒÄ;q·ä±·ä∞ƒÄ;E„èì„èîÊ™û;Ê™†ƒÄ;E„èõ„èúÊ™ù;Ê™üe;ÊâÜlus;Ê®§arr;Ê•≤ar√≤·ÑΩ»Äaeit„è∏„êà„êè„êóƒÄls„èΩ„êÑlsetm√©„ç™hp;Ê®≥parsl;Êß§ƒÄdl·ë£„êîe;Êå£ƒÄ;e„êú„êùÊ™™ƒÄ;s„ê¢„ê£Ê™¨;ÏÄÄ‚™¨Ô∏Ä∆Äflp„êÆ„ê≥„ëÇtcy;‰ëåƒÄ;b„ê∏„êπ‰ÄØƒÄ;a„êæ„êøÊßÑr;Êåøf;ÏÄÄùï§aƒÄdr„ëç–ÇesƒÄ;u„ëî„ëïÊô†it¬ª„ëï∆Äcsu„ë†„ëπ„íüƒÄau„ë•„ëØpƒÄ;s·Üà„ë´;ÏÄÄ‚äìÔ∏ÄpƒÄ;s·Ü¥„ëµ;ÏÄÄ‚äîÔ∏ÄuƒÄbp„ëø„íè∆Ä;es·Üó·Üú„íÜetƒÄ;e·Üó„íç√±·Üù∆Ä;es·Ü®·Ü≠„íñetƒÄ;e·Ü®„íù√±·ÜÆ∆Ä;af·Öª„í¶÷∞r≈•„í´÷±¬ª·Öºar√≤·Öà»Äcemt„íπ„íæ„ìÇ„ìÖr;ÏÄÄùìàtm√Æ√±i√¨„êïar√¶·ÜæƒÄar„ìé„ìïrƒÄ;f„ìî·ûøÊòÜƒÄan„ìö„ì≠ightƒÄep„ì£„ì™psilo√Æ·ª†h√©‚∫Øs¬ª‚°í Äbcmnp„ìª„ïû·àâ„ñã„ñé“Ä;Edemnprs„îé„îè„îë„îï„îû„î£„î¨„î±„î∂ÊäÇ;Ê´Öot;Ê™ΩƒÄ;d·áö„îöot;Ê´Éult;Ê´ÅƒÄEe„î®„î™;Ê´ã;Êäälus;Ê™øarr;Ê•π∆Äeiu„îΩ„ïí„ïït∆Ä;en„îé„ïÖ„ïãqƒÄ;q·áö„îèeqƒÄ;q„î´„î®m;Ê´áƒÄbp„ïö„ïú;Ê´ï;Ê´ìcÃÄ;acens·á≠„ï¨„ï≤„ïπ„ïª„å¶ppro√∏„ã∫urlye√±·áæ√±·á≥∆Äaes„ñÇ„ñà„åõppro√∏„åöq√±„åóg;Êô™⁄Ä123;Edehlmnps„ñ©„ñ¨„ñØ·àú„ñ≤„ñ¥„óÄ„óâ„óï„óö„óü„ó®„ó≠ËÄª¬π‰ÇπËÄª¬≤‰Ç≤ËÄª¬≥‰Ç≥;Ê´ÜƒÄos„ñπ„ñºt;Ê™æub;Ê´òƒÄ;d·à¢„óÖot;Ê´ÑsƒÄou„óè„óíl;Êüâb;Ê´óarr;Ê•ªult;Ê´ÇƒÄEe„ó§„ó¶;Ê´å;Êäãlus;Ê´Ä∆Äeiu„ó¥„òâ„òåt∆Ä;en·àú„óº„òÇqƒÄ;q·à¢„ñ≤eqƒÄ;q„óß„ó§m;Ê´àƒÄbp„òë„òì;Ê´î;Ê´ñ∆ÄAan„òú„ò†„ò≠rr;ÊáôrƒÄhr„ò¶„ò®√´‚àÆƒÄ;o‡®´‡®©war;Ê§™ligËÄª√ü‰Éü‡Ø°„ôë„ôù„ô†·ãé„ô≥„ôπ\0„ôæ„õÇ\0\0\0\0\0„õõ„úÉ\0„úâ„ù¨\0\0\0„ûá…≤„ôñ\0\0„ôõget;Êåñ;‰èÑr√´‡πü∆Äaey„ô¶„ô´„ô∞ron;‰Ö•dil;‰Ö£;‰ëÇlrec;Êåïr;ÏÄÄùî±»Äeiko„öÜ„öù„öµ„öº«≤„öã\0„öëeƒÄ4f·äÑ·äÅa∆Ä;sv„öò„öô„öõ‰é∏ym;‰èëƒÄcn„ö¢„ö≤kƒÄas„ö®„öÆppro√∏·ãÅim¬ª·ä¨s√∞·äûƒÄas„ö∫„öÆ√∞·ãÅrnËÄª√æ‰Éæ«¨Ãü„õÜ‚ãßesËÜÄ√ó;bd„õè„õê„õò‰ÉóƒÄ;a·§è„õïr;Ê®±;Ê®∞∆Äeps„õ°„õ£„úÄ√°‚©ç»Ä;bcf“Ü„õ¨„õ∞„õ¥ot;Êå∂ir;Ê´±ƒÄ;o„õπ„õºÏÄÄùï•rk;Ê´ö√°„ç¢rime;ÊÄ¥∆Äaip„úè„úí„ù§d√•·âàŒÄadempst„ú°„ùç„ùÄ„ùë„ùó„ùú„ùüngle Ä;dlqr„ú∞„ú±„ú∂„ùÄ„ùÇÊñµown¬ª·∂ªeftƒÄ;e‚†Ä„úæ√±‡§Æ;ÊâúightƒÄ;e„ä™„ùã√±·Åöot;Êó¨inus;Ê®∫lus;Ê®πb;Êßçime;Ê®ªezium;Êè¢∆Ächt„ù≤„ùΩ„ûÅƒÄry„ù∑„ùª;ÏÄÄùìâ;‰ëÜcy;‰ëõrok;‰ÖßƒÄio„ûã„ûéx√¥·ù∑headƒÄlr„ûó„û†eftarro√∑‡°èightarrow¬ª‡Ωù‡§ÄAHabcdfghlmoprstuw„üê„üì„üó„ü§„ü∞„üº„†é„†ú„†£„†¥„°ë„°ù„°´„¢©„£å„£í„£™„£∂r√≤œ≠ar;Ê•£ƒÄcr„üú„ü¢uteËÄª√∫‰É∫√≤·Öêr«£„ü™\0„ü≠y;‰ëûve;‰Ö≠ƒÄiy„üµ„ü∫rcËÄª√ª‰Éª;‰ëÉ∆Äabh„†É„†Ü„†ãr√≤·é≠lac;‰Ö±a√≤·èÉƒÄir„†ì„†òsht;Ê•æ;ÏÄÄùî≤raveËÄª√π‰Éπ≈°„†ß„†±rƒÄlr„†¨„†Æ¬ª‡•ó¬ª·ÇÉlk;ÊñÄƒÄct„†π„°ç…Ø„†ø\0\0„°ärnƒÄ;e„°Ö„°ÜÊåúr¬ª„°Üop;Êåèri;Êó∏ƒÄal„°ñ„°öcr;‰Ö´ËÇª¬®ÕâƒÄgp„°¢„°¶on;‰Ö≥f;ÏÄÄùï¶ÃÄadhlsu·Öã„°∏„°Ω·ç≤„¢ë„¢†own√°·é≥arpoonƒÄlr„¢à„¢åef√¥„†≠igh√¥„†Øi∆Ä;hl„¢ô„¢ö„¢ú‰èÖ¬ª·è∫on¬ª„¢öparrows;Êáà∆Äcit„¢∞„£Ñ„£à…Ø„¢∂\0\0„£ÅrnƒÄ;e„¢º„¢ΩÊåùr¬ª„¢Ωop;Êåéng;‰ÖØri;Êóπcr;ÏÄÄùìä∆Ädir„£ô„£ù„£¢ot;Êã∞lde;‰Ö©iƒÄ;f„ú∞„£®¬ª·†ìƒÄam„£Ø„£≤r√≤„¢®lËÄª√º‰Éºangle;Ê¶ßﬁÄABDacdeflnoprsz„§ú„§ü„§©„§≠„¶µ„¶∏„¶Ω„ßü„ß§„ß®„ß≥„ßπ„ßΩ„®Å„®†r√≤œ∑arƒÄ;v„§¶„§ßÊ´®;Ê´©as√®œ°ƒÄnr„§≤„§∑grt;Ê¶úŒÄeknprst„ì£„•Ü„•ã„•í„•ù„•§„¶ñapp√°‚êïothin√ß·∫ñ∆Ähir„ì´‚ªà„•ôop√¥‚æµƒÄ;h·é∑„•¢√Ø„ÜçƒÄiu„•©„•≠gm√°„é≥ƒÄbp„•≤„¶ÑsetneqƒÄ;q„•Ω„¶ÄÏÄÄ‚ääÔ∏Ä;ÏÄÄ‚´ãÔ∏ÄsetneqƒÄ;q„¶è„¶íÏÄÄ‚äãÔ∏Ä;ÏÄÄ‚´åÔ∏ÄƒÄhr„¶õ„¶üet√°„öúiangleƒÄlr„¶™„¶Øeft¬ª‡§•ight¬ª·Åëy;‰ê≤ash¬ª·Ä∂∆Äelr„ßÑ„ßí„ßó∆Ä;be‚∑™„ßã„ßèar;Êäªq;Êâölip;ÊãÆƒÄbt„ßú·ë®a√≤·ë©r;ÏÄÄùî≥tr√©„¶ÆsuƒÄbp„ßØ„ß±¬ª‡¥ú¬ª‡µôpf;ÏÄÄùïßro√∞‡ªªtr√©„¶¥ƒÄcu„®Ü„®ãr;ÏÄÄùìãƒÄbp„®ê„®ònƒÄEe„¶Ä„®ñ¬ª„•ænƒÄEe„¶í„®û¬ª„¶êigzag;Ê¶öŒÄcefoprs„®∂„®ª„©ñ„©õ„©î„©°„©™irc;‰ÖµƒÄdi„©Ä„©ëƒÄbg„©Ö„©âar;Ê©üeƒÄ;q·ó∫„©è;Êâôerp;ÊÑòr;ÏÄÄùî¥pf;ÏÄÄùï®ƒÄ;e·ëπ„©¶at√®·ëπcr;ÏÄÄùìå‡´£·ûé„™á\0„™ã\0„™ê„™õ\0\0„™ù„™®„™´„™Ø\0\0„´É„´é\0„´ò·üú·üütr√©·üër;ÏÄÄùîµƒÄAa„™î„™ór√≤œÉr√≤‡ß∂;‰éæƒÄAa„™°„™§r√≤Œ∏r√≤‡ß´a√∞‚úìis;Êãª∆Ädpt·û§„™µ„™æƒÄfl„™∫·û©;ÏÄÄùï©im√•·û≤ƒÄAa„´á„´är√≤œér√≤‡®ÅƒÄcq„´í·û∏r;ÏÄÄùìçƒÄpt·üñ„´úr√©·üî–Äacefiosu„´∞„´Ω„¨à„¨å„¨ë„¨ï„¨õ„¨°cƒÄuy„´∂„´ªteËÄª√Ω‰ÉΩ;‰ëèƒÄiy„¨Ç„¨Ürc;‰Ö∑;‰ëãnËÄª¬•‰Ç•r;ÏÄÄùî∂cy;‰ëópf;ÏÄÄùï™cr;ÏÄÄùìéƒÄcm„¨¶„¨©y;‰ëélËÄª√ø‰Éø‘Äacdefhiosw„≠Ç„≠à„≠î„≠ò„≠§„≠©„≠≠„≠¥„≠∫„ÆÄcute;‰Ö∫ƒÄay„≠ç„≠íron;‰Öæ;‰ê∑ot;‰ÖºƒÄet„≠ù„≠°tr√¶·ïüa;‰é∂r;ÏÄÄùî∑cy;‰ê∂grarr;Êáùpf;ÏÄÄùï´cr;ÏÄÄùìèƒÄjn„ÆÖ„Æá;ÊÄçj;ÊÄå'.split("").map(e=>e.charCodeAt(0))),Ze=new Uint16Array("»Äaglq\t…≠\0\0p;‰Ä¶os;‰Äßt;‰Äæt;‰Äºuot;‰Ä¢".split("").map(e=>e.charCodeAt(0)));var He;const Ue=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),Ve=null!==(He=String.fromCodePoint)&&void 0!==He?He:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+=String.fromCharCode(e),t};var We,Je;(Je=We||(We={}))[Je.NUM=35]="NUM",Je[Je.SEMI=59]="SEMI",Je[Je.EQUALS=61]="EQUALS",Je[Je.ZERO=48]="ZERO",Je[Je.NINE=57]="NINE",Je[Je.LOWER_A=97]="LOWER_A",Je[Je.LOWER_F=102]="LOWER_F",Je[Je.LOWER_X=120]="LOWER_X",Je[Je.LOWER_Z=122]="LOWER_Z",Je[Je.UPPER_A=65]="UPPER_A",Je[Je.UPPER_F=70]="UPPER_F",Je[Je.UPPER_Z=90]="UPPER_Z";var Ke,Ge,Ye,Qe,Xe,et;function tt(e){return e>=We.ZERO&&e<=We.NINE}function nt(e){return e>=We.UPPER_A&&e<=We.UPPER_F||e>=We.LOWER_A&&e<=We.LOWER_F}function st(e){return e===We.EQUALS||function(e){return e>=We.UPPER_A&&e<=We.UPPER_Z||e>=We.LOWER_A&&e<=We.LOWER_Z||tt(e)}(e)}(Ge=Ke||(Ke={}))[Ge.VALUE_LENGTH=49152]="VALUE_LENGTH",Ge[Ge.BRANCH_LENGTH=16256]="BRANCH_LENGTH",Ge[Ge.JUMP_TABLE=127]="JUMP_TABLE",(Qe=Ye||(Ye={}))[Qe.EntityStart=0]="EntityStart",Qe[Qe.NumericStart=1]="NumericStart",Qe[Qe.NumericDecimal=2]="NumericDecimal",Qe[Qe.NumericHex=3]="NumericHex",Qe[Qe.NamedEntity=4]="NamedEntity",(et=Xe||(Xe={}))[et.Legacy=0]="Legacy",et[et.Strict=1]="Strict",et[et.Attribute=2]="Attribute";class rt{constructor(e,t,n){this.decodeTree=e,this.emitCodePoint=t,this.errors=n,this.state=Ye.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Xe.Strict}startEntity(e){this.decodeMode=e,this.state=Ye.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,t){switch(this.state){case Ye.EntityStart:return e.charCodeAt(t)===We.NUM?(this.state=Ye.NumericStart,this.consumed+=1,this.stateNumericStart(e,t+1)):(this.state=Ye.NamedEntity,this.stateNamedEntity(e,t));case Ye.NumericStart:return this.stateNumericStart(e,t);case Ye.NumericDecimal:return this.stateNumericDecimal(e,t);case Ye.NumericHex:return this.stateNumericHex(e,t);case Ye.NamedEntity:return this.stateNamedEntity(e,t)}}stateNumericStart(e,t){return t>=e.length?-1:(32|e.charCodeAt(t))===We.LOWER_X?(this.state=Ye.NumericHex,this.consumed+=1,this.stateNumericHex(e,t+1)):(this.state=Ye.NumericDecimal,this.stateNumericDecimal(e,t))}addToNumericResult(e,t,n,s){if(t!==n){const r=n-t;this.result=this.result*Math.pow(s,r)+parseInt(e.substr(t,r),s),this.consumed+=r}}stateNumericHex(e,t){const n=t;for(;t<e.length;){const s=e.charCodeAt(t);if(!tt(s)&&!nt(s))return this.addToNumericResult(e,n,t,16),this.emitNumericEntity(s,3);t+=1}return this.addToNumericResult(e,n,t,16),-1}stateNumericDecimal(e,t){const n=t;for(;t<e.length;){const s=e.charCodeAt(t);if(!tt(s))return this.addToNumericResult(e,n,t,10),this.emitNumericEntity(s,2);t+=1}return this.addToNumericResult(e,n,t,10),-1}emitNumericEntity(e,t){var n;if(this.consumed<=t)return null===(n=this.errors)||void 0===n||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===We.SEMI)this.consumed+=1;else if(this.decodeMode===Xe.Strict)return 0;return this.emitCodePoint(function(e){var t;return e>=55296&&e<=57343||e>1114111?65533:null!==(t=Ue.get(e))&&void 0!==t?t:e}(this.result),this.consumed),this.errors&&(e!==We.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,t){const{decodeTree:n}=this;let s=n[this.treeIndex],r=(s&Ke.VALUE_LENGTH)>>14;for(;t<e.length;t++,this.excess++){const i=e.charCodeAt(t);if(this.treeIndex=ot(n,s,this.treeIndex+Math.max(1,r),i),this.treeIndex<0)return 0===this.result||this.decodeMode===Xe.Attribute&&(0===r||st(i))?0:this.emitNotTerminatedNamedEntity();if(s=n[this.treeIndex],r=(s&Ke.VALUE_LENGTH)>>14,0!==r){if(i===We.SEMI)return this.emitNamedEntityData(this.treeIndex,r,this.consumed+this.excess);this.decodeMode!==Xe.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:t,decodeTree:n}=this,s=(n[t]&Ke.VALUE_LENGTH)>>14;return this.emitNamedEntityData(t,s,this.consumed),null===(e=this.errors)||void 0===e||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,t,n){const{decodeTree:s}=this;return this.emitCodePoint(1===t?s[e]&~Ke.VALUE_LENGTH:s[e+1],n),3===t&&this.emitCodePoint(s[e+2],n),n}end(){var e;switch(this.state){case Ye.NamedEntity:return 0===this.result||this.decodeMode===Xe.Attribute&&this.result!==this.treeIndex?0:this.emitNotTerminatedNamedEntity();case Ye.NumericDecimal:return this.emitNumericEntity(0,2);case Ye.NumericHex:return this.emitNumericEntity(0,3);case Ye.NumericStart:return null===(e=this.errors)||void 0===e||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Ye.EntityStart:return 0}}}function it(e){let t="";const n=new rt(e,e=>t+=Ve(e));return function(e,s){let r=0,i=0;for(;(i=e.indexOf("&",i))>=0;){t+=e.slice(r,i),n.startEntity(s);const o=n.write(e,i+1);if(o<0){r=i+n.end();break}r=i+o,i=0===o?r+1:r}const o=t+e.slice(r);return t="",o}}function ot(e,t,n,s){const r=(t&Ke.BRANCH_LENGTH)>>7,i=t&Ke.JUMP_TABLE;if(0===r)return 0!==i&&s===i?n:-1;if(i){const t=s-i;return t<0||t>=r?-1:e[n+t]-1}let o=n,a=o+r-1;for(;o<=a;){const t=o+a>>>1,n=e[t];if(n<s)o=t+1;else{if(!(n>s))return e[t+r];a=t-1}}return-1}const at=it(Le);function ut(e,t=Xe.Legacy){return at(e,t)}function ct(e){return"[object String]"===function(e){return Object.prototype.toString.call(e)}(e)}it(Ze);const lt=Object.prototype.hasOwnProperty;function dt(e){return Array.prototype.slice.call(arguments,1).forEach(function(t){if(t){if("object"!=typeof t)throw new TypeError(t+"must be object");Object.keys(t).forEach(function(n){e[n]=t[n]})}}),e}function ht(e,t,n){return[].concat(e.slice(0,t),n,e.slice(t+1))}function pt(e){return!(e>=55296&&e<=57343)&&(!(e>=64976&&e<=65007)&&(!!(65535&~e&&65534!=(65535&e))&&(!(e>=0&&e<=8)&&(11!==e&&(!(e>=14&&e<=31)&&(!(e>=127&&e<=159)&&!(e>1114111)))))))}function ft(e){if(e>65535){const t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}const mt=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,gt=new RegExp(mt.source+"|"+/&([a-z#][a-z0-9]{1,31});/gi.source,"gi"),Dt=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function yt(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(gt,function(e,t,n){return t||function(e,t){if(35===t.charCodeAt(0)&&Dt.test(t)){const n="x"===t[1].toLowerCase()?parseInt(t.slice(2),16):parseInt(t.slice(1),10);return pt(n)?ft(n):e}const n=ut(e);return n!==e?n:e}(e,n)})}const _t=/[&<>"]/,kt=/[&<>"]/g,bt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function wt(e){return bt[e]}function Ct(e){return _t.test(e)?e.replace(kt,wt):e}const vt=/[.?*+^$[\]\\(){}|-]/g;function Ft(e){switch(e){case 9:case 32:return!0}return!1}function xt(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function Et(e){return Pe.test(e)||Re.test(e)}function At(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function St(e){return e=e.trim().replace(/\s+/g," "),"·πæ"==="·∫û".toLowerCase()&&(e=e.replace(/·∫û/g,"√ü")),e.toLowerCase().toUpperCase()}const Mt={mdurl:Oe,ucmicro:ze},Tt=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt:ht,assign:dt,escapeHtml:Ct,escapeRE:function(e){return e.replace(vt,"\\$&")},fromCodePoint:ft,has:function(e,t){return lt.call(e,t)},isMdAsciiPunct:At,isPunctChar:Et,isSpace:Ft,isString:ct,isValidEntityCode:pt,isWhiteSpace:xt,lib:Mt,normalizeReference:St,unescapeAll:yt,unescapeMd:function(e){return e.indexOf("\\")<0?e:e.replace(mt,"$1")}},Symbol.toStringTag,{value:"Module"}));const Bt=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination:function(e,t,n){let s,r=t;const i={ok:!1,pos:0,str:""};if(60===e.charCodeAt(r)){for(r++;r<n;){if(s=e.charCodeAt(r),10===s)return i;if(60===s)return i;if(62===s)return i.pos=r+1,i.str=yt(e.slice(t+1,r)),i.ok=!0,i;92===s&&r+1<n?r+=2:r++}return i}let o=0;for(;r<n&&(s=e.charCodeAt(r),32!==s)&&!(s<32||127===s);)if(92===s&&r+1<n){if(32===e.charCodeAt(r+1))break;r+=2}else{if(40===s&&(o++,o>32))return i;if(41===s){if(0===o)break;o--}r++}return t===r||0!==o||(i.str=yt(e.slice(t,r)),i.pos=r,i.ok=!0),i},parseLinkLabel:function(e,t,n){let s,r,i,o;const a=e.posMax,u=e.pos;for(e.pos=t+1,s=1;e.pos<a;){if(i=e.src.charCodeAt(e.pos),93===i&&(s--,0===s)){r=!0;break}if(o=e.pos,e.md.inline.skipToken(e),91===i)if(o===e.pos-1)s++;else if(n)return e.pos=u,-1}let c=-1;return r&&(c=e.pos),e.pos=u,c},parseLinkTitle:function(e,t,n,s){let r,i=t;const o={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(s)o.str=s.str,o.marker=s.marker;else{if(i>=n)return o;let s=e.charCodeAt(i);if(34!==s&&39!==s&&40!==s)return o;t++,i++,40===s&&(s=41),o.marker=s}for(;i<n;){if(r=e.charCodeAt(i),r===o.marker)return o.pos=i+1,o.str+=yt(e.slice(t,i)),o.ok=!0,o;if(40===r&&41===o.marker)return o;92===r&&i+1<n&&i++,i++}return o.can_continue=!0,o.str+=yt(e.slice(t,i)),o}},Symbol.toStringTag,{value:"Module"})),$t={};function It(){this.rules=dt({},$t)}function Ot(){this.__rules__=[],this.__cache__=null}function jt(e,t,n){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}function Nt(e,t,n){this.src=e,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=t}$t.code_inline=function(e,t,n,s,r){const i=e[t];return"<code"+r.renderAttrs(i)+">"+Ct(i.content)+"</code>"},$t.code_block=function(e,t,n,s,r){const i=e[t];return"<pre"+r.renderAttrs(i)+"><code>"+Ct(e[t].content)+"</code></pre>\n"},$t.fence=function(e,t,n,s,r){const i=e[t],o=i.info?yt(i.info).trim():"";let a,u="",c="";if(o){const e=o.split(/(\s+)/g);u=e[0],c=e.slice(2).join("")}if(a=n.highlight&&n.highlight(i.content,u,c)||Ct(i.content),0===a.indexOf("<pre"))return a+"\n";if(o){const e=i.attrIndex("class"),t=i.attrs?i.attrs.slice():[];e<0?t.push(["class",n.langPrefix+u]):(t[e]=t[e].slice(),t[e][1]+=" "+n.langPrefix+u);const s={attrs:t};return`<pre><code${r.renderAttrs(s)}>${a}</code></pre>\n`}return`<pre><code${r.renderAttrs(i)}>${a}</code></pre>\n`},$t.image=function(e,t,n,s,r){const i=e[t];return i.attrs[i.attrIndex("alt")][1]=r.renderInlineAsText(i.children,n,s),r.renderToken(e,t,n)},$t.hardbreak=function(e,t,n){return n.xhtmlOut?"<br />\n":"<br>\n"},$t.softbreak=function(e,t,n){return n.breaks?n.xhtmlOut?"<br />\n":"<br>\n":"\n"},$t.text=function(e,t){return Ct(e[t].content)},$t.html_block=function(e,t){return e[t].content},$t.html_inline=function(e,t){return e[t].content},It.prototype.renderAttrs=function(e){let t,n,s;if(!e.attrs)return"";for(s="",t=0,n=e.attrs.length;t<n;t++)s+=" "+Ct(e.attrs[t][0])+'="'+Ct(e.attrs[t][1])+'"';return s},It.prototype.renderToken=function(e,t,n){const s=e[t];let r="";if(s.hidden)return"";s.block&&-1!==s.nesting&&t&&e[t-1].hidden&&(r+="\n"),r+=(-1===s.nesting?"</":"<")+s.tag,r+=this.renderAttrs(s),0===s.nesting&&n.xhtmlOut&&(r+=" /");let i=!1;if(s.block&&(i=!0,1===s.nesting&&t+1<e.length)){const n=e[t+1];("inline"===n.type||n.hidden||-1===n.nesting&&n.tag===s.tag)&&(i=!1)}return r+=i?">\n":">",r},It.prototype.renderInline=function(e,t,n){let s="";const r=this.rules;for(let i=0,o=e.length;i<o;i++){const o=e[i].type;void 0!==r[o]?s+=r[o](e,i,t,n,this):s+=this.renderToken(e,i,t)}return s},It.prototype.renderInlineAsText=function(e,t,n){let s="";for(let r=0,i=e.length;r<i;r++)switch(e[r].type){case"text":case"html_inline":case"html_block":s+=e[r].content;break;case"image":s+=this.renderInlineAsText(e[r].children,t,n);break;case"softbreak":case"hardbreak":s+="\n"}return s},It.prototype.render=function(e,t,n){let s="";const r=this.rules;for(let i=0,o=e.length;i<o;i++){const o=e[i].type;"inline"===o?s+=this.renderInline(e[i].children,t,n):void 0!==r[o]?s+=r[o](e,i,t,n,this):s+=this.renderToken(e,i,t,n)}return s},Ot.prototype.__find__=function(e){for(let t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1},Ot.prototype.__compile__=function(){const e=this,t=[""];e.__rules__.forEach(function(e){e.enabled&&e.alt.forEach(function(e){t.indexOf(e)<0&&t.push(e)})}),e.__cache__={},t.forEach(function(t){e.__cache__[t]=[],e.__rules__.forEach(function(n){n.enabled&&(t&&n.alt.indexOf(t)<0||e.__cache__[t].push(n.fn))})})},Ot.prototype.at=function(e,t,n){const s=this.__find__(e),r=n||{};if(-1===s)throw new Error("Parser rule not found: "+e);this.__rules__[s].fn=t,this.__rules__[s].alt=r.alt||[],this.__cache__=null},Ot.prototype.before=function(e,t,n,s){const r=this.__find__(e),i=s||{};if(-1===r)throw new Error("Parser rule not found: "+e);this.__rules__.splice(r,0,{name:t,enabled:!0,fn:n,alt:i.alt||[]}),this.__cache__=null},Ot.prototype.after=function(e,t,n,s){const r=this.__find__(e),i=s||{};if(-1===r)throw new Error("Parser rule not found: "+e);this.__rules__.splice(r+1,0,{name:t,enabled:!0,fn:n,alt:i.alt||[]}),this.__cache__=null},Ot.prototype.push=function(e,t,n){const s=n||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:s.alt||[]}),this.__cache__=null},Ot.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);const n=[];return e.forEach(function(e){const s=this.__find__(e);if(s<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[s].enabled=!0,n.push(e)},this),this.__cache__=null,n},Ot.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach(function(e){e.enabled=!1}),this.enable(e,t)},Ot.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);const n=[];return e.forEach(function(e){const s=this.__find__(e);if(s<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[s].enabled=!1,n.push(e)},this),this.__cache__=null,n},Ot.prototype.getRules=function(e){return null===this.__cache__&&this.__compile__(),this.__cache__[e]||[]},jt.prototype.attrIndex=function(e){if(!this.attrs)return-1;const t=this.attrs;for(let n=0,s=t.length;n<s;n++)if(t[n][0]===e)return n;return-1},jt.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]},jt.prototype.attrSet=function(e,t){const n=this.attrIndex(e),s=[e,t];n<0?this.attrPush(s):this.attrs[n]=s},jt.prototype.attrGet=function(e){const t=this.attrIndex(e);let n=null;return t>=0&&(n=this.attrs[t][1]),n},jt.prototype.attrJoin=function(e,t){const n=this.attrIndex(e);n<0?this.attrPush([e,t]):this.attrs[n][1]=this.attrs[n][1]+" "+t},Nt.prototype.Token=jt;const Pt=/\r\n?|\n/g,Rt=/\0/g;function qt(e){return/^<a[>\s]/i.test(e)}function zt(e){return/^<\/a\s*>/i.test(e)}const Lt=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,Zt=/\((c|tm|r)\)/i,Ht=/\((c|tm|r)\)/gi,Ut={c:"¬©",r:"¬Æ",tm:"‚Ñ¢"};function Vt(e,t){return Ut[t.toLowerCase()]}function Wt(e){let t=0;for(let n=e.length-1;n>=0;n--){const s=e[n];"text"!==s.type||t||(s.content=s.content.replace(Ht,Vt)),"link_open"===s.type&&"auto"===s.info&&t--,"link_close"===s.type&&"auto"===s.info&&t++}}function Jt(e){let t=0;for(let n=e.length-1;n>=0;n--){const s=e[n];"text"!==s.type||t||Lt.test(s.content)&&(s.content=s.content.replace(/\+-/g,"¬±").replace(/\.{2,}/g,"‚Ä¶").replace(/([?!])‚Ä¶/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/gm,"$1‚Äî").replace(/(^|\s)--(?=\s|$)/gm,"$1‚Äì").replace(/(^|[^-\s])--(?=[^-\s]|$)/gm,"$1‚Äì")),"link_open"===s.type&&"auto"===s.info&&t--,"link_close"===s.type&&"auto"===s.info&&t++}}const Kt=/['"]/,Gt=/['"]/g;function Yt(e,t,n){return e.slice(0,t)+n+e.slice(t+1)}function Qt(e,t){let n;const s=[];for(let r=0;r<e.length;r++){const i=e[r],o=e[r].level;for(n=s.length-1;n>=0&&!(s[n].level<=o);n--);if(s.length=n+1,"text"!==i.type)continue;let a=i.content,u=0,c=a.length;e:for(;u<c;){Gt.lastIndex=u;const l=Gt.exec(a);if(!l)break;let d=!0,h=!0;u=l.index+1;const p="'"===l[0];let f=32;if(l.index-1>=0)f=a.charCodeAt(l.index-1);else for(n=r-1;n>=0&&("softbreak"!==e[n].type&&"hardbreak"!==e[n].type);n--)if(e[n].content){f=e[n].content.charCodeAt(e[n].content.length-1);break}let m=32;if(u<c)m=a.charCodeAt(u);else for(n=r+1;n<e.length&&("softbreak"!==e[n].type&&"hardbreak"!==e[n].type);n++)if(e[n].content){m=e[n].content.charCodeAt(0);break}const g=At(f)||Et(String.fromCharCode(f)),D=At(m)||Et(String.fromCharCode(m)),y=xt(f),_=xt(m);if(_?d=!1:D&&(y||g||(d=!1)),y?h=!1:g&&(_||D||(h=!1)),34===m&&'"'===l[0]&&f>=48&&f<=57&&(h=d=!1),d&&h&&(d=g,h=D),d||h){if(h)for(n=s.length-1;n>=0;n--){let d=s[n];if(s[n].level<o)break;if(d.single===p&&s[n].level===o){let o,h;d=s[n],p?(o=t.md.options.quotes[2],h=t.md.options.quotes[3]):(o=t.md.options.quotes[0],h=t.md.options.quotes[1]),i.content=Yt(i.content,l.index,h),e[d.token].content=Yt(e[d.token].content,d.pos,o),u+=h.length-1,d.token===r&&(u+=o.length-1),a=i.content,c=a.length,s.length=n;continue e}}d?s.push({token:r,pos:l.index,single:p,level:o}):h&&p&&(i.content=Yt(i.content,l.index,"‚Äô"))}else p&&(i.content=Yt(i.content,l.index,"‚Äô"))}}}const Xt=[["normalize",function(e){let t;t=e.src.replace(Pt,"\n"),t=t.replace(Rt,"ÔøΩ"),e.src=t}],["block",function(e){let t;e.inlineMode?(t=new e.Token("inline","",0),t.content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}],["inline",function(e){const t=e.tokens;for(let n=0,s=t.length;n<s;n++){const s=t[n];"inline"===s.type&&e.md.inline.parse(s.content,e.md,e.env,s.children)}}],["linkify",function(e){const t=e.tokens;if(e.md.options.linkify)for(let n=0,s=t.length;n<s;n++){if("inline"!==t[n].type||!e.md.linkify.pretest(t[n].content))continue;let s=t[n].children,r=0;for(let i=s.length-1;i>=0;i--){const o=s[i];if("link_close"!==o.type){if("html_inline"===o.type&&(qt(o.content)&&r>0&&r--,zt(o.content)&&r++),!(r>0)&&"text"===o.type&&e.md.linkify.test(o.content)){const r=o.content;let a=e.md.linkify.match(r);const u=[];let c=o.level,l=0;a.length>0&&0===a[0].index&&i>0&&"text_special"===s[i-1].type&&(a=a.slice(1));for(let t=0;t<a.length;t++){const n=a[t].url,s=e.md.normalizeLink(n);if(!e.md.validateLink(s))continue;let i=a[t].text;i=a[t].schema?"mailto:"!==a[t].schema||/^mailto:/i.test(i)?e.md.normalizeLinkText(i):e.md.normalizeLinkText("mailto:"+i).replace(/^mailto:/,""):e.md.normalizeLinkText("http://"+i).replace(/^http:\/\//,"");const o=a[t].index;if(o>l){const t=new e.Token("text","",0);t.content=r.slice(l,o),t.level=c,u.push(t)}const d=new e.Token("link_open","a",1);d.attrs=[["href",s]],d.level=c++,d.markup="linkify",d.info="auto",u.push(d);const h=new e.Token("text","",0);h.content=i,h.level=c,u.push(h);const p=new e.Token("link_close","a",-1);p.level=--c,p.markup="linkify",p.info="auto",u.push(p),l=a[t].lastIndex}if(l<r.length){const t=new e.Token("text","",0);t.content=r.slice(l),t.level=c,u.push(t)}t[n].children=s=ht(s,i,u)}}else for(i--;s[i].level!==o.level&&"link_open"!==s[i].type;)i--}}}],["replacements",function(e){let t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&(Zt.test(e.tokens[t].content)&&Wt(e.tokens[t].children),Lt.test(e.tokens[t].content)&&Jt(e.tokens[t].children))}],["smartquotes",function(e){if(e.md.options.typographer)for(let t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&Kt.test(e.tokens[t].content)&&Qt(e.tokens[t].children,e)}],["text_join",function(e){let t,n;const s=e.tokens,r=s.length;for(let i=0;i<r;i++){if("inline"!==s[i].type)continue;const e=s[i].children,r=e.length;for(t=0;t<r;t++)"text_special"===e[t].type&&(e[t].type="text");for(t=n=0;t<r;t++)"text"===e[t].type&&t+1<r&&"text"===e[t+1].type?e[t+1].content=e[t].content+e[t+1].content:(t!==n&&(e[n]=e[t]),n++);t!==n&&(e.length=n)}}]];function en(){this.ruler=new Ot;for(let e=0;e<Xt.length;e++)this.ruler.push(Xt[e][0],Xt[e][1])}function tn(e,t,n,s){this.src=e,this.md=t,this.env=n,this.tokens=s,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const r=this.src;for(let i=0,o=0,a=0,u=0,c=r.length,l=!1;o<c;o++){const e=r.charCodeAt(o);if(!l){if(Ft(e)){a++,9===e?u+=4-u%4:u++;continue}l=!0}10!==e&&o!==c-1||(10!==e&&o++,this.bMarks.push(i),this.eMarks.push(o),this.tShift.push(a),this.sCount.push(u),this.bsCount.push(0),l=!1,a=0,u=0,i=o+1)}this.bMarks.push(r.length),this.eMarks.push(r.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}en.prototype.process=function(e){const t=this.ruler.getRules("");for(let n=0,s=t.length;n<s;n++)t[n](e)},en.prototype.State=Nt,tn.prototype.push=function(e,t,n){const s=new jt(e,t,n);return s.block=!0,n<0&&this.level--,s.level=this.level,n>0&&this.level++,this.tokens.push(s),s},tn.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]},tn.prototype.skipEmptyLines=function(e){for(let t=this.lineMax;e<t&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e},tn.prototype.skipSpaces=function(e){for(let t=this.src.length;e<t;e++){if(!Ft(this.src.charCodeAt(e)))break}return e},tn.prototype.skipSpacesBack=function(e,t){if(e<=t)return e;for(;e>t;)if(!Ft(this.src.charCodeAt(--e)))return e+1;return e},tn.prototype.skipChars=function(e,t){for(let n=this.src.length;e<n&&this.src.charCodeAt(e)===t;e++);return e},tn.prototype.skipCharsBack=function(e,t,n){if(e<=n)return e;for(;e>n;)if(t!==this.src.charCodeAt(--e))return e+1;return e},tn.prototype.getLines=function(e,t,n,s){if(e>=t)return"";const r=new Array(t-e);for(let i=0,o=e;o<t;o++,i++){let e=0;const a=this.bMarks[o];let u,c=a;for(u=o+1<t||s?this.eMarks[o]+1:this.eMarks[o];c<u&&e<n;){const t=this.src.charCodeAt(c);if(Ft(t))9===t?e+=4-(e+this.bsCount[o])%4:e++;else{if(!(c-a<this.tShift[o]))break;e++}c++}r[i]=e>n?new Array(e-n+1).join(" ")+this.src.slice(c,u):this.src.slice(c,u)}return r.join("")},tn.prototype.Token=jt;function nn(e,t){const n=e.bMarks[t]+e.tShift[t],s=e.eMarks[t];return e.src.slice(n,s)}function sn(e){const t=[],n=e.length;let s=0,r=e.charCodeAt(s),i=!1,o=0,a="";for(;s<n;)124===r&&(i?(a+=e.substring(o,s-1),o=s):(t.push(a+e.substring(o,s)),a="",o=s+1)),i=92===r,s++,r=e.charCodeAt(s);return t.push(a+e.substring(o)),t}function rn(e,t){const n=e.eMarks[t];let s=e.bMarks[t]+e.tShift[t];const r=e.src.charCodeAt(s++);if(42!==r&&45!==r&&43!==r)return-1;if(s<n){if(!Ft(e.src.charCodeAt(s)))return-1}return s}function on(e,t){const n=e.bMarks[t]+e.tShift[t],s=e.eMarks[t];let r=n;if(r+1>=s)return-1;let i=e.src.charCodeAt(r++);if(i<48||i>57)return-1;for(;;){if(r>=s)return-1;if(i=e.src.charCodeAt(r++),!(i>=48&&i<=57)){if(41===i||46===i)break;return-1}if(r-n>=10)return-1}return r<s&&(i=e.src.charCodeAt(r),!Ft(i))?-1:r}const an="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",un="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",cn=new RegExp("^(?:"+an+"|"+un+"|\x3c!---?>|\x3c!--(?:[^-]|-[^-]|--[^>])*--\x3e|<[?][\\s\\S]*?[?]>|<![A-Za-z][^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)"),ln=new RegExp("^(?:"+an+"|"+un+")"),dn=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"].join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(ln.source+"\\s*$"),/^$/,!1]];const hn=[["table",function(e,t,n,s){if(t+2>n)return!1;let r=t+1;if(e.sCount[r]<e.blkIndent)return!1;if(e.sCount[r]-e.blkIndent>=4)return!1;let i=e.bMarks[r]+e.tShift[r];if(i>=e.eMarks[r])return!1;const o=e.src.charCodeAt(i++);if(124!==o&&45!==o&&58!==o)return!1;if(i>=e.eMarks[r])return!1;const a=e.src.charCodeAt(i++);if(124!==a&&45!==a&&58!==a&&!Ft(a))return!1;if(45===o&&Ft(a))return!1;for(;i<e.eMarks[r];){const t=e.src.charCodeAt(i);if(124!==t&&45!==t&&58!==t&&!Ft(t))return!1;i++}let u=nn(e,t+1),c=u.split("|");const l=[];for(let D=0;D<c.length;D++){const e=c[D].trim();if(!e){if(0===D||D===c.length-1)continue;return!1}if(!/^:?-+:?$/.test(e))return!1;58===e.charCodeAt(e.length-1)?l.push(58===e.charCodeAt(0)?"center":"right"):58===e.charCodeAt(0)?l.push("left"):l.push("")}if(u=nn(e,t).trim(),-1===u.indexOf("|"))return!1;if(e.sCount[t]-e.blkIndent>=4)return!1;c=sn(u),c.length&&""===c[0]&&c.shift(),c.length&&""===c[c.length-1]&&c.pop();const d=c.length;if(0===d||d!==l.length)return!1;if(s)return!0;const h=e.parentType;e.parentType="table";const p=e.md.block.ruler.getRules("blockquote"),f=[t,0];e.push("table_open","table",1).map=f,e.push("thead_open","thead",1).map=[t,t+1],e.push("tr_open","tr",1).map=[t,t+1];for(let D=0;D<c.length;D++){const t=e.push("th_open","th",1);l[D]&&(t.attrs=[["style","text-align:"+l[D]]]);const n=e.push("inline","",0);n.content=c[D].trim(),n.children=[],e.push("th_close","th",-1)}let m;e.push("tr_close","tr",-1),e.push("thead_close","thead",-1);let g=0;for(r=t+2;r<n&&!(e.sCount[r]<e.blkIndent);r++){let s=!1;for(let t=0,i=p.length;t<i;t++)if(p[t](e,r,n,!0)){s=!0;break}if(s)break;if(u=nn(e,r).trim(),!u)break;if(e.sCount[r]-e.blkIndent>=4)break;if(c=sn(u),c.length&&""===c[0]&&c.shift(),c.length&&""===c[c.length-1]&&c.pop(),g+=d-c.length,g>65536)break;if(r===t+2){e.push("tbody_open","tbody",1).map=m=[t+2,0]}e.push("tr_open","tr",1).map=[r,r+1];for(let t=0;t<d;t++){const n=e.push("td_open","td",1);l[t]&&(n.attrs=[["style","text-align:"+l[t]]]);const s=e.push("inline","",0);s.content=c[t]?c[t].trim():"",s.children=[],e.push("td_close","td",-1)}e.push("tr_close","tr",-1)}return m&&(e.push("tbody_close","tbody",-1),m[1]=r),e.push("table_close","table",-1),f[1]=r,e.parentType=h,e.line=r,!0},["paragraph","reference"]],["code",function(e,t,n){if(e.sCount[t]-e.blkIndent<4)return!1;let s=t+1,r=s;for(;s<n;)if(e.isEmpty(s))s++;else{if(!(e.sCount[s]-e.blkIndent>=4))break;s++,r=s}e.line=r;const i=e.push("code_block","code",0);return i.content=e.getLines(t,r,4+e.blkIndent,!1)+"\n",i.map=[t,e.line],!0}],["fence",function(e,t,n,s){let r=e.bMarks[t]+e.tShift[t],i=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(r+3>i)return!1;const o=e.src.charCodeAt(r);if(126!==o&&96!==o)return!1;let a=r;r=e.skipChars(r,o);let u=r-a;if(u<3)return!1;const c=e.src.slice(a,r),l=e.src.slice(r,i);if(96===o&&l.indexOf(String.fromCharCode(o))>=0)return!1;if(s)return!0;let d=t,h=!1;for(;(d++,!(d>=n))&&(r=a=e.bMarks[d]+e.tShift[d],i=e.eMarks[d],!(r<i&&e.sCount[d]<e.blkIndent));)if(e.src.charCodeAt(r)===o&&!(e.sCount[d]-e.blkIndent>=4||(r=e.skipChars(r,o),r-a<u||(r=e.skipSpaces(r),r<i)))){h=!0;break}u=e.sCount[t],e.line=d+(h?1:0);const p=e.push("fence","code",0);return p.info=l,p.content=e.getLines(t+1,d,u,!0),p.markup=c,p.map=[t,e.line],!0},["paragraph","reference","blockquote","list"]],["blockquote",function(e,t,n,s){let r=e.bMarks[t]+e.tShift[t],i=e.eMarks[t];const o=e.lineMax;if(e.sCount[t]-e.blkIndent>=4)return!1;if(62!==e.src.charCodeAt(r))return!1;if(s)return!0;const a=[],u=[],c=[],l=[],d=e.md.block.ruler.getRules("blockquote"),h=e.parentType;e.parentType="blockquote";let p,f=!1;for(p=t;p<n;p++){const t=e.sCount[p]<e.blkIndent;if(r=e.bMarks[p]+e.tShift[p],i=e.eMarks[p],r>=i)break;if(62===e.src.charCodeAt(r++)&&!t){let t,n,s=e.sCount[p]+1;32===e.src.charCodeAt(r)?(r++,s++,n=!1,t=!0):9===e.src.charCodeAt(r)?(t=!0,(e.bsCount[p]+s)%4==3?(r++,s++,n=!1):n=!0):t=!1;let o=s;for(a.push(e.bMarks[p]),e.bMarks[p]=r;r<i;){const t=e.src.charCodeAt(r);if(!Ft(t))break;9===t?o+=4-(o+e.bsCount[p]+(n?1:0))%4:o++,r++}f=r>=i,u.push(e.bsCount[p]),e.bsCount[p]=e.sCount[p]+1+(t?1:0),c.push(e.sCount[p]),e.sCount[p]=o-s,l.push(e.tShift[p]),e.tShift[p]=r-e.bMarks[p];continue}if(f)break;let s=!1;for(let r=0,i=d.length;r<i;r++)if(d[r](e,p,n,!0)){s=!0;break}if(s){e.lineMax=p,0!==e.blkIndent&&(a.push(e.bMarks[p]),u.push(e.bsCount[p]),l.push(e.tShift[p]),c.push(e.sCount[p]),e.sCount[p]-=e.blkIndent);break}a.push(e.bMarks[p]),u.push(e.bsCount[p]),l.push(e.tShift[p]),c.push(e.sCount[p]),e.sCount[p]=-1}const m=e.blkIndent;e.blkIndent=0;const g=e.push("blockquote_open","blockquote",1);g.markup=">";const D=[t,0];g.map=D,e.md.block.tokenize(e,t,p),e.push("blockquote_close","blockquote",-1).markup=">",e.lineMax=o,e.parentType=h,D[1]=e.line;for(let y=0;y<l.length;y++)e.bMarks[y+t]=a[y],e.tShift[y+t]=l[y],e.sCount[y+t]=c[y],e.bsCount[y+t]=u[y];return e.blkIndent=m,!0},["paragraph","reference","blockquote","list"]],["hr",function(e,t,n,s){const r=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let i=e.bMarks[t]+e.tShift[t];const o=e.src.charCodeAt(i++);if(42!==o&&45!==o&&95!==o)return!1;let a=1;for(;i<r;){const t=e.src.charCodeAt(i++);if(t!==o&&!Ft(t))return!1;t===o&&a++}if(a<3)return!1;if(s)return!0;e.line=t+1;const u=e.push("hr","hr",0);return u.map=[t,e.line],u.markup=Array(a+1).join(String.fromCharCode(o)),!0},["paragraph","reference","blockquote","list"]],["list",function(e,t,n,s){let r,i,o,a,u=t,c=!0;if(e.sCount[u]-e.blkIndent>=4)return!1;if(e.listIndent>=0&&e.sCount[u]-e.listIndent>=4&&e.sCount[u]<e.blkIndent)return!1;let l,d,h,p=!1;if(s&&"paragraph"===e.parentType&&e.sCount[u]>=e.blkIndent&&(p=!0),(h=on(e,u))>=0){if(l=!0,o=e.bMarks[u]+e.tShift[u],d=Number(e.src.slice(o,h-1)),p&&1!==d)return!1}else{if(!((h=rn(e,u))>=0))return!1;l=!1}if(p&&e.skipSpaces(h)>=e.eMarks[u])return!1;if(s)return!0;const f=e.src.charCodeAt(h-1),m=e.tokens.length;l?(a=e.push("ordered_list_open","ol",1),1!==d&&(a.attrs=[["start",d]])):a=e.push("bullet_list_open","ul",1);const g=[u,0];a.map=g,a.markup=String.fromCharCode(f);let D=!1;const y=e.md.block.ruler.getRules("list"),_=e.parentType;for(e.parentType="list";u<n;){i=h,r=e.eMarks[u];const t=e.sCount[u]+h-(e.bMarks[u]+e.tShift[u]);let s=t;for(;i<r;){const t=e.src.charCodeAt(i);if(9===t)s+=4-(s+e.bsCount[u])%4;else{if(32!==t)break;s++}i++}const d=i;let p;p=d>=r?1:s-t,p>4&&(p=1);const m=t+p;a=e.push("list_item_open","li",1),a.markup=String.fromCharCode(f);const g=[u,0];a.map=g,l&&(a.info=e.src.slice(o,h-1));const _=e.tight,k=e.tShift[u],b=e.sCount[u],w=e.listIndent;if(e.listIndent=e.blkIndent,e.blkIndent=m,e.tight=!0,e.tShift[u]=d-e.bMarks[u],e.sCount[u]=s,d>=r&&e.isEmpty(u+1)?e.line=Math.min(e.line+2,n):e.md.block.tokenize(e,u,n,!0),e.tight&&!D||(c=!1),D=e.line-u>1&&e.isEmpty(e.line-1),e.blkIndent=e.listIndent,e.listIndent=w,e.tShift[u]=k,e.sCount[u]=b,e.tight=_,a=e.push("list_item_close","li",-1),a.markup=String.fromCharCode(f),u=e.line,g[1]=u,u>=n)break;if(e.sCount[u]<e.blkIndent)break;if(e.sCount[u]-e.blkIndent>=4)break;let C=!1;for(let r=0,i=y.length;r<i;r++)if(y[r](e,u,n,!0)){C=!0;break}if(C)break;if(l){if(h=on(e,u),h<0)break;o=e.bMarks[u]+e.tShift[u]}else if(h=rn(e,u),h<0)break;if(f!==e.src.charCodeAt(h-1))break}return a=l?e.push("ordered_list_close","ol",-1):e.push("bullet_list_close","ul",-1),a.markup=String.fromCharCode(f),g[1]=u,e.line=u,e.parentType=_,c&&function(e,t){const n=e.level+2;for(let s=t+2,r=e.tokens.length-2;s<r;s++)e.tokens[s].level===n&&"paragraph_open"===e.tokens[s].type&&(e.tokens[s+2].hidden=!0,e.tokens[s].hidden=!0,s+=2)}(e,m),!0},["paragraph","reference","blockquote"]],["reference",function(e,t,n,s){let r=e.bMarks[t]+e.tShift[t],i=e.eMarks[t],o=t+1;if(e.sCount[t]-e.blkIndent>=4)return!1;if(91!==e.src.charCodeAt(r))return!1;function a(t){const n=e.lineMax;if(t>=n||e.isEmpty(t))return null;let s=!1;if(e.sCount[t]-e.blkIndent>3&&(s=!0),e.sCount[t]<0&&(s=!0),!s){const s=e.md.block.ruler.getRules("reference"),r=e.parentType;e.parentType="reference";let i=!1;for(let o=0,a=s.length;o<a;o++)if(s[o](e,t,n,!0)){i=!0;break}if(e.parentType=r,i)return null}const r=e.bMarks[t]+e.tShift[t],i=e.eMarks[t];return e.src.slice(r,i+1)}let u=e.src.slice(r,i+1);i=u.length;let c=-1;for(r=1;r<i;r++){const e=u.charCodeAt(r);if(91===e)return!1;if(93===e){c=r;break}if(10===e){const e=a(o);null!==e&&(u+=e,i=u.length,o++)}else if(92===e&&(r++,r<i&&10===u.charCodeAt(r))){const e=a(o);null!==e&&(u+=e,i=u.length,o++)}}if(c<0||58!==u.charCodeAt(c+1))return!1;for(r=c+2;r<i;r++){const e=u.charCodeAt(r);if(10===e){const e=a(o);null!==e&&(u+=e,i=u.length,o++)}else if(!Ft(e))break}const l=e.md.helpers.parseLinkDestination(u,r,i);if(!l.ok)return!1;const d=e.md.normalizeLink(l.str);if(!e.md.validateLink(d))return!1;r=l.pos;const h=r,p=o,f=r;for(;r<i;r++){const e=u.charCodeAt(r);if(10===e){const e=a(o);null!==e&&(u+=e,i=u.length,o++)}else if(!Ft(e))break}let m,g=e.md.helpers.parseLinkTitle(u,r,i);for(;g.can_continue;){const t=a(o);if(null===t)break;u+=t,r=i,i=u.length,o++,g=e.md.helpers.parseLinkTitle(u,r,i,g)}for(r<i&&f!==r&&g.ok?(m=g.str,r=g.pos):(m="",r=h,o=p);r<i;){if(!Ft(u.charCodeAt(r)))break;r++}if(r<i&&10!==u.charCodeAt(r)&&m)for(m="",r=h,o=p;r<i;){if(!Ft(u.charCodeAt(r)))break;r++}if(r<i&&10!==u.charCodeAt(r))return!1;const D=St(u.slice(1,c));return!!D&&(s||(void 0===e.env.references&&(e.env.references={}),void 0===e.env.references[D]&&(e.env.references[D]={title:m,href:d}),e.line=o),!0)}],["html_block",function(e,t,n,s){let r=e.bMarks[t]+e.tShift[t],i=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(!e.md.options.html)return!1;if(60!==e.src.charCodeAt(r))return!1;let o=e.src.slice(r,i),a=0;for(;a<dn.length&&!dn[a][0].test(o);a++);if(a===dn.length)return!1;if(s)return dn[a][2];let u=t+1;if(!dn[a][1].test(o))for(;u<n&&!(e.sCount[u]<e.blkIndent);u++)if(r=e.bMarks[u]+e.tShift[u],i=e.eMarks[u],o=e.src.slice(r,i),dn[a][1].test(o)){0!==o.length&&u++;break}e.line=u;const c=e.push("html_block","",0);return c.map=[t,u],c.content=e.getLines(t,u,e.blkIndent,!0),!0},["paragraph","reference","blockquote"]],["heading",function(e,t,n,s){let r=e.bMarks[t]+e.tShift[t],i=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let o=e.src.charCodeAt(r);if(35!==o||r>=i)return!1;let a=1;for(o=e.src.charCodeAt(++r);35===o&&r<i&&a<=6;)a++,o=e.src.charCodeAt(++r);if(a>6||r<i&&!Ft(o))return!1;if(s)return!0;i=e.skipSpacesBack(i,r);const u=e.skipCharsBack(i,35,r);u>r&&Ft(e.src.charCodeAt(u-1))&&(i=u),e.line=t+1;const c=e.push("heading_open","h"+String(a),1);c.markup="########".slice(0,a),c.map=[t,e.line];const l=e.push("inline","",0);return l.content=e.src.slice(r,i).trim(),l.map=[t,e.line],l.children=[],e.push("heading_close","h"+String(a),-1).markup="########".slice(0,a),!0},["paragraph","reference","blockquote"]],["lheading",function(e,t,n){const s=e.md.block.ruler.getRules("paragraph");if(e.sCount[t]-e.blkIndent>=4)return!1;const r=e.parentType;e.parentType="paragraph";let i,o=0,a=t+1;for(;a<n&&!e.isEmpty(a);a++){if(e.sCount[a]-e.blkIndent>3)continue;if(e.sCount[a]>=e.blkIndent){let t=e.bMarks[a]+e.tShift[a];const n=e.eMarks[a];if(t<n&&(i=e.src.charCodeAt(t),(45===i||61===i)&&(t=e.skipChars(t,i),t=e.skipSpaces(t),t>=n))){o=61===i?1:2;break}}if(e.sCount[a]<0)continue;let t=!1;for(let r=0,i=s.length;r<i;r++)if(s[r](e,a,n,!0)){t=!0;break}if(t)break}if(!o)return!1;const u=e.getLines(t,a,e.blkIndent,!1).trim();e.line=a+1;const c=e.push("heading_open","h"+String(o),1);c.markup=String.fromCharCode(i),c.map=[t,e.line];const l=e.push("inline","",0);return l.content=u,l.map=[t,e.line-1],l.children=[],e.push("heading_close","h"+String(o),-1).markup=String.fromCharCode(i),e.parentType=r,!0}],["paragraph",function(e,t,n){const s=e.md.block.ruler.getRules("paragraph"),r=e.parentType;let i=t+1;for(e.parentType="paragraph";i<n&&!e.isEmpty(i);i++){if(e.sCount[i]-e.blkIndent>3)continue;if(e.sCount[i]<0)continue;let t=!1;for(let r=0,o=s.length;r<o;r++)if(s[r](e,i,n,!0)){t=!0;break}if(t)break}const o=e.getLines(t,i,e.blkIndent,!1).trim();e.line=i,e.push("paragraph_open","p",1).map=[t,e.line];const a=e.push("inline","",0);return a.content=o,a.map=[t,e.line],a.children=[],e.push("paragraph_close","p",-1),e.parentType=r,!0}]];function pn(){this.ruler=new Ot;for(let e=0;e<hn.length;e++)this.ruler.push(hn[e][0],hn[e][1],{alt:(hn[e][2]||[]).slice()})}function fn(e,t,n,s){this.src=e,this.env=n,this.md=t,this.tokens=s,this.tokens_meta=Array(s.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}function mn(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}pn.prototype.tokenize=function(e,t,n){const s=this.ruler.getRules(""),r=s.length,i=e.md.options.maxNesting;let o=t,a=!1;for(;o<n&&(e.line=o=e.skipEmptyLines(o),!(o>=n))&&!(e.sCount[o]<e.blkIndent);){if(e.level>=i){e.line=n;break}const t=e.line;let u=!1;for(let i=0;i<r;i++)if(u=s[i](e,o,n,!1),u){if(t>=e.line)throw new Error("block rule didn't increment state.line");break}if(!u)throw new Error("none of the block rules matched");e.tight=!a,e.isEmpty(e.line-1)&&(a=!0),o=e.line,o<n&&e.isEmpty(o)&&(a=!0,o++,e.line=o)}},pn.prototype.parse=function(e,t,n,s){if(!e)return;const r=new this.State(e,t,n,s);this.tokenize(r,r.line,r.lineMax)},pn.prototype.State=tn,fn.prototype.pushPending=function(){const e=new jt("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e},fn.prototype.push=function(e,t,n){this.pending&&this.pushPending();const s=new jt(e,t,n);let r=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),s.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],r={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(s),this.tokens_meta.push(r),s},fn.prototype.scanDelims=function(e,t){const n=this.posMax,s=this.src.charCodeAt(e),r=e>0?this.src.charCodeAt(e-1):32;let i=e;for(;i<n&&this.src.charCodeAt(i)===s;)i++;const o=i-e,a=i<n?this.src.charCodeAt(i):32,u=At(r)||Et(String.fromCharCode(r)),c=At(a)||Et(String.fromCharCode(a)),l=xt(r),d=xt(a),h=!d&&(!c||l||u),p=!l&&(!u||d||c);return{can_open:h&&(t||!p||u),can_close:p&&(t||!h||c),length:o}},fn.prototype.Token=jt;const gn=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;const Dn=[];for(let ru=0;ru<256;ru++)Dn.push(0);function yn(e,t){let n;const s=[],r=t.length;for(let i=0;i<r;i++){const r=t[i];if(126!==r.marker)continue;if(-1===r.end)continue;const o=t[r.end];n=e.tokens[r.token],n.type="s_open",n.tag="s",n.nesting=1,n.markup="~~",n.content="",n=e.tokens[o.token],n.type="s_close",n.tag="s",n.nesting=-1,n.markup="~~",n.content="","text"===e.tokens[o.token-1].type&&"~"===e.tokens[o.token-1].content&&s.push(o.token-1)}for(;s.length;){const t=s.pop();let r=t+1;for(;r<e.tokens.length&&"s_close"===e.tokens[r].type;)r++;r--,t!==r&&(n=e.tokens[r],e.tokens[r]=e.tokens[t],e.tokens[t]=n)}}"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e){Dn[e.charCodeAt(0)]=1});const _n={tokenize:function(e,t){const n=e.pos,s=e.src.charCodeAt(n);if(t)return!1;if(126!==s)return!1;const r=e.scanDelims(e.pos,!0);let i=r.length;const o=String.fromCharCode(s);if(i<2)return!1;let a;i%2&&(a=e.push("text","",0),a.content=o,i--);for(let u=0;u<i;u+=2)a=e.push("text","",0),a.content=o+o,e.delimiters.push({marker:s,length:0,token:e.tokens.length-1,end:-1,open:r.can_open,close:r.can_close});return e.pos+=r.length,!0},postProcess:function(e){const t=e.tokens_meta,n=e.tokens_meta.length;yn(e,e.delimiters);for(let s=0;s<n;s++)t[s]&&t[s].delimiters&&yn(e,t[s].delimiters)}};function kn(e,t){for(let n=t.length-1;n>=0;n--){const s=t[n];if(95!==s.marker&&42!==s.marker)continue;if(-1===s.end)continue;const r=t[s.end],i=n>0&&t[n-1].end===s.end+1&&t[n-1].marker===s.marker&&t[n-1].token===s.token-1&&t[s.end+1].token===r.token+1,o=String.fromCharCode(s.marker),a=e.tokens[s.token];a.type=i?"strong_open":"em_open",a.tag=i?"strong":"em",a.nesting=1,a.markup=i?o+o:o,a.content="";const u=e.tokens[r.token];u.type=i?"strong_close":"em_close",u.tag=i?"strong":"em",u.nesting=-1,u.markup=i?o+o:o,u.content="",i&&(e.tokens[t[n-1].token].content="",e.tokens[t[s.end+1].token].content="",n--)}}const bn={tokenize:function(e,t){const n=e.pos,s=e.src.charCodeAt(n);if(t)return!1;if(95!==s&&42!==s)return!1;const r=e.scanDelims(e.pos,42===s);for(let i=0;i<r.length;i++){e.push("text","",0).content=String.fromCharCode(s),e.delimiters.push({marker:s,length:r.length,token:e.tokens.length-1,end:-1,open:r.can_open,close:r.can_close})}return e.pos+=r.length,!0},postProcess:function(e){const t=e.tokens_meta,n=e.tokens_meta.length;kn(e,e.delimiters);for(let s=0;s<n;s++)t[s]&&t[s].delimiters&&kn(e,t[s].delimiters)}};const wn=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,Cn=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;const vn=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,Fn=/^&([a-z][a-z0-9]{1,31});/i;function xn(e){const t={},n=e.length;if(!n)return;let s=0,r=-2;const i=[];for(let o=0;o<n;o++){const n=e[o];if(i.push(0),e[s].marker===n.marker&&r===n.token-1||(s=o),r=n.token,n.length=n.length||0,!n.close)continue;t.hasOwnProperty(n.marker)||(t[n.marker]=[-1,-1,-1,-1,-1,-1]);const a=t[n.marker][(n.open?3:0)+n.length%3];let u=s-i[s]-1,c=u;for(;u>a;u-=i[u]+1){const t=e[u];if(t.marker===n.marker&&(t.open&&t.end<0)){let s=!1;if((t.close||n.open)&&(t.length+n.length)%3==0&&(t.length%3==0&&n.length%3==0||(s=!0)),!s){const s=u>0&&!e[u-1].open?i[u-1]+1:0;i[o]=o-u+s,i[u]=s,n.open=!1,t.end=o,t.close=!1,c=-1,r=-2;break}}}-1!==c&&(t[n.marker][(n.open?3:0)+(n.length||0)%3]=c)}}const En=[["text",function(e,t){let n=e.pos;for(;n<e.posMax&&!mn(e.src.charCodeAt(n));)n++;return n!==e.pos&&(t||(e.pending+=e.src.slice(e.pos,n)),e.pos=n,!0)}],["linkify",function(e,t){if(!e.md.options.linkify)return!1;if(e.linkLevel>0)return!1;const n=e.pos;if(n+3>e.posMax)return!1;if(58!==e.src.charCodeAt(n))return!1;if(47!==e.src.charCodeAt(n+1))return!1;if(47!==e.src.charCodeAt(n+2))return!1;const s=e.pending.match(gn);if(!s)return!1;const r=s[1],i=e.md.linkify.matchAtStart(e.src.slice(n-r.length));if(!i)return!1;let o=i.url;if(o.length<=r.length)return!1;let a=o.length;for(;a>0&&42===o.charCodeAt(a-1);)a--;a!==o.length&&(o=o.slice(0,a));const u=e.md.normalizeLink(o);if(!e.md.validateLink(u))return!1;if(!t){e.pending=e.pending.slice(0,-r.length);const t=e.push("link_open","a",1);t.attrs=[["href",u]],t.markup="linkify",t.info="auto";e.push("text","",0).content=e.md.normalizeLinkText(o);const n=e.push("link_close","a",-1);n.markup="linkify",n.info="auto"}return e.pos+=o.length-r.length,!0}],["newline",function(e,t){let n=e.pos;if(10!==e.src.charCodeAt(n))return!1;const s=e.pending.length-1,r=e.posMax;if(!t)if(s>=0&&32===e.pending.charCodeAt(s))if(s>=1&&32===e.pending.charCodeAt(s-1)){let t=s-1;for(;t>=1&&32===e.pending.charCodeAt(t-1);)t--;e.pending=e.pending.slice(0,t),e.push("hardbreak","br",0)}else e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0);else e.push("softbreak","br",0);for(n++;n<r&&Ft(e.src.charCodeAt(n));)n++;return e.pos=n,!0}],["escape",function(e,t){let n=e.pos;const s=e.posMax;if(92!==e.src.charCodeAt(n))return!1;if(n++,n>=s)return!1;let r=e.src.charCodeAt(n);if(10===r){for(t||e.push("hardbreak","br",0),n++;n<s&&(r=e.src.charCodeAt(n),Ft(r));)n++;return e.pos=n,!0}let i=e.src[n];if(r>=55296&&r<=56319&&n+1<s){const t=e.src.charCodeAt(n+1);t>=56320&&t<=57343&&(i+=e.src[n+1],n++)}const o="\\"+i;if(!t){const t=e.push("text_special","",0);r<256&&0!==Dn[r]?t.content=i:t.content=o,t.markup=o,t.info="escape"}return e.pos=n+1,!0}],["backticks",function(e,t){let n=e.pos;if(96!==e.src.charCodeAt(n))return!1;const s=n;n++;const r=e.posMax;for(;n<r&&96===e.src.charCodeAt(n);)n++;const i=e.src.slice(s,n),o=i.length;if(e.backticksScanned&&(e.backticks[o]||0)<=s)return t||(e.pending+=i),e.pos+=o,!0;let a,u=n;for(;-1!==(a=e.src.indexOf("`",u));){for(u=a+1;u<r&&96===e.src.charCodeAt(u);)u++;const s=u-a;if(s===o){if(!t){const t=e.push("code_inline","code",0);t.markup=i,t.content=e.src.slice(n,a).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return e.pos=u,!0}e.backticks[s]=a}return e.backticksScanned=!0,t||(e.pending+=i),e.pos+=o,!0}],["strikethrough",_n.tokenize],["emphasis",bn.tokenize],["link",function(e,t){let n,s,r,i,o="",a="",u=e.pos,c=!0;if(91!==e.src.charCodeAt(e.pos))return!1;const l=e.pos,d=e.posMax,h=e.pos+1,p=e.md.helpers.parseLinkLabel(e,e.pos,!0);if(p<0)return!1;let f=p+1;if(f<d&&40===e.src.charCodeAt(f)){for(c=!1,f++;f<d&&(n=e.src.charCodeAt(f),Ft(n)||10===n);f++);if(f>=d)return!1;if(u=f,r=e.md.helpers.parseLinkDestination(e.src,f,e.posMax),r.ok){for(o=e.md.normalizeLink(r.str),e.md.validateLink(o)?f=r.pos:o="",u=f;f<d&&(n=e.src.charCodeAt(f),Ft(n)||10===n);f++);if(r=e.md.helpers.parseLinkTitle(e.src,f,e.posMax),f<d&&u!==f&&r.ok)for(a=r.str,f=r.pos;f<d&&(n=e.src.charCodeAt(f),Ft(n)||10===n);f++);}(f>=d||41!==e.src.charCodeAt(f))&&(c=!0),f++}if(c){if(void 0===e.env.references)return!1;if(f<d&&91===e.src.charCodeAt(f)?(u=f+1,f=e.md.helpers.parseLinkLabel(e,f),f>=0?s=e.src.slice(u,f++):f=p+1):f=p+1,s||(s=e.src.slice(h,p)),i=e.env.references[St(s)],!i)return e.pos=l,!1;o=i.href,a=i.title}if(!t){e.pos=h,e.posMax=p;const t=[["href",o]];e.push("link_open","a",1).attrs=t,a&&t.push(["title",a]),e.linkLevel++,e.md.inline.tokenize(e),e.linkLevel--,e.push("link_close","a",-1)}return e.pos=f,e.posMax=d,!0}],["image",function(e,t){let n,s,r,i,o,a,u,c,l="";const d=e.pos,h=e.posMax;if(33!==e.src.charCodeAt(e.pos))return!1;if(91!==e.src.charCodeAt(e.pos+1))return!1;const p=e.pos+2,f=e.md.helpers.parseLinkLabel(e,e.pos+1,!1);if(f<0)return!1;if(i=f+1,i<h&&40===e.src.charCodeAt(i)){for(i++;i<h&&(n=e.src.charCodeAt(i),Ft(n)||10===n);i++);if(i>=h)return!1;for(c=i,a=e.md.helpers.parseLinkDestination(e.src,i,e.posMax),a.ok&&(l=e.md.normalizeLink(a.str),e.md.validateLink(l)?i=a.pos:l=""),c=i;i<h&&(n=e.src.charCodeAt(i),Ft(n)||10===n);i++);if(a=e.md.helpers.parseLinkTitle(e.src,i,e.posMax),i<h&&c!==i&&a.ok)for(u=a.str,i=a.pos;i<h&&(n=e.src.charCodeAt(i),Ft(n)||10===n);i++);else u="";if(i>=h||41!==e.src.charCodeAt(i))return e.pos=d,!1;i++}else{if(void 0===e.env.references)return!1;if(i<h&&91===e.src.charCodeAt(i)?(c=i+1,i=e.md.helpers.parseLinkLabel(e,i),i>=0?r=e.src.slice(c,i++):i=f+1):i=f+1,r||(r=e.src.slice(p,f)),o=e.env.references[St(r)],!o)return e.pos=d,!1;l=o.href,u=o.title}if(!t){s=e.src.slice(p,f);const t=[];e.md.inline.parse(s,e.md,e.env,t);const n=e.push("image","img",0),r=[["src",l],["alt",""]];n.attrs=r,n.children=t,n.content=s,u&&r.push(["title",u])}return e.pos=i,e.posMax=h,!0}],["autolink",function(e,t){let n=e.pos;if(60!==e.src.charCodeAt(n))return!1;const s=e.pos,r=e.posMax;for(;;){if(++n>=r)return!1;const t=e.src.charCodeAt(n);if(60===t)return!1;if(62===t)break}const i=e.src.slice(s+1,n);if(Cn.test(i)){const n=e.md.normalizeLink(i);if(!e.md.validateLink(n))return!1;if(!t){const t=e.push("link_open","a",1);t.attrs=[["href",n]],t.markup="autolink",t.info="auto";e.push("text","",0).content=e.md.normalizeLinkText(i);const s=e.push("link_close","a",-1);s.markup="autolink",s.info="auto"}return e.pos+=i.length+2,!0}if(wn.test(i)){const n=e.md.normalizeLink("mailto:"+i);if(!e.md.validateLink(n))return!1;if(!t){const t=e.push("link_open","a",1);t.attrs=[["href",n]],t.markup="autolink",t.info="auto";e.push("text","",0).content=e.md.normalizeLinkText(i);const s=e.push("link_close","a",-1);s.markup="autolink",s.info="auto"}return e.pos+=i.length+2,!0}return!1}],["html_inline",function(e,t){if(!e.md.options.html)return!1;const n=e.posMax,s=e.pos;if(60!==e.src.charCodeAt(s)||s+2>=n)return!1;const r=e.src.charCodeAt(s+1);if(33!==r&&63!==r&&47!==r&&!function(e){const t=32|e;return t>=97&&t<=122}(r))return!1;const i=e.src.slice(s).match(cn);if(!i)return!1;if(!t){const t=e.push("html_inline","",0);t.content=i[0],o=t.content,/^<a[>\s]/i.test(o)&&e.linkLevel++,function(e){return/^<\/a\s*>/i.test(e)}(t.content)&&e.linkLevel--}var o;return e.pos+=i[0].length,!0}],["entity",function(e,t){const n=e.pos,s=e.posMax;if(38!==e.src.charCodeAt(n))return!1;if(n+1>=s)return!1;if(35===e.src.charCodeAt(n+1)){const s=e.src.slice(n).match(vn);if(s){if(!t){const t="x"===s[1][0].toLowerCase()?parseInt(s[1].slice(1),16):parseInt(s[1],10),n=e.push("text_special","",0);n.content=pt(t)?ft(t):ft(65533),n.markup=s[0],n.info="entity"}return e.pos+=s[0].length,!0}}else{const s=e.src.slice(n).match(Fn);if(s){const n=ut(s[0]);if(n!==s[0]){if(!t){const t=e.push("text_special","",0);t.content=n,t.markup=s[0],t.info="entity"}return e.pos+=s[0].length,!0}}}return!1}]],An=[["balance_pairs",function(e){const t=e.tokens_meta,n=e.tokens_meta.length;xn(e.delimiters);for(let s=0;s<n;s++)t[s]&&t[s].delimiters&&xn(t[s].delimiters)}],["strikethrough",_n.postProcess],["emphasis",bn.postProcess],["fragments_join",function(e){let t,n,s=0;const r=e.tokens,i=e.tokens.length;for(t=n=0;t<i;t++)r[t].nesting<0&&s--,r[t].level=s,r[t].nesting>0&&s++,"text"===r[t].type&&t+1<i&&"text"===r[t+1].type?r[t+1].content=r[t].content+r[t+1].content:(t!==n&&(r[n]=r[t]),n++);t!==n&&(r.length=n)}]];function Sn(){this.ruler=new Ot;for(let e=0;e<En.length;e++)this.ruler.push(En[e][0],En[e][1]);this.ruler2=new Ot;for(let e=0;e<An.length;e++)this.ruler2.push(An[e][0],An[e][1])}function Mn(e){return Array.prototype.slice.call(arguments,1).forEach(function(t){t&&Object.keys(t).forEach(function(n){e[n]=t[n]})}),e}function Tn(e){return Object.prototype.toString.call(e)}function Bn(e){return"[object Function]"===Tn(e)}function $n(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}Sn.prototype.skipToken=function(e){const t=e.pos,n=this.ruler.getRules(""),s=n.length,r=e.md.options.maxNesting,i=e.cache;if(void 0!==i[t])return void(e.pos=i[t]);let o=!1;if(e.level<r){for(let a=0;a<s;a++)if(e.level++,o=n[a](e,!0),e.level--,o){if(t>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}else e.pos=e.posMax;o||e.pos++,i[t]=e.pos},Sn.prototype.tokenize=function(e){const t=this.ruler.getRules(""),n=t.length,s=e.posMax,r=e.md.options.maxNesting;for(;e.pos<s;){const i=e.pos;let o=!1;if(e.level<r)for(let s=0;s<n;s++)if(o=t[s](e,!1),o){if(i>=e.pos)throw new Error("inline rule didn't increment state.pos");break}if(o){if(e.pos>=s)break}else e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()},Sn.prototype.parse=function(e,t,n,s){const r=new this.State(e,t,n,s);this.tokenize(r);const i=this.ruler2.getRules(""),o=i.length;for(let a=0;a<o;a++)i[a](r)},Sn.prototype.State=fn;const In={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};const On={"http:":{validate:function(e,t,n){const s=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(s)?s.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){const s=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(s)?t>=3&&":"===e[t-3]||t>=3&&"/"===e[t-3]?0:s.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){const s=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(s)?s.match(n.re.mailto)[0].length:0}}},jn="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|—Ä—Ñ".split("|");function Nn(e){const t=e.re=function(e){const t={};e=e||{},t.src_Any=je.source,t.src_Cc=Ne.source,t.src_Z=qe.source,t.src_P=Pe.source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");const n="[><ÔΩú]";return t.src_pseudo_letter="(?:(?![><ÔΩú]|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|[><ÔΩú]|"+t.src_ZPCc+")(?!"+(e["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+n+"|[()[\\]{}.,\"'?!\\-;]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]|$)|"+(e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+t.src_ZCc+"|$)|;(?!"+t.src_ZCc+"|$)|\\!+(?!"+t.src_ZCc+"|[!]|$)|\\?(?!"+t.src_ZCc+"|[?]|$))+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy='(^|[><ÔΩú]|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|ÔΩú]|"+t.src_ZPCc+"))((?![$+<=>^`|ÔΩú])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|ÔΩú]|"+t.src_ZPCc+"))((?![$+<=>^`|ÔΩú])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}(e.__opts__),n=e.__tlds__.slice();function s(e){return e.replace("%TLDS%",t.src_tlds)}e.onCompile(),e.__tlds_replaced__||n.push("a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]"),n.push(t.src_xn),t.src_tlds=n.join("|"),t.email_fuzzy=RegExp(s(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(s(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(s(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(s(t.tpl_host_fuzzy_test),"i");const r=[];function i(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}e.__compiled__={},Object.keys(e.__schemas__).forEach(function(t){const n=e.__schemas__[t];if(null===n)return;const s={validate:null,link:null};if(e.__compiled__[t]=s,"[object Object]"===Tn(n))return!function(e){return"[object RegExp]"===Tn(e)}(n.validate)?Bn(n.validate)?s.validate=n.validate:i(t,n):s.validate=function(e){return function(t,n){const s=t.slice(n);return e.test(s)?s.match(e)[0].length:0}}(n.validate),void(Bn(n.normalize)?s.normalize=n.normalize:n.normalize?i(t,n):s.normalize=function(e,t){t.normalize(e)});!function(e){return"[object String]"===Tn(e)}(n)?i(t,n):r.push(t)}),r.forEach(function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)}),e.__compiled__[""]={validate:null,normalize:function(e,t){t.normalize(e)}};const o=Object.keys(e.__compiled__).filter(function(t){return t.length>0&&e.__compiled__[t]}).map($n).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><ÔΩú]|"+t.src_ZPCc+"))("+o+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><ÔΩú]|"+t.src_ZPCc+"))("+o+")","ig"),e.re.schema_at_start=RegExp("^"+e.re.schema_search.source,"i"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),function(e){e.__index__=-1,e.__text_cache__=""}(e)}function Pn(e,t){const n=e.__index__,s=e.__last_index__,r=e.__text_cache__.slice(n,s);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=s+t,this.raw=r,this.text=r,this.url=r}function Rn(e,t){const n=new Pn(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function qn(e,t){if(!(this instanceof qn))return new qn(e,t);var n;t||(n=e,Object.keys(n||{}).reduce(function(e,t){return e||In.hasOwnProperty(t)},!1)&&(t=e,e={})),this.__opts__=Mn({},In,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=Mn({},On,e),this.__compiled__={},this.__tlds__=jn,this.__tlds_replaced__=!1,this.re={},Nn(this)}qn.prototype.add=function(e,t){return this.__schemas__[e]=t,Nn(this),this},qn.prototype.set=function(e){return this.__opts__=Mn(this.__opts__,e),this},qn.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;let t,n,s,r,i,o,a,u,c;if(this.re.schema_test.test(e))for(a=this.re.schema_search,a.lastIndex=0;null!==(t=a.exec(e));)if(r=this.testSchemaAt(e,t[2],a.lastIndex),r){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+r;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(u=e.search(this.re.host_fuzzy_test),u>=0&&(this.__index__<0||u<this.__index__)&&null!==(n=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(i=n.index+n[1].length,(this.__index__<0||i<this.__index__)&&(this.__schema__="",this.__index__=i,this.__last_index__=n.index+n[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(c=e.indexOf("@"),c>=0&&null!==(s=e.match(this.re.email_fuzzy))&&(i=s.index+s[1].length,o=s.index+s[0].length,(this.__index__<0||i<this.__index__||i===this.__index__&&o>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=i,this.__last_index__=o))),this.__index__>=0},qn.prototype.pretest=function(e){return this.re.pretest.test(e)},qn.prototype.testSchemaAt=function(e,t,n){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,n,this):0},qn.prototype.match=function(e){const t=[];let n=0;this.__index__>=0&&this.__text_cache__===e&&(t.push(Rn(this,n)),n=this.__last_index__);let s=n?e.slice(n):e;for(;this.test(s);)t.push(Rn(this,n)),s=s.slice(this.__last_index__),n+=this.__last_index__;return t.length?t:null},qn.prototype.matchAtStart=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return null;const t=this.re.schema_at_start.exec(e);if(!t)return null;const n=this.testSchemaAt(e,t[2],t[0].length);return n?(this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+n,Rn(this,0)):null},qn.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter(function(e,t,n){return e!==n[t-1]}).reverse(),Nn(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,Nn(this),this)},qn.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},qn.prototype.onCompile=function(){};const zn=2147483647,Ln=36,Zn=/^xn--/,Hn=/[^\0-\x7F]/,Un=/[\x2E\u3002\uFF0E\uFF61]/g,Vn={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Wn=Math.floor,Jn=String.fromCharCode;function Kn(e){throw new RangeError(Vn[e])}function Gn(e,t){const n=e.split("@");let s="";n.length>1&&(s=n[0]+"@",e=n[1]);const r=function(e,t){const n=[];let s=e.length;for(;s--;)n[s]=t(e[s]);return n}((e=e.replace(Un,".")).split("."),t).join(".");return s+r}function Yn(e){const t=[];let n=0;const s=e.length;for(;n<s;){const r=e.charCodeAt(n++);if(r>=55296&&r<=56319&&n<s){const s=e.charCodeAt(n++);56320==(64512&s)?t.push(((1023&r)<<10)+(1023&s)+65536):(t.push(r),n--)}else t.push(r)}return t}const Qn=function(e){return e>=48&&e<58?e-48+26:e>=65&&e<91?e-65:e>=97&&e<123?e-97:Ln},Xn=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},es=function(e,t,n){let s=0;for(e=n?Wn(e/700):e>>1,e+=Wn(e/t);e>455;s+=Ln)e=Wn(e/35);return Wn(s+36*e/(e+38))},ts=function(e){const t=[],n=e.length;let s=0,r=128,i=72,o=e.lastIndexOf("-");o<0&&(o=0);for(let a=0;a<o;++a)e.charCodeAt(a)>=128&&Kn("not-basic"),t.push(e.charCodeAt(a));for(let a=o>0?o+1:0;a<n;){const o=s;for(let t=1,r=Ln;;r+=Ln){a>=n&&Kn("invalid-input");const o=Qn(e.charCodeAt(a++));o>=Ln&&Kn("invalid-input"),o>Wn((zn-s)/t)&&Kn("overflow"),s+=o*t;const u=r<=i?1:r>=i+26?26:r-i;if(o<u)break;const c=Ln-u;t>Wn(zn/c)&&Kn("overflow"),t*=c}const u=t.length+1;i=es(s-o,u,0==o),Wn(s/u)>zn-r&&Kn("overflow"),r+=Wn(s/u),s%=u,t.splice(s++,0,r)}return String.fromCodePoint(...t)},ns=function(e){const t=[],n=(e=Yn(e)).length;let s=128,r=0,i=72;for(const u of e)u<128&&t.push(Jn(u));const o=t.length;let a=o;for(o&&t.push("-");a<n;){let n=zn;for(const t of e)t>=s&&t<n&&(n=t);const u=a+1;n-s>Wn((zn-r)/u)&&Kn("overflow"),r+=(n-s)*u,s=n;for(const c of e)if(c<s&&++r>zn&&Kn("overflow"),c===s){let e=r;for(let n=Ln;;n+=Ln){const s=n<=i?1:n>=i+26?26:n-i;if(e<s)break;const r=e-s,o=Ln-s;t.push(Jn(Xn(s+r%o,0))),e=Wn(r/o)}t.push(Jn(Xn(e,0))),i=es(r,u,a===o),r=0,++a}++r,++s}return t.join("")},ss=function(e){return Gn(e,function(e){return Hn.test(e)?"xn--"+ns(e):e})},rs=function(e){return Gn(e,function(e){return Zn.test(e)?ts(e.slice(4).toLowerCase()):e})},is={default:{options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"‚Äú‚Äù‚Äò‚Äô",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},zero:{options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"‚Äú‚Äù‚Äò‚Äô",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},commonmark:{options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"‚Äú‚Äù‚Äò‚Äô",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}}},os=/^(vbscript|javascript|file|data):/,as=/^data:image\/(gif|png|jpeg|webp);/;function us(e){const t=e.trim().toLowerCase();return!os.test(t)||as.test(t)}const cs=["http:","https:","mailto:"];function ls(e){const t=Ie(e,!0);if(t.hostname&&(!t.protocol||cs.indexOf(t.protocol)>=0))try{t.hostname=ss(t.hostname)}catch(n){}return ke(be(t))}function ds(e){const t=Ie(e,!0);if(t.hostname&&(!t.protocol||cs.indexOf(t.protocol)>=0))try{t.hostname=rs(t.hostname)}catch(n){}return ye(be(t),ye.defaultChars+"%")}function hs(e,t){if(!(this instanceof hs))return new hs(e,t);t||ct(e)||(t=e||{},e="default"),this.inline=new Sn,this.block=new pn,this.core=new en,this.renderer=new It,this.linkify=new qn,this.validateLink=us,this.normalizeLink=ls,this.normalizeLinkText=ds,this.utils=Tt,this.helpers=dt({},Bt),this.options={},this.configure(e),t&&this.set(t)}function ps(e,t,n,s){const r=new Error(n);return r.name="TaskFlowError",r.type=e,r.code=t,r.context=s,r}hs.prototype.set=function(e){return dt(this.options,e),this},hs.prototype.configure=function(e){const t=this;if(ct(e)){const t=e;if(!(e=is[t]))throw new Error('Wrong `markdown-it` preset "'+t+'", check name')}if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&t.set(e.options),e.components&&Object.keys(e.components).forEach(function(n){e.components[n].rules&&t[n].ruler.enableOnly(e.components[n].rules),e.components[n].rules2&&t[n].ruler2.enableOnly(e.components[n].rules2)}),this},hs.prototype.enable=function(e,t){let n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(t){n=n.concat(this[t].ruler.enable(e,!0))},this),n=n.concat(this.inline.ruler2.enable(e,!0));const s=e.filter(function(e){return n.indexOf(e)<0});if(s.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+s);return this},hs.prototype.disable=function(e,t){let n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(t){n=n.concat(this[t].ruler.disable(e,!0))},this),n=n.concat(this.inline.ruler2.disable(e,!0));const s=e.filter(function(e){return n.indexOf(e)<0});if(s.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+s);return this},hs.prototype.use=function(e){const t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this},hs.prototype.parse=function(e,t){if("string"!=typeof e)throw new Error("Input data should be a String");const n=new this.core.State(e,this,t);return this.core.process(n),n.tokens},hs.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)},hs.prototype.parseInline=function(e,t){const n=new this.core.State(e,this,t);return n.inlineMode=!0,this.core.process(n),n.tokens},hs.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)};class fs{constructor(e){this.config=e,this.logger=me.getInstance("PRDParser"),this.markdown=new hs({html:!0,linkify:!0,typographer:!0})}logger;markdown;async parse(e){this.logger.info(`ÂºÄÂßãËß£ÊûêPRDÊñáÊ°£: ${e}`);try{if(!(await i.pathExists(e)))throw ps("parsing","FILE_NOT_FOUND",`Êñá‰ª∂‰∏çÂ≠òÂú®: ${e}`);const t=r.extname(e).toLowerCase();if(!Q.includes(t))throw ps("parsing","UNSUPPORTED_FORMAT",`‰∏çÊîØÊåÅÁöÑÊñá‰ª∂Ê†ºÂºè: ${t}`);const n=await i.readFile(e,"utf-8"),s=await this.parseContent(n,e);return this.logger.info(`PRDÊñáÊ°£Ëß£ÊûêÂÆåÊàêÔºåÂåÖÂê´ ${s.sections.length} ‰∏™Á´†ËäÇ`),s}catch(t){throw this.logger.error("PRDËß£ÊûêÂ§±Ë¥•:",t),t}}async parseContent(e,t){const n=r.basename(t,r.extname(t)),s=this.markdown.parse(e,{}),i=this.extractTitle(s)||n,o=this.extractSections(s),a=this.estimateWorkHours(o),u=this.determineComplexity(o,a);return{id:`prd-${Date.now()}`,title:i,version:"1.0.0",filePath:t,content:e,metadata:{author:"Unknown",createDate:new Date,lastModified:new Date,tags:[],priority:"medium",complexity:u,estimatedHours:a},sections:o,createdAt:new Date,updatedAt:new Date}}extractTitle(e){for(const t of e)if("heading_open"===t.type&&"h1"===t.tag){const n=e[e.indexOf(t)+1];if(n&&"inline"===n.type)return n.content}return null}extractSections(e){const t=[];let n=null,s=0;for(let r=0;r<e.length;r++){const i=e[r];if("heading_open"===i.type&&["h2","h3"].includes(i.tag)){n&&t.push(n);const i=e[r+1],o=i?.content||"Untitled Section";n={id:`section-${Date.now()}-${s}`,title:o,type:this.determineSectionType(o),content:"",requirements:[],dependencies:[],order:s++}}else n&&i.content&&(n.content+=i.content+"\n")}return n&&t.push(n),t}determineSectionType(e){const t=e.toLowerCase();return t.includes("Ê¶ÇËø∞")||t.includes("overview")?"overview":t.includes("ÈúÄÊ±Ç")||t.includes("requirement")?"requirements":t.includes("ÂäüËÉΩ")||t.includes("function")?"functional":t.includes("ÊäÄÊúØ")||t.includes("technical")?"technical":t.includes("ÁïåÈù¢")||t.includes("ui")||t.includes("ux")?"ui-ux":t.includes("È™åÊî∂")||t.includes("acceptance")?"acceptance":"functional"}estimateWorkHours(e){let t=0;for(const n of e){const e=n.content.length;switch(e>1e3?"complex":e>500?"medium":"simple"){case"simple":t+=8;break;case"medium":t+=16;break;case"complex":t+=32}}return Math.max(t,8)}determineComplexity(e,t){return t>200?"epic":t>80?"complex":t>40?"medium":"simple"}}class ms{constructor(e){this.config=e,this.logger=me.getInstance("TaskGenerator")}logger;async generateTasks(e){this.logger.info(`ÂºÄÂßã‰∏∫ÊñáÊ°£ "${e.title}" ÁîüÊàê‰ªªÂä°`);try{const t=[];let n=0;for(const r of e.sections){const e=await this.generateTasksForSection(r,n);t.push(...e),n+=e.length}const s=this.generateCommonTasks(e,n);return t.push(...s),this.analyzeDependencies(t),this.logger.info(`‰ªªÂä°ÁîüÊàêÂÆåÊàêÔºåÂÖ±ÁîüÊàê ${t.length} ‰∏™‰ªªÂä°`),t}catch(t){throw this.logger.error("‰ªªÂä°ÁîüÊàêÂ§±Ë¥•:",t),t}}async generateTasksForSection(e,t){const n=[],s=`task-${Date.now()}-${t}`;switch(e.type){case"functional":n.push(...this.generateFunctionalTasks(e,s));break;case"technical":n.push(...this.generateTechnicalTasks(e,s));break;case"ui-ux":n.push(...this.generateUITasks(e,s));break;default:n.push(this.generateGenericTask(e,s))}return n}generateFunctionalTasks(e,t){const n=[];return n.push({id:`${t}-backend`,title:`ÂÆûÁé∞${e.title}ÂêéÁ´ØAPI`,description:`ÂºÄÂèë${e.title}Áõ∏ÂÖ≥ÁöÑÂêéÁ´ØÊé•Âè£Âíå‰∏öÂä°ÈÄªËæë`,type:"backend",status:"todo",priority:"medium",complexity:"medium",estimatedHours:16,dependencies:[],tags:["api","backend"],subtasks:[],progress:0,createdAt:new Date,updatedAt:new Date}),n.push({id:`${t}-frontend`,title:`ÂÆûÁé∞${e.title}ÂâçÁ´ØÂäüËÉΩ`,description:`ÂºÄÂèë${e.title}ÁöÑÂâçÁ´ØÁïåÈù¢Âíå‰∫§‰∫íÈÄªËæë`,type:"frontend",status:"todo",priority:"medium",complexity:"medium",estimatedHours:12,dependencies:[`${t}-backend`],tags:["ui","frontend"],subtasks:[],progress:0,createdAt:new Date,updatedAt:new Date}),n}generateTechnicalTasks(e,t){return[{id:`${t}-architecture`,title:`ËÆæËÆ°${e.title}ÊäÄÊúØÊû∂ÊûÑ`,description:`ËÆæËÆ°ÂíåËßÑÂàí${e.title}ÁöÑÊäÄÊúØÂÆûÁé∞ÊñπÊ°à`,type:"research",status:"todo",priority:"high",complexity:"complex",estimatedHours:8,dependencies:[],tags:["architecture","design"],subtasks:[],progress:0,createdAt:new Date,updatedAt:new Date}]}generateUITasks(e,t){return[{id:`${t}-design`,title:`ËÆæËÆ°${e.title}ÁïåÈù¢`,description:`ËÆæËÆ°${e.title}ÁöÑÁî®Êà∑ÁïåÈù¢Âíå‰∫§‰∫íÊµÅÁ®ã`,type:"design",status:"todo",priority:"medium",complexity:"medium",estimatedHours:8,dependencies:[],tags:["ui","design"],subtasks:[],progress:0,createdAt:new Date,updatedAt:new Date}]}generateGenericTask(e,t){return{id:t,title:`ÂÆûÁé∞${e.title}`,description:e.content||`ÂºÄÂèë${e.title}Áõ∏ÂÖ≥ÂäüËÉΩ`,type:"frontend",status:"todo",priority:"medium",complexity:"medium",estimatedHours:8,dependencies:[],tags:[],subtasks:[],progress:0,createdAt:new Date,updatedAt:new Date}}generateCommonTasks(e,t){const n=`common-${Date.now()}`;return[{id:`${n}-database`,title:"Êï∞ÊçÆÂ∫ìËÆæËÆ°ÂíåÂÆûÁé∞",description:"ËÆæËÆ°Êï∞ÊçÆÂ∫ìË°®ÁªìÊûÑÂπ∂ÂÆûÁé∞Êï∞ÊçÆËÆøÈóÆÂ±Ç",type:"database",status:"todo",priority:"high",complexity:"medium",estimatedHours:16,dependencies:[],tags:["database","backend"],subtasks:[],progress:0,createdAt:new Date,updatedAt:new Date},{id:`${n}-testing`,title:"ÁºñÂÜôÊµãËØïÁî®‰æã",description:"ÁºñÂÜôÂçïÂÖÉÊµãËØïÂíåÈõÜÊàêÊµãËØï",type:"testing",status:"todo",priority:"medium",complexity:"medium",estimatedHours:12,dependencies:[],tags:["testing","quality"],subtasks:[],progress:0,createdAt:new Date,updatedAt:new Date},{id:`${n}-documentation`,title:"ÁºñÂÜôÈ°πÁõÆÊñáÊ°£",description:"ÁºñÂÜôAPIÊñáÊ°£„ÄÅÁî®Êà∑ÊâãÂÜåÂíåÈÉ®ÁΩ≤ÊåáÂçó",type:"documentation",status:"todo",priority:"low",complexity:"simple",estimatedHours:8,dependencies:[],tags:["documentation"],subtasks:[],progress:0,createdAt:new Date,updatedAt:new Date},{id:`${n}-deployment`,title:"ÈÉ®ÁΩ≤ÂíåÂèëÂ∏É",description:"ÈÖçÁΩÆÁîü‰∫ßÁéØÂ¢ÉÂπ∂ÈÉ®ÁΩ≤Â∫îÁî®",type:"deployment",status:"todo",priority:"medium",complexity:"medium",estimatedHours:6,dependencies:[],tags:["deployment","devops"],subtasks:[],progress:0,createdAt:new Date,updatedAt:new Date}]}analyzeDependencies(e){e.forEach(t=>{if("frontend"===t.type){const n=e.find(e=>"backend"===e.type&&e.title.includes(t.title.replace("ÂâçÁ´Ø","ÂêéÁ´Ø").replace("ÁïåÈù¢","API")));n&&!t.dependencies.includes(n.id)&&t.dependencies.push(n.id)}if("testing"===t.type){const n=e.filter(e=>["frontend","backend","database"].includes(e.type)&&e.id!==t.id);t.dependencies.push(...n.map(e=>e.id))}if("deployment"===t.type){const n=e.filter(e=>"testing"===e.type);t.dependencies.push(...n.map(e=>e.id))}})}}function gs(e){const t=[];if(e.projectName&&"string"==typeof e.projectName||t.push("projectName is required and must be a string"),e.version&&pe.SEMVER.test(e.version)||t.push("version must be a valid semantic version"),e.aiModels&&Array.isArray(e.aiModels)&&e.aiModels.forEach((e,n)=>{e.provider&&"string"==typeof e.provider||t.push(`aiModels[${n}].provider is required`),e.modelName&&"string"==typeof e.modelName||t.push(`aiModels[${n}].modelName is required`),"boolean"!=typeof e.enabled&&t.push(`aiModels[${n}].enabled must be a boolean`)}),e.mcpSettings){const n=e.mcpSettings;"boolean"!=typeof n.enabled&&t.push("mcpSettings.enabled must be a boolean"),n.port&&("number"!=typeof n.port||n.port<1||n.port>65535)&&t.push("mcpSettings.port must be a valid port number")}return{valid:0===t.length,errors:t.length>0?t:void 0}}async function Ds(e){return e?Buffer.from(e).toString("base64"):""}async function ys(e){if(!e)return"";try{return Buffer.from(e,"base64").toString("utf-8")}catch{return e}}class _s{configPath;configDir;constructor(e){const t=e||process.cwd();this.configDir=r.join(t,G),this.configPath=r.join(this.configDir,Y)}async loadConfig(){try{if(!(await i.pathExists(this.configPath)))return null;const e=await i.readJson(this.configPath),t=this.mergeWithDefaults(e),n=gs(t);if(!n.valid)throw ps("config",ue,`ÈÖçÁΩÆÊñá‰ª∂Êó†Êïà: ${n.errors?.join(", ")}`,{errors:n.errors});return t.aiModels&&(t.aiModels=await Promise.all(t.aiModels.map(async e=>({...e,apiKey:await ys(e.apiKey)})))),t}catch(e){if("ENOENT"===e.code)return null;if("TaskFlowError"===e.name)throw e;throw ps("config",ce,"ÈÖçÁΩÆÊñá‰ª∂Ëß£ÊûêÂ§±Ë¥•",{originalError:e})}}async saveConfig(e){try{const t=gs(e);if(!t.valid)throw ps("config",ue,`ÈÖçÁΩÆÊó†Êïà: ${t.errors?.join(", ")}`,{errors:t.errors});await i.ensureDir(this.configDir);const n={...e};n.aiModels&&(n.aiModels=await Promise.all(n.aiModels.map(async e=>({...e,apiKey:await Ds(e.apiKey)})))),await i.writeJson(this.configPath,n,{spaces:2}),await i.chmod(this.configPath,384)}catch(t){if("TaskFlowError"===t?.name)throw t;throw ps("config",de,"ÈÖçÁΩÆÊñá‰ª∂‰øùÂ≠òÂ§±Ë¥•",{originalError:t})}}async updateAIModel(e){const t=await this.loadConfig();if(!t)throw ps("config",ae,"ÈÖçÁΩÆÊñá‰ª∂‰∏çÂ≠òÂú®");const n=t.aiModels.findIndex(t=>t.provider===e.provider&&t.modelName===e.modelName);n>=0?t.aiModels[n]=e:t.aiModels.push(e),await this.saveConfig(t)}async removeAIModel(e,t){const n=await this.loadConfig();if(!n)throw ps("config",ae,"ÈÖçÁΩÆÊñá‰ª∂‰∏çÂ≠òÂú®");n.aiModels=n.aiModels.filter(n=>!(n.provider===e&&n.modelName===t)),await this.saveConfig(n)}async getAIModels(){const e=await this.loadConfig();return e?.aiModels||[]}async getEnabledAIModels(){return(await this.getAIModels()).filter(e=>e.enabled).sort((e,t)=>e.priority-t.priority)}async updateMCPSettings(e){const t=await this.loadConfig();if(!t)throw ps("config",ae,"ÈÖçÁΩÆÊñá‰ª∂‰∏çÂ≠òÂú®");t.mcpSettings={...t.mcpSettings,...e},await this.saveConfig(t)}async configExists(){return await i.pathExists(this.configPath)}getConfigPath(){return this.configPath}getConfigDir(){return this.configDir}async backupConfig(){if(!(await this.configExists()))throw ps("config",ae,"ÈÖçÁΩÆÊñá‰ª∂‰∏çÂ≠òÂú®ÔºåÊó†Ê≥ïÂ§á‰ªΩ");const e=(new Date).toISOString().replace(/[:.]/g,"-"),t=r.join(this.configDir,`${Y}.backup.${e}`);return await i.copy(this.configPath,t),t}async restoreConfig(e){if(!(await i.pathExists(e)))throw ps("config",le,"Â§á‰ªΩÊñá‰ª∂‰∏çÂ≠òÂú®");const t=gs(await i.readJson(e));if(!t.valid)throw ps("config",ue,`Â§á‰ªΩÊñá‰ª∂Êó†Êïà: ${t.errors?.join(", ")}`);await i.copy(e,this.configPath)}async resetConfig(){await this.saveConfig(he)}async getConfigStats(){if(!(await this.configExists()))return{hasConfig:!1,aiModelsCount:0,enabledModelsCount:0,mcpEnabled:!1};const e=await this.loadConfig(),t=await i.stat(this.configPath);return{hasConfig:!0,aiModelsCount:e?.aiModels.length||0,enabledModelsCount:e?.aiModels.filter(e=>e.enabled).length||0,mcpEnabled:e?.mcpSettings.enabled||!1,lastModified:t.mtime}}async validateApiKeys(){const e=await this.getEnabledAIModels(),t=[];for(const s of e)try{const e=!!s.apiKey&&s.apiKey.length>0;t.push({provider:s.provider,valid:e,error:e?void 0:"APIÂØÜÈí•‰∏∫Á©∫ÊàñÊó†Êïà"})}catch(n){t.push({provider:s.provider,valid:!1,error:n.message})}return t}async exportConfig(){const e=await this.loadConfig();if(!e)throw ps("config",ae,"ÈÖçÁΩÆÊñá‰ª∂‰∏çÂ≠òÂú®");return{...e,aiModels:e.aiModels.map(e=>({...e,apiKey:"***"}))}}async importConfig(e){const t=await this.loadConfig()||he,n={...t,...e,aiModels:e.aiModels||t.aiModels,mcpSettings:{...t.mcpSettings,...e.mcpSettings||{}}};await this.saveConfig(n)}mergeWithDefaults(e){return{...he,...e,mcpSettings:{...he.mcpSettings,...e.mcpSettings||{},security:{...he.mcpSettings.security,...e.mcpSettings?.security||{},rateLimit:{...he.mcpSettings.security.rateLimit,...e.mcpSettings?.security?.rateLimit||{}},sandbox:{...he.mcpSettings.security.sandbox,...e.mcpSettings?.security?.sandbox||{}}}}}}}async function ks(e){return new _s(e).loadConfig()}async function bs(e,t){const n=new _s(t);await n.saveConfig(e)}function ws(e,t){return{type:"gantt",title:"È°πÁõÆÁîòÁâπÂõæ",data:e.tasks.map((e,t)=>({id:e.id,name:e.title,start:(new Date).toISOString().split("T")[0],duration:e.estimatedHours||8,progress:e.progress||0,dependencies:e.dependencies||[],type:e.type,priority:e.priority})),config:{theme:t.theme||"light",showProgress:!0,showDependencies:!0,showMilestones:t.features?.includes("milestones")}}}function Cs(e,t){const n=e.tasks.reduce((e,t)=>(e[t.type]=(e[t.type]||0)+1,e),{});return{type:"pie",title:"‰ªªÂä°Á±ªÂûãÂàÜÂ∏É",data:Object.entries(n).map(([t,n])=>({name:t,value:n,percentage:(n/e.tasks.length*100).toFixed(1)})),config:{theme:t.theme||"light",showLabels:!0,showPercentages:!0}}}function vs(e,t){const n=e.tasks.reduce((e,t)=>(e[t.type]=(e[t.type]||0)+(t.estimatedHours||0),e),{});return{type:"bar",title:"Â∑•Êó∂ÂàÜÂ∏ÉÁªüËÆ°",data:Object.entries(n).map(([e,t])=>({name:e,value:t,unit:"Â∞èÊó∂"})),config:{theme:t.theme||"light",showValues:!0,orientation:"vertical"}}}function Fs(e,t){const n=e.map(e=>`\n    <div class="chart-container">\n      <h3>${e.title}</h3>\n      <div class="chart-placeholder">\n        <p>üìä ${e.type.toUpperCase()} ÂõæË°®</p>\n        <p>Êï∞ÊçÆÁÇπ: ${Array.isArray(e.data)?e.data.length:"Êú™Áü•"}</p>\n        <p>‰∏ªÈ¢ò: ${e.config.theme}</p>\n      </div>\n    </div>\n  `).join("");return`\n<!DOCTYPE html>\n<html lang="zh-CN">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>TaskFlow AI - È°πÁõÆÂèØËßÜÂåñÊä•Âëä</title>\n    <style>\n        body {\n            font-family: 'Segoe UI', sans-serif;\n            margin: 0;\n            padding: 20px;\n            background-color: ${"dark"===t.theme?"#1a1a1a":"#f5f5f5"};\n            color: ${"dark"===t.theme?"#ffffff":"#333333"};\n        }\n        .header {\n            text-align: center;\n            margin-bottom: 40px;\n            padding: 20px;\n            background: ${"dark"===t.theme?"#2a2a2a":"#ffffff"};\n            border-radius: 10px;\n            box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n        }\n        .chart-container {\n            margin: 30px 0;\n            padding: 20px;\n            background: ${"dark"===t.theme?"#2a2a2a":"#ffffff"};\n            border-radius: 10px;\n            box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n        }\n        .chart-placeholder {\n            height: 400px;\n            display: flex;\n            flex-direction: column;\n            justify-content: center;\n            align-items: center;\n            background: ${"dark"===t.theme?"#3a3a3a":"#f8f9fa"};\n            border: 2px dashed ${"dark"===t.theme?"#555":"#ddd"};\n            border-radius: 8px;\n            color: ${"dark"===t.theme?"#aaa":"#666"};\n        }\n        .stats {\n            display: grid;\n            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n            gap: 20px;\n            margin: 30px 0;\n        }\n        .stat-card {\n            padding: 20px;\n            background: ${"dark"===t.theme?"#2a2a2a":"#ffffff"};\n            border-radius: 10px;\n            text-align: center;\n            box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n        }\n        .stat-value {\n            font-size: 2em;\n            font-weight: bold;\n            color: #3B82F6;\n        }\n        .footer {\n            text-align: center;\n            margin-top: 40px;\n            padding: 20px;\n            color: ${"dark"===t.theme?"#aaa":"#666"};\n            font-size: 0.9em;\n        }\n    </style>\n</head>\n<body>\n    <div class="header">\n        <h1>üìä TaskFlow AI È°πÁõÆÂèØËßÜÂåñÊä•Âëä</h1>\n        <p>ÁîüÊàêÊó∂Èó¥: ${(new Date).toLocaleString()}</p>\n        <p>Êä•ÂëäÁ±ªÂûã: ${t.type.toUpperCase()}</p>\n    </div>\n\n    <div class="stats">\n        <div class="stat-card">\n            <div class="stat-value">${e.length}</div>\n            <div>ÂõæË°®Êï∞Èáè</div>\n        </div>\n        <div class="stat-card">\n            <div class="stat-value">${t.theme}</div>\n            <div>‰∏ªÈ¢òÈ£éÊ†º</div>\n        </div>\n        <div class="stat-card">\n            <div class="stat-value">${t.format.toUpperCase()}</div>\n            <div>ËæìÂá∫Ê†ºÂºè</div>\n        </div>\n    </div>\n\n    ${n}\n\n    <div class="footer">\n        <p>üìã ËØ•Êä•ÂëäÁî± TaskFlow AI Ëá™Âä®ÁîüÊàê</p>\n        <p>üí° ÂÆåÊï¥ÁöÑ‰∫§‰∫íÂºèÂõæË°®ÂäüËÉΩÂç≥Â∞ÜÂú®‰∏ã‰∏™ÁâàÊú¨‰∏≠Êèê‰æõ</p>\n        <p>üîó ËÆøÈóÆ <a href="https://github.com/Agions/taskflow-ai">GitHub</a> Ëé∑ÂèñÊõ¥Â§ö‰ø°ÊÅØ</p>\n    </div>\n</body>\n</html>`}var xs,Es,As;(Es=xs||(xs={})).assertEqual=e=>{},Es.assertIs=function(e){},Es.assertNever=function(e){throw new Error},Es.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},Es.getValidEnumValues=e=>{const t=Es.objectKeys(e).filter(t=>"number"!=typeof e[e[t]]),n={};for(const s of t)n[s]=e[s];return Es.objectValues(n)},Es.objectValues=e=>Es.objectKeys(e).map(function(t){return e[t]}),Es.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},Es.find=(e,t)=>{for(const n of e)if(t(n))return n},Es.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,Es.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},Es.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t,(As||(As={})).mergeShapes=(e,t)=>({...e,...t});const Ss=xs.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ms=e=>{switch(typeof e){case"undefined":return Ss.undefined;case"string":return Ss.string;case"number":return Number.isNaN(e)?Ss.nan:Ss.number;case"boolean":return Ss.boolean;case"function":return Ss.function;case"bigint":return Ss.bigint;case"symbol":return Ss.symbol;case"object":return Array.isArray(e)?Ss.array:null===e?Ss.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?Ss.promise:"undefined"!=typeof Map&&e instanceof Map?Ss.map:"undefined"!=typeof Set&&e instanceof Set?Ss.set:"undefined"!=typeof Date&&e instanceof Date?Ss.date:Ss.object;default:return Ss.unknown}},Ts=xs.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Bs extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(e){return e.message},n={_errors:[]},s=e=>{for(const r of e.issues)if("invalid_union"===r.code)r.unionErrors.map(s);else if("invalid_return_type"===r.code)s(r.returnTypeError);else if("invalid_arguments"===r.code)s(r.argumentsError);else if(0===r.path.length)n._errors.push(t(r));else{let e=n,s=0;for(;s<r.path.length;){const n=r.path[s];s===r.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(r))):e[n]=e[n]||{_errors:[]},e=e[n],s++}}};return s(this),n}static assert(e){if(!(e instanceof Bs))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,xs.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){const t={},n=[];for(const s of this.issues)if(s.path.length>0){const n=s.path[0];t[n]=t[n]||[],t[n].push(e(s))}else n.push(e(s));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}Bs.create=e=>new Bs(e);const $s=(e,t)=>{let n;switch(e.code){case Ts.invalid_type:n=e.received===Ss.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case Ts.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,xs.jsonStringifyReplacer)}`;break;case Ts.unrecognized_keys:n=`Unrecognized key(s) in object: ${xs.joinValues(e.keys,", ")}`;break;case Ts.invalid_union:n="Invalid input";break;case Ts.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${xs.joinValues(e.options)}`;break;case Ts.invalid_enum_value:n=`Invalid enum value. Expected ${xs.joinValues(e.options)}, received '${e.received}'`;break;case Ts.invalid_arguments:n="Invalid function arguments";break;case Ts.invalid_return_type:n="Invalid function return type";break;case Ts.invalid_date:n="Invalid date";break;case Ts.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:xs.assertNever(e.validation):n="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case Ts.too_small:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type||"bigint"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case Ts.too_big:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case Ts.custom:n="Invalid input";break;case Ts.invalid_intersection_types:n="Intersection results could not be merged";break;case Ts.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case Ts.not_finite:n="Number must be finite";break;default:n=t.defaultError,xs.assertNever(e)}return{message:n}};let Is=$s;function Os(e,t){const n=Is,s=(e=>{const{data:t,path:n,errorMaps:s,issueData:r}=e,i=[...n,...r.path||[]],o={...r,path:i};if(void 0!==r.message)return{...r,path:i,message:r.message};let a="";const u=s.filter(e=>!!e).slice().reverse();for(const c of u)a=c(o,{data:t,defaultError:a}).message;return{...r,path:i,message:a}})({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===$s?void 0:$s].filter(e=>!!e)});e.common.issues.push(s)}class js{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const s of t){if("aborted"===s.status)return Ns;"dirty"===s.status&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const s of t){const e=await s.key,t=await s.value;n.push({key:e,value:t})}return js.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const s of t){const{key:t,value:r}=s;if("aborted"===t.status)return Ns;if("aborted"===r.status)return Ns;"dirty"===t.status&&e.dirty(),"dirty"===r.status&&e.dirty(),"__proto__"===t.value||void 0===r.value&&!s.alwaysSet||(n[t.value]=r.value)}return{status:e.value,value:n}}}const Ns=Object.freeze({status:"aborted"}),Ps=e=>({status:"dirty",value:e}),Rs=e=>({status:"valid",value:e}),qs=e=>"aborted"===e.status,zs=e=>"dirty"===e.status,Ls=e=>"valid"===e.status,Zs=e=>"undefined"!=typeof Promise&&e instanceof Promise;var Hs,Us;(Us=Hs||(Hs={})).errToObj=e=>"string"==typeof e?{message:e}:e||{},Us.toString=e=>"string"==typeof e?e:e?.message;class Vs{constructor(e,t,n,s){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Ws=(e,t)=>{if(Ls(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Bs(e.common.issues);return this._error=t,this._error}}};function Js(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:s,description:r}=e;if(t&&(n||s))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:r};return{errorMap:(t,r)=>{const{message:i}=e;return"invalid_enum_value"===t.code?{message:i??r.defaultError}:void 0===r.data?{message:i??s??r.defaultError}:"invalid_type"!==t.code?{message:r.defaultError}:{message:i??n??r.defaultError}},description:r}}class Ks{get description(){return this._def.description}_getType(e){return Ms(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Ms(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new js,ctx:{common:e.parent.common,data:e.data,parsedType:Ms(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Zs(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){const n={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ms(e)},s=this._parseSync({data:e,path:n.path,parent:n});return Ws(n,s)}"~validate"(e){const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ms(e)};if(!this["~standard"].async)try{const n=this._parseSync({data:e,path:[],parent:t});return Ls(n)?{value:n.value}:{issues:t.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>Ls(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ms(e)},s=this._parse({data:e,path:n.path,parent:n}),r=await(Zs(s)?s:Promise.resolve(s));return Ws(n,r)}refine(e,t){const n=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,s)=>{const r=e(t),i=()=>s.addIssue({code:Ts.custom,...n(t)});return"undefined"!=typeof Promise&&r instanceof Promise?r.then(e=>!!e||(i(),!1)):!!r||(i(),!1)})}refinement(e,t){return this._refinement((n,s)=>!!e(n)||(s.addIssue("function"==typeof t?t(n,s):t),!1))}_refinement(e){return new Gr({schema:this,typeName:ii.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return Yr.create(this,this._def)}nullable(){return Qr.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Br.create(this)}promise(){return Kr.create(this,this._def)}or(e){return Or.create([this,e],this._def)}and(e){return Rr.create(this,e,this._def)}transform(e){return new Gr({...Js(this._def),schema:this,typeName:ii.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"==typeof e?e:()=>e;return new Xr({...Js(this._def),innerType:this,defaultValue:t,typeName:ii.ZodDefault})}brand(){return new ni({typeName:ii.ZodBranded,type:this,...Js(this._def)})}catch(e){const t="function"==typeof e?e:()=>e;return new ei({...Js(this._def),innerType:this,catchValue:t,typeName:ii.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return si.create(this,e)}readonly(){return ri.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Gs=/^c[^\s-]{8,}$/i,Ys=/^[0-9a-z]+$/,Qs=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Xs=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,er=/^[a-z0-9_-]{21}$/i,tr=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,nr=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,sr=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let rr;const ir=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,or=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ar=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,ur=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,cr=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,lr=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,dr="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",hr=new RegExp(`^${dr}$`);function pr(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${e.precision?"+":"?"}`}function fr(e){return new RegExp(`^${pr(e)}$`)}function mr(e){let t=`${dr}T${pr(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function gr(e,t){return!("v4"!==t&&t||!ir.test(e))||!("v6"!==t&&t||!ar.test(e))}function Dr(e,t){if(!tr.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const s=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),r=JSON.parse(atob(s));return"object"==typeof r&&null!==r&&((!("typ"in r)||"JWT"===r?.typ)&&(!!r.alg&&(!t||r.alg===t)))}catch{return!1}}function yr(e,t){return!("v4"!==t&&t||!or.test(e))||!("v6"!==t&&t||!ur.test(e))}class _r extends Ks{_parse(e){this._def.coerce&&(e.data=String(e.data));if(this._getType(e)!==Ss.string){const t=this._getOrReturnCtx(e);return Os(t,{code:Ts.invalid_type,expected:Ss.string,received:t.parsedType}),Ns}const t=new js;let n;for(const s of this._def.checks)if("min"===s.kind)e.data.length<s.value&&(n=this._getOrReturnCtx(e,n),Os(n,{code:Ts.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),t.dirty());else if("max"===s.kind)e.data.length>s.value&&(n=this._getOrReturnCtx(e,n),Os(n,{code:Ts.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),t.dirty());else if("length"===s.kind){const r=e.data.length>s.value,i=e.data.length<s.value;(r||i)&&(n=this._getOrReturnCtx(e,n),r?Os(n,{code:Ts.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):i&&Os(n,{code:Ts.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),t.dirty())}else if("email"===s.kind)sr.test(e.data)||(n=this._getOrReturnCtx(e,n),Os(n,{validation:"email",code:Ts.invalid_string,message:s.message}),t.dirty());else if("emoji"===s.kind)rr||(rr=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),rr.test(e.data)||(n=this._getOrReturnCtx(e,n),Os(n,{validation:"emoji",code:Ts.invalid_string,message:s.message}),t.dirty());else if("uuid"===s.kind)Xs.test(e.data)||(n=this._getOrReturnCtx(e,n),Os(n,{validation:"uuid",code:Ts.invalid_string,message:s.message}),t.dirty());else if("nanoid"===s.kind)er.test(e.data)||(n=this._getOrReturnCtx(e,n),Os(n,{validation:"nanoid",code:Ts.invalid_string,message:s.message}),t.dirty());else if("cuid"===s.kind)Gs.test(e.data)||(n=this._getOrReturnCtx(e,n),Os(n,{validation:"cuid",code:Ts.invalid_string,message:s.message}),t.dirty());else if("cuid2"===s.kind)Ys.test(e.data)||(n=this._getOrReturnCtx(e,n),Os(n,{validation:"cuid2",code:Ts.invalid_string,message:s.message}),t.dirty());else if("ulid"===s.kind)Qs.test(e.data)||(n=this._getOrReturnCtx(e,n),Os(n,{validation:"ulid",code:Ts.invalid_string,message:s.message}),t.dirty());else if("url"===s.kind)try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),Os(n,{validation:"url",code:Ts.invalid_string,message:s.message}),t.dirty()}else if("regex"===s.kind){s.regex.lastIndex=0;s.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),Os(n,{validation:"regex",code:Ts.invalid_string,message:s.message}),t.dirty())}else if("trim"===s.kind)e.data=e.data.trim();else if("includes"===s.kind)e.data.includes(s.value,s.position)||(n=this._getOrReturnCtx(e,n),Os(n,{code:Ts.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),t.dirty());else if("toLowerCase"===s.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===s.kind)e.data=e.data.toUpperCase();else if("startsWith"===s.kind)e.data.startsWith(s.value)||(n=this._getOrReturnCtx(e,n),Os(n,{code:Ts.invalid_string,validation:{startsWith:s.value},message:s.message}),t.dirty());else if("endsWith"===s.kind)e.data.endsWith(s.value)||(n=this._getOrReturnCtx(e,n),Os(n,{code:Ts.invalid_string,validation:{endsWith:s.value},message:s.message}),t.dirty());else if("datetime"===s.kind){mr(s).test(e.data)||(n=this._getOrReturnCtx(e,n),Os(n,{code:Ts.invalid_string,validation:"datetime",message:s.message}),t.dirty())}else if("date"===s.kind){hr.test(e.data)||(n=this._getOrReturnCtx(e,n),Os(n,{code:Ts.invalid_string,validation:"date",message:s.message}),t.dirty())}else if("time"===s.kind){fr(s).test(e.data)||(n=this._getOrReturnCtx(e,n),Os(n,{code:Ts.invalid_string,validation:"time",message:s.message}),t.dirty())}else"duration"===s.kind?nr.test(e.data)||(n=this._getOrReturnCtx(e,n),Os(n,{validation:"duration",code:Ts.invalid_string,message:s.message}),t.dirty()):"ip"===s.kind?gr(e.data,s.version)||(n=this._getOrReturnCtx(e,n),Os(n,{validation:"ip",code:Ts.invalid_string,message:s.message}),t.dirty()):"jwt"===s.kind?Dr(e.data,s.alg)||(n=this._getOrReturnCtx(e,n),Os(n,{validation:"jwt",code:Ts.invalid_string,message:s.message}),t.dirty()):"cidr"===s.kind?yr(e.data,s.version)||(n=this._getOrReturnCtx(e,n),Os(n,{validation:"cidr",code:Ts.invalid_string,message:s.message}),t.dirty()):"base64"===s.kind?cr.test(e.data)||(n=this._getOrReturnCtx(e,n),Os(n,{validation:"base64",code:Ts.invalid_string,message:s.message}),t.dirty()):"base64url"===s.kind?lr.test(e.data)||(n=this._getOrReturnCtx(e,n),Os(n,{validation:"base64url",code:Ts.invalid_string,message:s.message}),t.dirty()):xs.assertNever(s);return{status:t.value,value:e.data}}_regex(e,t,n){return this.refinement(t=>e.test(t),{validation:t,code:Ts.invalid_string,...Hs.errToObj(n)})}_addCheck(e){return new _r({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Hs.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Hs.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Hs.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Hs.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Hs.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Hs.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Hs.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Hs.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Hs.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Hs.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Hs.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Hs.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Hs.errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===e?.precision?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...Hs.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===e?.precision?null:e?.precision,...Hs.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...Hs.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...Hs.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...Hs.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...Hs.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...Hs.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...Hs.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...Hs.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...Hs.errToObj(t)})}nonempty(e){return this.min(1,Hs.errToObj(e))}trim(){return new _r({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new _r({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new _r({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function kr(e,t){const n=(e.toString().split(".")[1]||"").length,s=(t.toString().split(".")[1]||"").length,r=n>s?n:s;return Number.parseInt(e.toFixed(r).replace(".",""))%Number.parseInt(t.toFixed(r).replace(".",""))/10**r}_r.create=e=>new _r({checks:[],typeName:ii.ZodString,coerce:e?.coerce??!1,...Js(e)});class br extends Ks{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));if(this._getType(e)!==Ss.number){const t=this._getOrReturnCtx(e);return Os(t,{code:Ts.invalid_type,expected:Ss.number,received:t.parsedType}),Ns}let t;const n=new js;for(const s of this._def.checks)if("int"===s.kind)xs.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),Os(t,{code:Ts.invalid_type,expected:"integer",received:"float",message:s.message}),n.dirty());else if("min"===s.kind){(s.inclusive?e.data<s.value:e.data<=s.value)&&(t=this._getOrReturnCtx(e,t),Os(t,{code:Ts.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),n.dirty())}else if("max"===s.kind){(s.inclusive?e.data>s.value:e.data>=s.value)&&(t=this._getOrReturnCtx(e,t),Os(t,{code:Ts.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),n.dirty())}else"multipleOf"===s.kind?0!==kr(e.data,s.value)&&(t=this._getOrReturnCtx(e,t),Os(t,{code:Ts.not_multiple_of,multipleOf:s.value,message:s.message}),n.dirty()):"finite"===s.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),Os(t,{code:Ts.not_finite,message:s.message}),n.dirty()):xs.assertNever(s);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Hs.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Hs.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Hs.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Hs.toString(t))}setLimit(e,t,n,s){return new br({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:Hs.toString(s)}]})}_addCheck(e){return new br({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Hs.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Hs.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Hs.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Hs.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Hs.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Hs.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Hs.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Hs.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Hs.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&xs.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}br.create=e=>new br({checks:[],typeName:ii.ZodNumber,coerce:e?.coerce||!1,...Js(e)});class wr extends Ks{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Ss.bigint)return this._getInvalidInput(e);let t;const n=new js;for(const s of this._def.checks)if("min"===s.kind){(s.inclusive?e.data<s.value:e.data<=s.value)&&(t=this._getOrReturnCtx(e,t),Os(t,{code:Ts.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),n.dirty())}else if("max"===s.kind){(s.inclusive?e.data>s.value:e.data>=s.value)&&(t=this._getOrReturnCtx(e,t),Os(t,{code:Ts.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),n.dirty())}else"multipleOf"===s.kind?e.data%s.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),Os(t,{code:Ts.not_multiple_of,multipleOf:s.value,message:s.message}),n.dirty()):xs.assertNever(s);return{status:n.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return Os(t,{code:Ts.invalid_type,expected:Ss.bigint,received:t.parsedType}),Ns}gte(e,t){return this.setLimit("min",e,!0,Hs.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Hs.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Hs.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Hs.toString(t))}setLimit(e,t,n,s){return new wr({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:Hs.toString(s)}]})}_addCheck(e){return new wr({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Hs.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Hs.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Hs.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Hs.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Hs.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}wr.create=e=>new wr({checks:[],typeName:ii.ZodBigInt,coerce:e?.coerce??!1,...Js(e)});class Cr extends Ks{_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==Ss.boolean){const t=this._getOrReturnCtx(e);return Os(t,{code:Ts.invalid_type,expected:Ss.boolean,received:t.parsedType}),Ns}return Rs(e.data)}}Cr.create=e=>new Cr({typeName:ii.ZodBoolean,coerce:e?.coerce||!1,...Js(e)});class vr extends Ks{_parse(e){this._def.coerce&&(e.data=new Date(e.data));if(this._getType(e)!==Ss.date){const t=this._getOrReturnCtx(e);return Os(t,{code:Ts.invalid_type,expected:Ss.date,received:t.parsedType}),Ns}if(Number.isNaN(e.data.getTime())){return Os(this._getOrReturnCtx(e),{code:Ts.invalid_date}),Ns}const t=new js;let n;for(const s of this._def.checks)"min"===s.kind?e.data.getTime()<s.value&&(n=this._getOrReturnCtx(e,n),Os(n,{code:Ts.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),t.dirty()):"max"===s.kind?e.data.getTime()>s.value&&(n=this._getOrReturnCtx(e,n),Os(n,{code:Ts.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),t.dirty()):xs.assertNever(s);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new vr({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Hs.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Hs.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}vr.create=e=>new vr({checks:[],coerce:e?.coerce||!1,typeName:ii.ZodDate,...Js(e)});class Fr extends Ks{_parse(e){if(this._getType(e)!==Ss.symbol){const t=this._getOrReturnCtx(e);return Os(t,{code:Ts.invalid_type,expected:Ss.symbol,received:t.parsedType}),Ns}return Rs(e.data)}}Fr.create=e=>new Fr({typeName:ii.ZodSymbol,...Js(e)});class xr extends Ks{_parse(e){if(this._getType(e)!==Ss.undefined){const t=this._getOrReturnCtx(e);return Os(t,{code:Ts.invalid_type,expected:Ss.undefined,received:t.parsedType}),Ns}return Rs(e.data)}}xr.create=e=>new xr({typeName:ii.ZodUndefined,...Js(e)});class Er extends Ks{_parse(e){if(this._getType(e)!==Ss.null){const t=this._getOrReturnCtx(e);return Os(t,{code:Ts.invalid_type,expected:Ss.null,received:t.parsedType}),Ns}return Rs(e.data)}}Er.create=e=>new Er({typeName:ii.ZodNull,...Js(e)});class Ar extends Ks{constructor(){super(...arguments),this._any=!0}_parse(e){return Rs(e.data)}}Ar.create=e=>new Ar({typeName:ii.ZodAny,...Js(e)});class Sr extends Ks{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Rs(e.data)}}Sr.create=e=>new Sr({typeName:ii.ZodUnknown,...Js(e)});class Mr extends Ks{_parse(e){const t=this._getOrReturnCtx(e);return Os(t,{code:Ts.invalid_type,expected:Ss.never,received:t.parsedType}),Ns}}Mr.create=e=>new Mr({typeName:ii.ZodNever,...Js(e)});class Tr extends Ks{_parse(e){if(this._getType(e)!==Ss.undefined){const t=this._getOrReturnCtx(e);return Os(t,{code:Ts.invalid_type,expected:Ss.void,received:t.parsedType}),Ns}return Rs(e.data)}}Tr.create=e=>new Tr({typeName:ii.ZodVoid,...Js(e)});class Br extends Ks{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),s=this._def;if(t.parsedType!==Ss.array)return Os(t,{code:Ts.invalid_type,expected:Ss.array,received:t.parsedType}),Ns;if(null!==s.exactLength){const e=t.data.length>s.exactLength.value,r=t.data.length<s.exactLength.value;(e||r)&&(Os(t,{code:e?Ts.too_big:Ts.too_small,minimum:r?s.exactLength.value:void 0,maximum:e?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(null!==s.minLength&&t.data.length<s.minLength.value&&(Os(t,{code:Ts.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),null!==s.maxLength&&t.data.length>s.maxLength.value&&(Os(t,{code:Ts.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map((e,n)=>s.type._parseAsync(new Vs(t,e,t.path,n)))).then(e=>js.mergeArray(n,e));const r=[...t.data].map((e,n)=>s.type._parseSync(new Vs(t,e,t.path,n)));return js.mergeArray(n,r)}get element(){return this._def.type}min(e,t){return new Br({...this._def,minLength:{value:e,message:Hs.toString(t)}})}max(e,t){return new Br({...this._def,maxLength:{value:e,message:Hs.toString(t)}})}length(e,t){return new Br({...this._def,exactLength:{value:e,message:Hs.toString(t)}})}nonempty(e){return this.min(1,e)}}function $r(e){if(e instanceof Ir){const t={};for(const n in e.shape){const s=e.shape[n];t[n]=Yr.create($r(s))}return new Ir({...e._def,shape:()=>t})}return e instanceof Br?new Br({...e._def,type:$r(e.element)}):e instanceof Yr?Yr.create($r(e.unwrap())):e instanceof Qr?Qr.create($r(e.unwrap())):e instanceof qr?qr.create(e.items.map(e=>$r(e))):e}Br.create=(e,t)=>new Br({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ii.ZodArray,...Js(t)});class Ir extends Ks{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=xs.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==Ss.object){const t=this._getOrReturnCtx(e);return Os(t,{code:Ts.invalid_type,expected:Ss.object,received:t.parsedType}),Ns}const{status:t,ctx:n}=this._processInputParams(e),{shape:s,keys:r}=this._getCached(),i=[];if(!(this._def.catchall instanceof Mr&&"strip"===this._def.unknownKeys))for(const a in n.data)r.includes(a)||i.push(a);const o=[];for(const a of r){const e=s[a],t=n.data[a];o.push({key:{status:"valid",value:a},value:e._parse(new Vs(n,t,n.path,a)),alwaysSet:a in n.data})}if(this._def.catchall instanceof Mr){const e=this._def.unknownKeys;if("passthrough"===e)for(const t of i)o.push({key:{status:"valid",value:t},value:{status:"valid",value:n.data[t]}});else if("strict"===e)i.length>0&&(Os(n,{code:Ts.unrecognized_keys,keys:i}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of i){const s=n.data[t];o.push({key:{status:"valid",value:t},value:e._parse(new Vs(n,s,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const e=[];for(const t of o){const n=await t.key,s=await t.value;e.push({key:n,value:s,alwaysSet:t.alwaysSet})}return e}).then(e=>js.mergeObjectSync(t,e)):js.mergeObjectSync(t,o)}get shape(){return this._def.shape()}strict(e){return Hs.errToObj,new Ir({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,n)=>{const s=this._def.errorMap?.(t,n).message??n.defaultError;return"unrecognized_keys"===t.code?{message:Hs.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new Ir({...this._def,unknownKeys:"strip"})}passthrough(){return new Ir({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ir({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ir({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ii.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Ir({...this._def,catchall:e})}pick(e){const t={};for(const n of xs.objectKeys(e))e[n]&&this.shape[n]&&(t[n]=this.shape[n]);return new Ir({...this._def,shape:()=>t})}omit(e){const t={};for(const n of xs.objectKeys(this.shape))e[n]||(t[n]=this.shape[n]);return new Ir({...this._def,shape:()=>t})}deepPartial(){return $r(this)}partial(e){const t={};for(const n of xs.objectKeys(this.shape)){const s=this.shape[n];e&&!e[n]?t[n]=s:t[n]=s.optional()}return new Ir({...this._def,shape:()=>t})}required(e){const t={};for(const n of xs.objectKeys(this.shape))if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof Yr;)e=e._def.innerType;t[n]=e}return new Ir({...this._def,shape:()=>t})}keyof(){return Vr(xs.objectKeys(this.shape))}}Ir.create=(e,t)=>new Ir({shape:()=>e,unknownKeys:"strip",catchall:Mr.create(),typeName:ii.ZodObject,...Js(t)}),Ir.strictCreate=(e,t)=>new Ir({shape:()=>e,unknownKeys:"strict",catchall:Mr.create(),typeName:ii.ZodObject,...Js(t)}),Ir.lazycreate=(e,t)=>new Ir({shape:e,unknownKeys:"strip",catchall:Mr.create(),typeName:ii.ZodObject,...Js(t)});class Or extends Ks{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map(async e=>{const n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}})).then(function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const s of e)if("dirty"===s.result.status)return t.common.issues.push(...s.ctx.common.issues),s.result;const n=e.map(e=>new Bs(e.ctx.common.issues));return Os(t,{code:Ts.invalid_union,unionErrors:n}),Ns});{let e;const s=[];for(const i of n){const n={...t,common:{...t.common,issues:[]},parent:null},r=i._parseSync({data:t.data,path:t.path,parent:n});if("valid"===r.status)return r;"dirty"!==r.status||e||(e={result:r,ctx:n}),n.common.issues.length&&s.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const r=s.map(e=>new Bs(e));return Os(t,{code:Ts.invalid_union,unionErrors:r}),Ns}}get options(){return this._def.options}}Or.create=(e,t)=>new Or({options:e,typeName:ii.ZodUnion,...Js(t)});const jr=e=>e instanceof Hr?jr(e.schema):e instanceof Gr?jr(e.innerType()):e instanceof Ur?[e.value]:e instanceof Wr?e.options:e instanceof Jr?xs.objectValues(e.enum):e instanceof Xr?jr(e._def.innerType):e instanceof xr?[void 0]:e instanceof Er?[null]:e instanceof Yr?[void 0,...jr(e.unwrap())]:e instanceof Qr?[null,...jr(e.unwrap())]:e instanceof ni||e instanceof ri?jr(e.unwrap()):e instanceof ei?jr(e._def.innerType):[];class Nr extends Ks{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Ss.object)return Os(t,{code:Ts.invalid_type,expected:Ss.object,received:t.parsedType}),Ns;const n=this.discriminator,s=t.data[n],r=this.optionsMap.get(s);return r?t.common.async?r._parseAsync({data:t.data,path:t.path,parent:t}):r._parseSync({data:t.data,path:t.path,parent:t}):(Os(t,{code:Ts.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Ns)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){const s=new Map;for(const r of t){const t=jr(r.shape[e]);if(!t.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const n of t){if(s.has(n))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(n)}`);s.set(n,r)}}return new Nr({typeName:ii.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:s,...Js(n)})}}function Pr(e,t){const n=Ms(e),s=Ms(t);if(e===t)return{valid:!0,data:e};if(n===Ss.object&&s===Ss.object){const n=xs.objectKeys(t),s=xs.objectKeys(e).filter(e=>-1!==n.indexOf(e)),r={...e,...t};for(const i of s){const n=Pr(e[i],t[i]);if(!n.valid)return{valid:!1};r[i]=n.data}return{valid:!0,data:r}}if(n===Ss.array&&s===Ss.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let s=0;s<e.length;s++){const r=Pr(e[s],t[s]);if(!r.valid)return{valid:!1};n.push(r.data)}return{valid:!0,data:n}}return n===Ss.date&&s===Ss.date&&+e===+t?{valid:!0,data:e}:{valid:!1}}class Rr extends Ks{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),s=(e,s)=>{if(qs(e)||qs(s))return Ns;const r=Pr(e.value,s.value);return r.valid?((zs(e)||zs(s))&&t.dirty(),{status:t.value,value:r.data}):(Os(n,{code:Ts.invalid_intersection_types}),Ns)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([e,t])=>s(e,t)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Rr.create=(e,t,n)=>new Rr({left:e,right:t,typeName:ii.ZodIntersection,...Js(n)});class qr extends Ks{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ss.array)return Os(n,{code:Ts.invalid_type,expected:Ss.array,received:n.parsedType}),Ns;if(n.data.length<this._def.items.length)return Os(n,{code:Ts.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ns;!this._def.rest&&n.data.length>this._def.items.length&&(Os(n,{code:Ts.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const s=[...n.data].map((e,t)=>{const s=this._def.items[t]||this._def.rest;return s?s._parse(new Vs(n,e,n.path,t)):null}).filter(e=>!!e);return n.common.async?Promise.all(s).then(e=>js.mergeArray(t,e)):js.mergeArray(t,s)}get items(){return this._def.items}rest(e){return new qr({...this._def,rest:e})}}qr.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new qr({items:e,typeName:ii.ZodTuple,rest:null,...Js(t)})};class zr extends Ks{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ss.object)return Os(n,{code:Ts.invalid_type,expected:Ss.object,received:n.parsedType}),Ns;const s=[],r=this._def.keyType,i=this._def.valueType;for(const o in n.data)s.push({key:r._parse(new Vs(n,o,n.path,o)),value:i._parse(new Vs(n,n.data[o],n.path,o)),alwaysSet:o in n.data});return n.common.async?js.mergeObjectAsync(t,s):js.mergeObjectSync(t,s)}get element(){return this._def.valueType}static create(e,t,n){return new zr(t instanceof Ks?{keyType:e,valueType:t,typeName:ii.ZodRecord,...Js(n)}:{keyType:_r.create(),valueType:e,typeName:ii.ZodRecord,...Js(t)})}}class Lr extends Ks{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ss.map)return Os(n,{code:Ts.invalid_type,expected:Ss.map,received:n.parsedType}),Ns;const s=this._def.keyType,r=this._def.valueType,i=[...n.data.entries()].map(([e,t],i)=>({key:s._parse(new Vs(n,e,n.path,[i,"key"])),value:r._parse(new Vs(n,t,n.path,[i,"value"]))}));if(n.common.async){const e=new Map;return Promise.resolve().then(async()=>{for(const n of i){const s=await n.key,r=await n.value;if("aborted"===s.status||"aborted"===r.status)return Ns;"dirty"!==s.status&&"dirty"!==r.status||t.dirty(),e.set(s.value,r.value)}return{status:t.value,value:e}})}{const e=new Map;for(const n of i){const s=n.key,r=n.value;if("aborted"===s.status||"aborted"===r.status)return Ns;"dirty"!==s.status&&"dirty"!==r.status||t.dirty(),e.set(s.value,r.value)}return{status:t.value,value:e}}}}Lr.create=(e,t,n)=>new Lr({valueType:t,keyType:e,typeName:ii.ZodMap,...Js(n)});class Zr extends Ks{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==Ss.set)return Os(n,{code:Ts.invalid_type,expected:Ss.set,received:n.parsedType}),Ns;const s=this._def;null!==s.minSize&&n.data.size<s.minSize.value&&(Os(n,{code:Ts.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),t.dirty()),null!==s.maxSize&&n.data.size>s.maxSize.value&&(Os(n,{code:Ts.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),t.dirty());const r=this._def.valueType;function i(e){const n=new Set;for(const s of e){if("aborted"===s.status)return Ns;"dirty"===s.status&&t.dirty(),n.add(s.value)}return{status:t.value,value:n}}const o=[...n.data.values()].map((e,t)=>r._parse(new Vs(n,e,n.path,t)));return n.common.async?Promise.all(o).then(e=>i(e)):i(o)}min(e,t){return new Zr({...this._def,minSize:{value:e,message:Hs.toString(t)}})}max(e,t){return new Zr({...this._def,maxSize:{value:e,message:Hs.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Zr.create=(e,t)=>new Zr({valueType:e,minSize:null,maxSize:null,typeName:ii.ZodSet,...Js(t)});class Hr extends Ks{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Hr.create=(e,t)=>new Hr({getter:e,typeName:ii.ZodLazy,...Js(t)});class Ur extends Ks{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return Os(t,{received:t.data,code:Ts.invalid_literal,expected:this._def.value}),Ns}return{status:"valid",value:e.data}}get value(){return this._def.value}}function Vr(e,t){return new Wr({values:e,typeName:ii.ZodEnum,...Js(t)})}Ur.create=(e,t)=>new Ur({value:e,typeName:ii.ZodLiteral,...Js(t)});class Wr extends Ks{_parse(e){if("string"!=typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return Os(t,{expected:xs.joinValues(n),received:t.parsedType,code:Ts.invalid_type}),Ns}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return Os(t,{received:t.data,code:Ts.invalid_enum_value,options:n}),Ns}return Rs(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return Wr.create(e,{...this._def,...t})}exclude(e,t=this._def){return Wr.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}Wr.create=Vr;class Jr extends Ks{_parse(e){const t=xs.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Ss.string&&n.parsedType!==Ss.number){const e=xs.objectValues(t);return Os(n,{expected:xs.joinValues(e),received:n.parsedType,code:Ts.invalid_type}),Ns}if(this._cache||(this._cache=new Set(xs.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const e=xs.objectValues(t);return Os(n,{received:n.data,code:Ts.invalid_enum_value,options:e}),Ns}return Rs(e.data)}get enum(){return this._def.values}}Jr.create=(e,t)=>new Jr({values:e,typeName:ii.ZodNativeEnum,...Js(t)});class Kr extends Ks{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Ss.promise&&!1===t.common.async)return Os(t,{code:Ts.invalid_type,expected:Ss.promise,received:t.parsedType}),Ns;const n=t.parsedType===Ss.promise?t.data:Promise.resolve(t.data);return Rs(n.then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}Kr.create=(e,t)=>new Kr({type:e,typeName:ii.ZodPromise,...Js(t)});class Gr extends Ks{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ii.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),s=this._def.effect||null,r={addIssue:e=>{Os(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(r.addIssue=r.addIssue.bind(r),"preprocess"===s.type){const e=s.transform(n.data,r);if(n.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return Ns;const s=await this._def.schema._parseAsync({data:e,path:n.path,parent:n});return"aborted"===s.status?Ns:"dirty"===s.status||"dirty"===t.value?Ps(s.value):s});{if("aborted"===t.value)return Ns;const s=this._def.schema._parseSync({data:e,path:n.path,parent:n});return"aborted"===s.status?Ns:"dirty"===s.status||"dirty"===t.value?Ps(s.value):s}}if("refinement"===s.type){const e=e=>{const t=s.refinement(e,r);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===s.status?Ns:("dirty"===s.status&&t.dirty(),e(s.value),{status:t.value,value:s.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(n=>"aborted"===n.status?Ns:("dirty"===n.status&&t.dirty(),e(n.value).then(()=>({status:t.value,value:n.value}))))}if("transform"===s.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Ls(e))return Ns;const i=s.transform(e.value,r);if(i instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:i}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(e=>Ls(e)?Promise.resolve(s.transform(e.value,r)).then(e=>({status:t.value,value:e})):Ns)}xs.assertNever(s)}}Gr.create=(e,t,n)=>new Gr({schema:e,typeName:ii.ZodEffects,effect:t,...Js(n)}),Gr.createWithPreprocess=(e,t,n)=>new Gr({schema:t,effect:{type:"preprocess",transform:e},typeName:ii.ZodEffects,...Js(n)});class Yr extends Ks{_parse(e){return this._getType(e)===Ss.undefined?Rs(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Yr.create=(e,t)=>new Yr({innerType:e,typeName:ii.ZodOptional,...Js(t)});class Qr extends Ks{_parse(e){return this._getType(e)===Ss.null?Rs(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Qr.create=(e,t)=>new Qr({innerType:e,typeName:ii.ZodNullable,...Js(t)});class Xr extends Ks{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===Ss.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Xr.create=(e,t)=>new Xr({innerType:e,typeName:ii.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...Js(t)});class ei extends Ks{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Zs(s)?s.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new Bs(n.common.issues)},input:n.data})})):{status:"valid",value:"valid"===s.status?s.value:this._def.catchValue({get error(){return new Bs(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}ei.create=(e,t)=>new ei({innerType:e,typeName:ii.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...Js(t)});class ti extends Ks{_parse(e){if(this._getType(e)!==Ss.nan){const t=this._getOrReturnCtx(e);return Os(t,{code:Ts.invalid_type,expected:Ss.nan,received:t.parsedType}),Ns}return{status:"valid",value:e.data}}}ti.create=e=>new ti({typeName:ii.ZodNaN,...Js(e)});class ni extends Ks{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class si extends Ks{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async){return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?Ns:"dirty"===e.status?(t.dirty(),Ps(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})()}{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?Ns:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new si({in:e,out:t,typeName:ii.ZodPipeline})}}class ri extends Ks{_parse(e){const t=this._def.innerType._parse(e),n=e=>(Ls(e)&&(e.value=Object.freeze(e.value)),e);return Zs(t)?t.then(e=>n(e)):n(t)}unwrap(){return this._def.innerType}}var ii,oi;ri.create=(e,t)=>new ri({innerType:e,typeName:ii.ZodReadonly,...Js(t)}),(oi=ii||(ii={})).ZodString="ZodString",oi.ZodNumber="ZodNumber",oi.ZodNaN="ZodNaN",oi.ZodBigInt="ZodBigInt",oi.ZodBoolean="ZodBoolean",oi.ZodDate="ZodDate",oi.ZodSymbol="ZodSymbol",oi.ZodUndefined="ZodUndefined",oi.ZodNull="ZodNull",oi.ZodAny="ZodAny",oi.ZodUnknown="ZodUnknown",oi.ZodNever="ZodNever",oi.ZodVoid="ZodVoid",oi.ZodArray="ZodArray",oi.ZodObject="ZodObject",oi.ZodUnion="ZodUnion",oi.ZodDiscriminatedUnion="ZodDiscriminatedUnion",oi.ZodIntersection="ZodIntersection",oi.ZodTuple="ZodTuple",oi.ZodRecord="ZodRecord",oi.ZodMap="ZodMap",oi.ZodSet="ZodSet",oi.ZodFunction="ZodFunction",oi.ZodLazy="ZodLazy",oi.ZodLiteral="ZodLiteral",oi.ZodEnum="ZodEnum",oi.ZodEffects="ZodEffects",oi.ZodNativeEnum="ZodNativeEnum",oi.ZodOptional="ZodOptional",oi.ZodNullable="ZodNullable",oi.ZodDefault="ZodDefault",oi.ZodCatch="ZodCatch",oi.ZodPromise="ZodPromise",oi.ZodBranded="ZodBranded",oi.ZodPipeline="ZodPipeline",oi.ZodReadonly="ZodReadonly";const ai=_r.create,ui=br.create,ci=Cr.create,li=Sr.create;Mr.create;const di=Br.create,hi=Ir.create,pi=Or.create,fi=Nr.create;Rr.create,qr.create;const mi=zr.create,gi=Ur.create,Di=Wr.create;Kr.create;const yi=Yr.create;Qr.create;const _i="2024-11-05",ki=[_i,"2024-10-07"],bi="2.0",wi=pi([ai(),ui().int()]),Ci=ai(),vi=hi({_meta:yi(hi({progressToken:yi(wi)}).passthrough())}).passthrough(),Fi=hi({method:ai(),params:yi(vi)}),xi=hi({_meta:yi(hi({}).passthrough())}).passthrough(),Ei=hi({method:ai(),params:yi(xi)}),Ai=hi({_meta:yi(hi({}).passthrough())}).passthrough(),Si=pi([ai(),ui().int()]),Mi=hi({jsonrpc:gi(bi),id:Si}).merge(Fi).strict(),Ti=hi({jsonrpc:gi(bi)}).merge(Ei).strict(),Bi=hi({jsonrpc:gi(bi),id:Si,result:Ai}).strict();var $i,Ii;(Ii=$i||($i={}))[Ii.ConnectionClosed=-1]="ConnectionClosed",Ii[Ii.ParseError=-32700]="ParseError",Ii[Ii.InvalidRequest=-32600]="InvalidRequest",Ii[Ii.MethodNotFound=-32601]="MethodNotFound",Ii[Ii.InvalidParams=-32602]="InvalidParams",Ii[Ii.InternalError=-32603]="InternalError";const Oi=pi([Mi,Ti,Bi,hi({jsonrpc:gi(bi),id:Si,error:hi({code:ui().int(),message:ai(),data:yi(li())})}).strict()]),ji=Ai.strict(),Ni=Ei.extend({method:gi("notifications/cancelled"),params:xi.extend({requestId:Si,reason:ai().optional()})}),Pi=hi({name:ai(),version:ai()}).passthrough(),Ri=hi({experimental:yi(hi({}).passthrough()),sampling:yi(hi({}).passthrough()),roots:yi(hi({listChanged:yi(ci())}).passthrough())}).passthrough(),qi=Fi.extend({method:gi("initialize"),params:vi.extend({protocolVersion:ai(),capabilities:Ri,clientInfo:Pi})}),zi=hi({experimental:yi(hi({}).passthrough()),logging:yi(hi({}).passthrough()),prompts:yi(hi({listChanged:yi(ci())}).passthrough()),resources:yi(hi({subscribe:yi(ci()),listChanged:yi(ci())}).passthrough()),tools:yi(hi({listChanged:yi(ci())}).passthrough())}).passthrough(),Li=Ai.extend({protocolVersion:ai(),capabilities:zi,serverInfo:Pi}),Zi=Ei.extend({method:gi("notifications/initialized")}),Hi=Fi.extend({method:gi("ping")}),Ui=hi({progress:ui(),total:yi(ui())}).passthrough(),Vi=Ei.extend({method:gi("notifications/progress"),params:xi.merge(Ui).extend({progressToken:wi})}),Wi=Fi.extend({params:vi.extend({cursor:yi(Ci)}).optional()}),Ji=Ai.extend({nextCursor:yi(Ci)}),Ki=hi({uri:ai(),mimeType:yi(ai())}).passthrough(),Gi=Ki.extend({text:ai()}),Yi=Ki.extend({blob:ai().base64()}),Qi=hi({uri:ai(),name:ai(),description:yi(ai()),mimeType:yi(ai())}).passthrough(),Xi=hi({uriTemplate:ai(),name:ai(),description:yi(ai()),mimeType:yi(ai())}).passthrough(),eo=Wi.extend({method:gi("resources/list")}),to=Ji.extend({resources:di(Qi)}),no=Wi.extend({method:gi("resources/templates/list")}),so=Ji.extend({resourceTemplates:di(Xi)}),ro=Fi.extend({method:gi("resources/read"),params:vi.extend({uri:ai()})}),io=Ai.extend({contents:di(pi([Gi,Yi]))}),oo=Ei.extend({method:gi("notifications/resources/list_changed")}),ao=Fi.extend({method:gi("resources/subscribe"),params:vi.extend({uri:ai()})}),uo=Fi.extend({method:gi("resources/unsubscribe"),params:vi.extend({uri:ai()})}),co=Ei.extend({method:gi("notifications/resources/updated"),params:xi.extend({uri:ai()})}),lo=hi({name:ai(),description:yi(ai()),required:yi(ci())}).passthrough(),ho=hi({name:ai(),description:yi(ai()),arguments:yi(di(lo))}).passthrough(),po=Wi.extend({method:gi("prompts/list")}),fo=Ji.extend({prompts:di(ho)}),mo=Fi.extend({method:gi("prompts/get"),params:vi.extend({name:ai(),arguments:yi(mi(ai()))})}),go=hi({type:gi("text"),text:ai()}).passthrough(),Do=hi({type:gi("image"),data:ai().base64(),mimeType:ai()}).passthrough(),yo=hi({type:gi("resource"),resource:pi([Gi,Yi])}).passthrough(),_o=hi({role:Di(["user","assistant"]),content:pi([go,Do,yo])}).passthrough(),ko=Ai.extend({description:yi(ai()),messages:di(_o)}),bo=Ei.extend({method:gi("notifications/prompts/list_changed")}),wo=hi({name:ai(),description:yi(ai()),inputSchema:hi({type:gi("object"),properties:yi(hi({}).passthrough())}).passthrough()}).passthrough(),Co=Wi.extend({method:gi("tools/list")}),vo=Ji.extend({tools:di(wo)}),Fo=Ai.extend({content:di(pi([go,Do,yo])),isError:ci().default(!1).optional()});Fo.or(Ai.extend({toolResult:li()}));const xo=Fi.extend({method:gi("tools/call"),params:vi.extend({name:ai(),arguments:yi(mi(li()))})}),Eo=Ei.extend({method:gi("notifications/tools/list_changed")}),Ao=Di(["debug","info","notice","warning","error","critical","alert","emergency"]),So=Fi.extend({method:gi("logging/setLevel"),params:vi.extend({level:Ao})}),Mo=Ei.extend({method:gi("notifications/message"),params:xi.extend({level:Ao,logger:yi(ai()),data:li()})}),To=hi({name:ai().optional()}).passthrough(),Bo=hi({hints:yi(di(To)),costPriority:yi(ui().min(0).max(1)),speedPriority:yi(ui().min(0).max(1)),intelligencePriority:yi(ui().min(0).max(1))}).passthrough(),$o=hi({role:Di(["user","assistant"]),content:pi([go,Do])}).passthrough(),Io=Fi.extend({method:gi("sampling/createMessage"),params:vi.extend({messages:di($o),systemPrompt:yi(ai()),includeContext:yi(Di(["none","thisServer","allServers"])),temperature:yi(ui()),maxTokens:ui().int(),stopSequences:yi(di(ai())),metadata:yi(hi({}).passthrough()),modelPreferences:yi(Bo)})}),Oo=Ai.extend({model:ai(),stopReason:yi(Di(["endTurn","stopSequence","maxTokens"]).or(ai())),role:Di(["user","assistant"]),content:fi("type",[go,Do])}),jo=hi({type:gi("ref/resource"),uri:ai()}).passthrough(),No=hi({type:gi("ref/prompt"),name:ai()}).passthrough(),Po=Fi.extend({method:gi("completion/complete"),params:vi.extend({ref:pi([No,jo]),argument:hi({name:ai(),value:ai()}).passthrough()})}),Ro=Ai.extend({completion:hi({values:di(ai()).max(100),total:yi(ui().int()),hasMore:yi(ci())}).passthrough()}),qo=hi({uri:ai().startsWith("file://"),name:yi(ai())}).passthrough(),zo=Fi.extend({method:gi("roots/list")}),Lo=Ai.extend({roots:di(qo)}),Zo=Ei.extend({method:gi("notifications/roots/list_changed")});pi([Hi,qi,Po,So,mo,po,eo,no,ro,ao,uo,xo,Co]),pi([Ni,Vi,Zi,Zo]),pi([ji,Oo,Lo]),pi([Hi,Io,zo]),pi([Ni,Vi,Mo,co,oo,Eo,bo]),pi([ji,Li,Ro,ko,fo,to,so,io,Fo,vo]);class Ho extends Error{constructor(e,t,n){super(`MCP error ${e}: ${t}`),this.code=e,this.data=n}}class Uo{constructor(e){this._options=e,this._requestMessageId=0,this._requestHandlers=new Map,this._requestHandlerAbortControllers=new Map,this._notificationHandlers=new Map,this._responseHandlers=new Map,this._progressHandlers=new Map,this.setNotificationHandler(Ni,e=>{const t=this._requestHandlerAbortControllers.get(e.params.requestId);null==t||t.abort(e.params.reason)}),this.setNotificationHandler(Vi,e=>{this._onprogress(e)}),this.setRequestHandler(Hi,e=>({}))}async connect(e){this._transport=e,this._transport.onclose=()=>{this._onclose()},this._transport.onerror=e=>{this._onerror(e)},this._transport.onmessage=e=>{"method"in e?"id"in e?this._onrequest(e):this._onnotification(e):this._onresponse(e)},await this._transport.start()}_onclose(){var e;const t=this._responseHandlers;this._responseHandlers=new Map,this._progressHandlers.clear(),this._transport=void 0,null===(e=this.onclose)||void 0===e||e.call(this);const n=new Ho($i.ConnectionClosed,"Connection closed");for(const s of t.values())s(n)}_onerror(e){var t;null===(t=this.onerror)||void 0===t||t.call(this,e)}_onnotification(e){var t;const n=null!==(t=this._notificationHandlers.get(e.method))&&void 0!==t?t:this.fallbackNotificationHandler;void 0!==n&&Promise.resolve().then(()=>n(e)).catch(e=>this._onerror(new Error(`Uncaught error in notification handler: ${e}`)))}_onrequest(e){var t,n;const s=null!==(t=this._requestHandlers.get(e.method))&&void 0!==t?t:this.fallbackRequestHandler;if(void 0===s)return void(null===(n=this._transport)||void 0===n||n.send({jsonrpc:"2.0",id:e.id,error:{code:$i.MethodNotFound,message:"Method not found"}}).catch(e=>this._onerror(new Error(`Failed to send an error response: ${e}`))));const r=new AbortController;this._requestHandlerAbortControllers.set(e.id,r),Promise.resolve().then(()=>s(e,{signal:r.signal})).then(t=>{var n;if(!r.signal.aborted)return null===(n=this._transport)||void 0===n?void 0:n.send({result:t,jsonrpc:"2.0",id:e.id})},t=>{var n,s;if(!r.signal.aborted)return null===(n=this._transport)||void 0===n?void 0:n.send({jsonrpc:"2.0",id:e.id,error:{code:Number.isSafeInteger(t.code)?t.code:$i.InternalError,message:null!==(s=t.message)&&void 0!==s?s:"Internal error"}})}).catch(e=>this._onerror(new Error(`Failed to send response: ${e}`))).finally(()=>{this._requestHandlerAbortControllers.delete(e.id)})}_onprogress(e){const{progress:t,total:n,progressToken:s}=e.params,r=this._progressHandlers.get(Number(s));void 0!==r?r({progress:t,total:n}):this._onerror(new Error(`Received a progress notification for an unknown token: ${JSON.stringify(e)}`))}_onresponse(e){const t=e.id,n=this._responseHandlers.get(Number(t));if(void 0!==n)if(this._responseHandlers.delete(Number(t)),this._progressHandlers.delete(Number(t)),"result"in e)n(e);else{n(new Ho(e.error.code,e.error.message,e.error.data))}else this._onerror(new Error(`Received a response for an unknown message ID: ${JSON.stringify(e)}`))}get transport(){return this._transport}async close(){var e;await(null===(e=this._transport)||void 0===e?void 0:e.close())}request(e,t,n){return new Promise((s,r)=>{var i,o,a;if(!this._transport)return void r(new Error("Not connected"));!0===(null===(i=this._options)||void 0===i?void 0:i.enforceStrictCapabilities)&&this.assertCapabilityForMethod(e.method),null===(o=null==n?void 0:n.signal)||void 0===o||o.throwIfAborted();const u=this._requestMessageId++,c={...e,jsonrpc:"2.0",id:u};(null==n?void 0:n.onprogress)&&(this._progressHandlers.set(u,n.onprogress),c.params={...e.params,_meta:{progressToken:u}}),this._responseHandlers.set(u,e=>{var i;if(!(null===(i=null==n?void 0:n.signal)||void 0===i?void 0:i.aborted)){if(e instanceof Error)return r(e);try{const n=t.parse(e.result);s(n)}catch(o){r(o)}}}),null===(a=null==n?void 0:n.signal)||void 0===a||a.addEventListener("abort",()=>{var e,t;const s=null===(e=null==n?void 0:n.signal)||void 0===e?void 0:e.reason;this._responseHandlers.delete(u),this._progressHandlers.delete(u),null===(t=this._transport)||void 0===t||t.send({jsonrpc:"2.0",method:"cancelled",params:{requestId:u,reason:String(s)}}),r(s)}),this._transport.send(c).catch(r)})}async notification(e){if(!this._transport)throw new Error("Not connected");this.assertNotificationCapability(e.method);const t={...e,jsonrpc:"2.0"};await this._transport.send(t)}setRequestHandler(e,t){const n=e.shape.method.value;this.assertRequestHandlerCapability(n),this._requestHandlers.set(n,(n,s)=>Promise.resolve(t(e.parse(n),s)))}removeRequestHandler(e){this._requestHandlers.delete(e)}setNotificationHandler(e,t){this._notificationHandlers.set(e.shape.method.value,n=>Promise.resolve(t(e.parse(n))))}removeNotificationHandler(e){this._notificationHandlers.delete(e)}}class Vo extends Uo{constructor(e,t){super(t),this._serverInfo=e,this._capabilities=t.capabilities,this.setRequestHandler(qi,e=>this._oninitialize(e)),this.setNotificationHandler(Zi,()=>{var e;return null===(e=this.oninitialized)||void 0===e?void 0:e.call(this)})}assertCapabilityForMethod(e){var t,n;switch(e){case"sampling/createMessage":if(!(null===(t=this._clientCapabilities)||void 0===t?void 0:t.sampling))throw new Error(`Client does not support sampling (required for ${e})`);break;case"roots/list":if(!(null===(n=this._clientCapabilities)||void 0===n?void 0:n.roots))throw new Error(`Client does not support listing roots (required for ${e})`)}}assertNotificationCapability(e){switch(e){case"notifications/message":if(!this._capabilities.logging)throw new Error(`Server does not support logging (required for ${e})`);break;case"notifications/resources/updated":case"notifications/resources/list_changed":if(!this._capabilities.resources)throw new Error(`Server does not support notifying about resources (required for ${e})`);break;case"notifications/tools/list_changed":if(!this._capabilities.tools)throw new Error(`Server does not support notifying of tool list changes (required for ${e})`);break;case"notifications/prompts/list_changed":if(!this._capabilities.prompts)throw new Error(`Server does not support notifying of prompt list changes (required for ${e})`)}}assertRequestHandlerCapability(e){switch(e){case"sampling/createMessage":if(!this._capabilities.sampling)throw new Error(`Server does not support sampling (required for ${e})`);break;case"logging/setLevel":if(!this._capabilities.logging)throw new Error(`Server does not support logging (required for ${e})`);break;case"prompts/get":case"prompts/list":if(!this._capabilities.prompts)throw new Error(`Server does not support prompts (required for ${e})`);break;case"resources/list":case"resources/templates/list":case"resources/read":if(!this._capabilities.resources)throw new Error(`Server does not support resources (required for ${e})`);break;case"tools/call":case"tools/list":if(!this._capabilities.tools)throw new Error(`Server does not support tools (required for ${e})`)}}async _oninitialize(e){const t=e.params.protocolVersion;return this._clientCapabilities=e.params.capabilities,this._clientVersion=e.params.clientInfo,{protocolVersion:ki.includes(t)?t:_i,capabilities:this.getCapabilities(),serverInfo:this._serverInfo}}getClientCapabilities(){return this._clientCapabilities}getClientVersion(){return this._clientVersion}getCapabilities(){return this._capabilities}async ping(){return this.request({method:"ping"},ji)}async createMessage(e,t){return this.request({method:"sampling/createMessage",params:e},Oo,t)}async listRoots(e,t){return this.request({method:"roots/list",params:e},Lo,t)}async sendLoggingMessage(e){return this.notification({method:"notifications/message",params:e})}async sendResourceUpdated(e){return this.notification({method:"notifications/resources/updated",params:e})}async sendResourceListChanged(){return this.notification({method:"notifications/resources/list_changed"})}async sendToolListChanged(){return this.notification({method:"notifications/tools/list_changed"})}async sendPromptListChanged(){return this.notification({method:"notifications/prompts/list_changed"})}}const Wo={};class Jo{append(e){this._buffer=this._buffer?Buffer.concat([this._buffer,e]):e}readMessage(){if(!this._buffer)return null;const e=this._buffer.indexOf("\n");if(-1===e)return null;const t=this._buffer.toString("utf8",0,e);return this._buffer=this._buffer.subarray(e+1),function(e){return Oi.parse(JSON.parse(e))}(t)}clear(){this._buffer=void 0}}class Ko{constructor(e=Wo.stdin,t=Wo.stdout){this._stdin=e,this._stdout=t,this._readBuffer=new Jo,this._started=!1,this._ondata=e=>{this._readBuffer.append(e),this.processReadBuffer()},this._onerror=e=>{var t;null===(t=this.onerror)||void 0===t||t.call(this,e)}}async start(){if(this._started)throw new Error("StdioServerTransport already started! If using Server class, note that connect() calls start() automatically.");this._started=!0,this._stdin.on("data",this._ondata),this._stdin.on("error",this._onerror)}processReadBuffer(){for(var e,t;;)try{const t=this._readBuffer.readMessage();if(null===t)break;null===(e=this.onmessage)||void 0===e||e.call(this,t)}catch(n){null===(t=this.onerror)||void 0===t||t.call(this,n)}}async close(){var e;this._stdin.off("data",this._ondata),this._stdin.off("error",this._onerror),this._readBuffer.clear(),null===(e=this.onclose)||void 0===e||e.call(this)}send(e){return new Promise(t=>{const n=function(e){return JSON.stringify(e)+"\n"}(e);this._stdout.write(n)?t():this._stdout.once("drain",t)})}}const Go=new class{logger=me.getInstance("ToolRegistry");tools=new Map;categories=new Map;constructor(){this.initBuiltinCategories(),this.registerBuiltinTools()}initBuiltinCategories(){this.categories.set("file",{name:"File Operations",description:"Êñá‰ª∂ËØªÂÜôÊìç‰Ωú",tools:[]}),this.categories.set("shell",{name:"Shell Commands",description:"Shell ÂëΩ‰ª§ÊâßË°å",tools:[]}),this.categories.set("analysis",{name:"Analysis",description:"È°πÁõÆÂàÜÊûêÂ∑•ÂÖ∑",tools:[]}),this.categories.set("task",{name:"Task Management",description:"‰ªªÂä°ÁÆ°ÁêÜÂ∑•ÂÖ∑",tools:[]}),this.categories.set("custom",{name:"Custom",description:"Ëá™ÂÆö‰πâÂ∑•ÂÖ∑",tools:[]})}registerBuiltinTools(){this.register({name:"file_read",description:"ËØªÂèñÊñá‰ª∂ÂÜÖÂÆπ",inputSchema:{type:"object",properties:{path:{type:"string",description:"Êñá‰ª∂Ë∑ØÂæÑ"},offset:{type:"number",description:"Ëµ∑ÂßãË°å"},limit:{type:"number",description:"ËØªÂèñË°åÊï∞"}},required:["path"]},handler:async e=>{const t=await import("fs/promises"),n=await import("path"),s=(await t.readFile(e.path,"utf-8")).split("\n"),r=e.offset||0,i=e.limit||s.length;return{content:s.slice(r,r+i).join("\n"),totalLines:s.length,path:n.resolve(e.path)}},category:"file",tags:["read","file"]}),this.register({name:"file_write",description:"ÂÜôÂÖ•Êñá‰ª∂ÂÜÖÂÆπ",inputSchema:{type:"object",properties:{path:{type:"string",description:"Êñá‰ª∂Ë∑ØÂæÑ"},content:{type:"string",description:"Êñá‰ª∂ÂÜÖÂÆπ"},mode:{type:"string",description:"ÂÜôÂÖ•Ê®°Âºè: write|append"}},required:["path","content"]},handler:async e=>{const t=await import("fs/promises"),n=await import("path"),s=e.mode||"write",r=n.resolve(e.path);return"append"===s?await t.appendFile(r,e.content):await t.writeFile(r,e.content),{success:!0,path:r}},category:"file",tags:["write","file"]}),this.register({name:"file_edit",description:"ÁºñËæëÊñá‰ª∂Â±ÄÈÉ®ÂÜÖÂÆπ",inputSchema:{type:"object",properties:{path:{type:"string",description:"Êñá‰ª∂Ë∑ØÂæÑ"},oldText:{type:"string",description:"Ë¶ÅÊõøÊç¢ÁöÑÊñáÊú¨"},newText:{type:"string",description:"ÊõøÊç¢ÂêéÁöÑÊñáÊú¨"}},required:["path","oldText","newText"]},handler:async e=>{const t=await import("fs/promises"),n=(await import("path")).resolve(e.path);let s=await t.readFile(n,"utf-8");const r=e.oldText,i=e.newText;if(!s.includes(r))throw new Error("Êú™ÊâæÂà∞Ë¶ÅÊõøÊç¢ÁöÑÊñáÊú¨");return s=s.replace(r,i),await t.writeFile(n,s),{success:!0,path:n}},category:"file",tags:["edit","file"]}),this.register({name:"shell_exec",description:"ÊâßË°å Shell ÂëΩ‰ª§",inputSchema:{type:"object",properties:{command:{type:"string",description:"Ë¶ÅÊâßË°åÁöÑÂëΩ‰ª§"},cwd:{type:"string",description:"Â∑•‰ΩúÁõÆÂΩï"},timeout:{type:"number",description:"Ë∂ÖÊó∂Êó∂Èó¥(ms)"}},required:["command"]},handler:async e=>{const{exec:t}=await import("child_process"),n=(await import("util")).promisify(t),s=e.timeout||3e4;try{const{stdout:t,stderr:r}=await n(e.command,{cwd:e.cwd||process.cwd(),timeout:s});return{stdout:t,stderr:r,success:!0}}catch(r){return{stdout:r.stdout||"",stderr:r.message,success:!1,code:r.code}}},category:"shell",tags:["shell","exec"]}),this.register({name:"project_analyze",description:"ÂàÜÊûêÈ°πÁõÆÁªìÊûÑ",inputSchema:{type:"object",properties:{path:{type:"string",description:"È°πÁõÆË∑ØÂæÑ"},depth:{type:"number",description:"ÂàÜÊûêÊ∑±Â∫¶"}},required:["path"]},handler:async e=>{await import("fs/promises");const t=(await import("path")).resolve(e.path),n=e.depth||3;return await this.analyzeProject(t,n)},category:"analysis",tags:["analyze","project"]}),this.register({name:"task_create",description:"ÂàõÂª∫Êñ∞‰ªªÂä°",inputSchema:{type:"object",properties:{title:{type:"string",description:"‰ªªÂä°Ê†áÈ¢ò"},description:{type:"string",description:"‰ªªÂä°ÊèèËø∞"},type:{type:"string",description:"‰ªªÂä°Á±ªÂûã"},priority:{type:"string",description:"‰ºòÂÖàÁ∫ß"}},required:["title"]},handler:async e=>({id:`task-${Date.now()}`,title:e.title,description:e.description||"",type:e.type||"development",priority:e.priority||"medium",status:"pending",createdAt:(new Date).toISOString()}),category:"task",tags:["task","create"]})}register(e){const t={tool:e,registeredAt:Date.now(),callCount:0};this.tools.set(e.name,t);const n=e.category||"custom";this.categories.has(n)&&this.categories.get(n).tools.push(e.name),this.logger.info(`Â∑•ÂÖ∑Â∑≤Ê≥®ÂÜå: ${e.name}`)}unregister(e){const t=this.tools.get(e);if(!t)return!1;const n=t.tool.category||"custom";if(this.categories.has(n)){const t=this.categories.get(n).tools,s=t.indexOf(e);s>-1&&t.splice(s,1)}return this.tools.delete(e),this.logger.info(`Â∑•ÂÖ∑Â∑≤Ê≥®ÈîÄ: ${e}`),!0}get(e){return this.tools.get(e)?.tool}async execute(e,t){const n=this.tools.get(e);if(!n)throw new Error(`Â∑•ÂÖ∑‰∏çÂ≠òÂú®: ${e}`);n.callCount++,n.lastCalled=Date.now();try{return await n.tool.handler(t)}catch(s){throw this.logger.error(`Â∑•ÂÖ∑ÊâßË°åÂ§±Ë¥•: ${e}`,s),s}}list(){return Array.from(this.tools.values()).map(e=>e.tool)}listByCategory(e){const t=this.categories.get(e);return t?t.tools.map(e=>this.tools.get(e)?.tool).filter(e=>void 0!==e):[]}listCategories(){return Array.from(this.categories.values())}getStats(){const e={},t=[];for(const[n,s]of this.tools){const r=s.tool.category||"custom";e[r]=(e[r]||0)+1,t.push({name:n,calls:s.callCount})}return t.sort((e,t)=>t.calls-e.calls),{total:this.tools.size,byCategory:e,mostUsed:t.slice(0,10)}}async analyzeProject(e,t){const n=await import("fs/promises"),s=await import("path"),r={path:e,name:s.basename(e),files:0,directories:0,languages:{},size:0},i=async(e,o)=>{if(!(o>t))try{const t=await n.readdir(e,{withFileTypes:!0});for(const a of t){const t=s.join(e,a.name);if(!a.name.startsWith(".")&&"node_modules"!==a.name)if(a.isDirectory())r.directories++,await i(t,o+1);else{r.files++;const e=s.extname(a.name).slice(1);r.languages[e]=(r.languages[e]||0)+1;try{const e=await n.stat(t);r.size+=e.size}catch{}}}}catch{}};return await i(e,0),r}};class Yo{constructor(e,t){this.settings=e,this.config=t,this.logger=me.getInstance("MCPServer")}server;transport;isRunning=!1;toolRegistry=Go;logger;async start(){try{this.logger.info("Ê≠£Âú®ÂêØÂä®MCPÊúçÂä°Âô®..."),this.server=new Vo({name:this.settings.serverName||"taskflow-ai",version:this.settings.version||"1.0.0"},{capabilities:{tools:{},resources:{},prompts:{}}}),this.setupRequestHandlers(),this.transport=new Ko,await this.server.connect(this.transport),this.isRunning=!0,this.logger.info("MCPÊúçÂä°Âô®Â∑≤ÂêØÂä® (stdioÊ®°Âºè)"),process.stdin.on("end",()=>{this.logger.info("stdin ended, shutting down..."),this.stop()}),process.on("SIGINT",()=>{this.logger.info("SIGINT received, shutting down..."),this.stop()}),process.on("SIGTERM",()=>{this.logger.info("SIGTERM received, shutting down..."),this.stop()})}catch(e){throw this.logger.error("MCPÊúçÂä°Âô®ÂêØÂä®Â§±Ë¥•:",e),e}}async stop(){try{this.logger.info("Ê≠£Âú®ÂÅúÊ≠¢MCPÊúçÂä°Âô®..."),this.isRunning=!1,this.toolRegistry,this.server&&await this.server.close(),this.logger.info("MCPÊúçÂä°Âô®Â∑≤ÂÅúÊ≠¢")}catch(e){throw this.logger.error("ÂÅúÊ≠¢MCPÊúçÂä°Âô®Êó∂Âá∫Èîô:",e),e}}setupRequestHandlers(){this.server&&(this.server.setRequestHandler(Co,async()=>({tools:(this.toolRegistry?.getAllTools()||[]).map(e=>({name:e.name,description:e.description,inputSchema:e.inputSchema}))})),this.server.setRequestHandler(xo,async e=>{const{name:t,arguments:n}=e.params;try{const e=await this.executeTool(t,n);return{content:[{type:"text",text:"string"==typeof e?e:JSON.stringify(e,null,2)}]}}catch(s){return{content:[{type:"text",text:`Error: ${s.message}`}],isError:!0}}}),this.server.setRequestHandler(eo,async()=>({resources:[{uri:"taskflow://config",name:"TaskFlow Configuration",mimeType:"application/json",description:"Current TaskFlow AI configuration"},{uri:"taskflow://tools",name:"Available Tools",mimeType:"application/json",description:"List of all available MCP tools"}]})),this.server.setRequestHandler(ro,async e=>{const{uri:t}=e.params;if("taskflow://config"===t)return{contents:[{uri:t,mimeType:"application/json",text:JSON.stringify(this.sanitizeConfig(this.config),null,2)}]};if("taskflow://tools"===t){const e=this.toolRegistry?.getAllTools()||[];return{contents:[{uri:t,mimeType:"application/json",text:JSON.stringify(e,null,2)}]}}throw new Error(`Unknown resource: ${t}`)}),this.server.setRequestHandler(po,async()=>({prompts:[{name:"analyze-project",description:"Analyze a project structure and provide insights"},{name:"create-task",description:"Create a new task with proper structure"}]})),this.server.setRequestHandler(mo,async e=>{const{name:t,arguments:n}=e.params;if("analyze-project"===t)return{description:"Analyze project structure",messages:[{role:"user",content:{type:"text",text:`Please analyze the project at ${n?.path||process.cwd()} and provide insights about its structure, technologies used, and potential improvements.`}}]};if("create-task"===t)return{description:"Create a new task",messages:[{role:"user",content:{type:"text",text:`Create a new task with title: "${n?.title||"New Task"}"${n?.description?` and description: "${n.description}"`:""}`}}]};throw new Error(`Unknown prompt: ${t}`)}))}async executeTool(e,t){return{error:"Tool execution not implemented"}}async executeFileRead(e){const{path:t}=e;if(!t)throw new Error("Path is required");const n=r.resolve(t),s=process.cwd();if(!n.startsWith(s))throw new Error("Access denied: path outside of working directory");try{return await i.readFile(n,"utf-8")}catch(o){throw new Error(`Failed to read file: ${o.message}`)}}async executeFileWrite(e){const{path:t,content:n}=e;if(!t||void 0===n)throw new Error("Path and content are required");const s=r.resolve(t),o=process.cwd();if(!s.startsWith(o))throw new Error("Access denied: path outside of working directory");try{return await i.ensureDir(r.dirname(s)),await i.writeFile(s,n,"utf-8"),{success:!0,path:s}}catch(a){throw new Error(`Failed to write file: ${a.message}`)}}async executeShellExec(e){const{command:t,cwd:n,timeout:s=30}=e;if(!t)throw new Error("Command is required");const r=["ls","cat","grep","find","head","tail","wc","git","npm","node","npx","tsc","eslint","prettier","mkdir","touch","rm","cp","mv","echo","pwd","whoami","date","which"],i=t.trim().split(" ")[0];if(!r.includes(i))throw new Error(`Command not allowed: ${i}. Allowed commands: ${r.join(", ")}`);try{return{output:a.execSync(t,{cwd:n||process.cwd(),timeout:1e3*s,encoding:"utf-8",maxBuffer:1048576}),command:t}}catch(o){throw new Error(`Command failed: ${o.message}`)}}async executeProjectAnalyze(e){const{path:t=process.cwd(),depth:n=3}=e,s={path:t,files:0,directories:0,languages:{},structure:[]},o=async(e,t)=>{if(t>n)return[];const a=[];try{const n=await i.readdir(e,{withFileTypes:!0});for(const i of n){if(i.name.startsWith(".")||"node_modules"===i.name)continue;const n=r.join(e,i.name);if(i.isDirectory()){s.directories++;const e=await o(n,t+1);a.push({name:i.name,type:"directory",children:e})}else{s.files++;const e=r.extname(i.name);e&&(s.languages[e]=(s.languages[e]||0)+1),a.push({name:i.name,type:"file",extension:e||null})}}}catch(u){}return a};return s.structure=await o(t,0),s}async executeTaskCreate(e){const{title:t,description:n="",type:s="general",priority:o="medium"}=e;if(!t)throw new Error("Title is required");const a={id:`task-${Date.now()}`,title:t,description:n,type:s,priority:o,status:"todo",createdAt:(new Date).toISOString()},u=r.join(process.cwd(),".taskflow","tasks");return await i.ensureDir(u),await i.writeJson(r.join(u,`${a.id}.json`),a,{spaces:2}),a}sanitizeConfig(e){if(!e)return{};const t={...e};return t.aiModels&&(t.aiModels=t.aiModels.map(e=>({...e,apiKey:e.apiKey?"***":void 0}))),t}isServerRunning(){return this.isRunning}}const Qo={"deepseek-chat":{id:"deepseek-chat",provider:"deepseek",name:"DeepSeek Chat",capabilities:["chat","reasoning"],contextLength:128e3,costPer1MInput:.5,costPer1MOutput:2},"deepseek-coder":{id:"deepseek-coder",provider:"deepseek",name:"DeepSeek Coder",capabilities:["chat","code"],contextLength:128e3,costPer1MInput:.5,costPer1MOutput:2},"gpt-4o":{id:"gpt-4o",provider:"openai",name:"GPT-4o",capabilities:["chat","vision","function_calling"],contextLength:128e3,costPer1MInput:5,costPer1MOutput:15},"gpt-4o-mini":{id:"gpt-4o-mini",provider:"openai",name:"GPT-4o Mini",capabilities:["chat"],contextLength:128e3,costPer1MInput:.15,costPer1MOutput:.6},o1:{id:"o1",provider:"openai",name:"OpenAI o1",capabilities:["reasoning"],contextLength:2e5,costPer1MInput:15,costPer1MOutput:60},"o1-mini":{id:"o1-mini",provider:"openai",name:"OpenAI o1-mini",capabilities:["reasoning","code"],contextLength:128e3,costPer1MInput:3,costPer1MOutput:12},"claude-3-5-sonnet":{id:"claude-3-5-sonnet",provider:"anthropic",name:"Claude 3.5 Sonnet",capabilities:["chat","vision","function_calling"],contextLength:2e5,costPer1MInput:3,costPer1MOutput:15},"claude-3-opus":{id:"claude-3-opus",provider:"anthropic",name:"Claude 3 Opus",capabilities:["chat","reasoning","vision"],contextLength:2e5,costPer1MInput:15,costPer1MOutput:75},"glm-4":{id:"glm-4",provider:"zhipu",name:"GLM-4",capabilities:["chat"],contextLength:128e3,costPer1MInput:.5,costPer1MOutput:1},"glm-4-flash":{id:"glm-4-flash",provider:"zhipu",name:"GLM-4 Flash",capabilities:["chat"],contextLength:128e3,costPer1MInput:.1,costPer1MOutput:.1},"qwen-turbo":{id:"qwen-turbo",provider:"qwen",name:"Qwen Turbo",capabilities:["chat"],contextLength:1e5,costPer1MInput:.2,costPer1MOutput:.6},"qwen-plus":{id:"qwen-plus",provider:"qwen",name:"Qwen Plus",capabilities:["chat","reasoning"],contextLength:1e5,costPer1MInput:1,costPer1MOutput:3}},Xo="https://api.deepseek.com/v1",ea="https://api.openai.com/v1",ta="https://api.anthropic.com/v1";class na{config;baseUrl;constructor(e){this.config=e,this.baseUrl=e.baseUrl||this.getDefaultEndpoint()}async*stream(e){const t=await this.complete({...e,stream:!0});for(const n of t.choices)yield{id:t.id,choices:[{index:n.index,delta:n.message,finish_reason:n.finish_reason}]}}async test(){const e=Date.now();try{return await this.complete({messages:[{role:"user",content:"Hi"}],max_tokens:10}),{success:!0,latency:Date.now()-e}}catch(t){return{success:!1,latency:Date.now()-e,error:t instanceof Error?t.message:"Unknown error"}}}getModelInfo(){return{id:this.config.id,provider:this.config.provider,modelName:this.config.modelName,enabled:this.config.enabled,capabilities:this.config.capabilities}}estimateCost(e,t){return(this.config.costPer1MInput?e/1e6*this.config.costPer1MInput:0)+(this.config.costPer1MOutput?t/1e6*this.config.costPer1MOutput:0)}buildHeaders(){const e={"Content-Type":"application/json"};switch(this.config.provider){case"openai":case"anthropic":e.Authorization=`Bearer ${this.config.apiKey}`,"anthropic"===this.config.provider&&(e["anthropic-version"]="2023-06-01");break;case"deepseek":case"zhipu":case"qwen":e.Authorization=`Bearer ${this.config.apiKey}`}return e}async request(e,t){const n=await fetch(`${this.baseUrl}${e}`,{method:"POST",headers:this.buildHeaders(),body:JSON.stringify(t)});if(!n.ok){const e=await n.text();throw new Error(`API Error (${n.status}): ${e}`)}return n.json()}}class sa extends na{constructor(e){super(e)}getDefaultEndpoint(){return Xo}async complete(e){const t={model:this.config.modelName,...e,stream:!1},n=await this.request("/chat/completions",t);return{id:n.id,model:n.model,choices:n.choices.map(e=>({index:e.index,message:{role:e.message.role,content:e.message.content},finish_reason:e.finish_reason})),usage:n.usage,created:n.created}}async*stream(e){const t={model:this.config.modelName,...e,stream:!0},n=await fetch(`${this.baseUrl}/chat/completions`,{method:"POST",headers:this.buildHeaders(),body:JSON.stringify(t)});if(!n.ok||!n.body)throw new Error(`Stream error: ${n.status}`);const s=n.body.getReader(),r=new TextDecoder;let i="";for(;;){const{done:e,value:t}=await s.read();if(e)break;i+=r.decode(t,{stream:!0});const n=i.split("\n");i=n.pop()||"";for(const s of n){const e=s.trim();if(e&&e.startsWith("data: ")){if("data: [DONE]"===e)return;try{const t=JSON.parse(e.slice(6));yield{id:t.id,choices:t.choices.map(e=>({index:e.index,delta:e.delta,finish_reason:e.finish_reason}))}}catch{}}}}}}class ra extends na{constructor(e){super(e)}getDefaultEndpoint(){return ea}async complete(e){const t={model:this.config.modelName,...e},n=await this.request("/chat/completions",t);return{id:n.id,model:n.model,choices:n.choices.map(e=>({index:e.index,message:{role:e.message.role,content:e.message.content||"",...e.message.tool_calls&&{tool_calls:e.message.tool_calls}},finish_reason:e.finish_reason})),usage:n.usage,created:n.created}}async*stream(e){const t={model:this.config.modelName,...e,stream:!0},n=await fetch(`${this.baseUrl}/chat/completions`,{method:"POST",headers:this.buildHeaders(),body:JSON.stringify(t)});if(!n.ok||!n.body)throw new Error(`Stream error: ${n.status}`);const s=n.body.getReader(),r=new TextDecoder;let i="";for(;;){const{done:e,value:t}=await s.read();if(e)break;i+=r.decode(t,{stream:!0});const n=i.split("\n");i=n.pop()||"";for(const s of n){const e=s.trim();if(e&&e.startsWith("data: ")){if("data: [DONE]"===e)return;try{const t=JSON.parse(e.slice(6));yield{id:t.id,choices:t.choices.map(e=>({index:e.index,delta:e.delta,finish_reason:e.finish_reason}))}}catch{}}}}}}class ia extends na{constructor(e){super(e)}getDefaultEndpoint(){return ta}convertMessages(e){const t=[];let n="";for(const s of e)"system"===s.role?n=s.content:t.push({role:s.role,content:s.content});return n&&t[0]?.system&&(t[0].system=n),t}async complete(e){const t=e.messages.filter(e=>"system"===e.role),n=e.messages.filter(e=>"system"!==e.role),s={model:this.config.modelName,messages:this.convertMessages(n),max_tokens:e.max_tokens||4096,temperature:e.temperature,top_p:e.top_p};t.length>0&&(s.system=t[0].content);const r=await this.request("/messages",s),i=r.content.map(e=>e.text||"").join("");return{id:r.id,model:r.model,choices:[{index:0,message:{role:"assistant",content:i},finish_reason:"end_turn"===r.stop_reason?"stop":"max_tokens"===r.stop_reason?"length":null}],usage:{prompt_tokens:r.usage.input_tokens,completion_tokens:r.usage.output_tokens,total_tokens:r.usage.input_tokens+r.usage.output_tokens},created:Date.now()}}async*stream(e){const t=e.messages.filter(e=>"system"===e.role),n=e.messages.filter(e=>"system"!==e.role),s={model:this.config.modelName,messages:this.convertMessages(n),max_tokens:e.max_tokens||4096,temperature:e.temperature,stream:!0};t.length>0&&(s.system=t[0].content);const r=await fetch(`${this.baseUrl}/messages`,{method:"POST",headers:{...this.buildHeaders(),"Content-Type":"application/json"},body:JSON.stringify(s)});if(!r.ok||!r.body)throw new Error(`Stream error: ${r.status}`);const i=r.body.getReader(),o=new TextDecoder;let a="";for(;;){const{done:e,value:t}=await i.read();if(e)break;const n=o.decode(t,{stream:!0}).split("\n");for(const s of n)if(s.startsWith("data: ")){if("data: [DONE]"===s)return;try{const e=JSON.parse(s.slice(6));a=e.id,"content_block_delta"===e.type?yield{id:e.id,choices:[{index:0,delta:{content:e.delta?.text||""}}]}:"message_delta"===e.type&&(yield{id:e.id,choices:[{index:0,delta:{},finish_reason:e.delta?.stop_reason||"stop"}]})}catch{}}}}}const oa=[{match:(e,t)=>{const n=t[t.length-1]?.content?.toLowerCase()||"";return"code"===e.taskType||n.includes("code")||n.includes("function")||n.includes("implement")},prefer:["deepseek-coder","gpt-4o","claude-3-5-sonnet"],weight:1},{match:e=>"high"===e.complexity||"reasoning"===e.taskType,prefer:["o1","claude-3-opus","qwen-plus"],weight:.9},{match:e=>"vision"===e.taskType,prefer:["gpt-4o","claude-3-5-sonnet"],weight:1},{match:e=>"function"===e.taskType,prefer:["gpt-4o","claude-3-5-sonnet"],weight:1},{match:e=>"low"===e.complexity&&!e.budget,prefer:["glm-4-flash","qwen-turbo","gpt-4o-mini"],weight:.7},{match:e=>e.urgent,prefer:["gpt-4o-mini","glm-4-flash","qwen-turbo"],weight:.8}];class aa{extractContext(e){const t=e[e.length-1]?.content?.toLowerCase()||"";let n,s="medium";t.includes("code")||t.includes("function")?n="code":t.includes("analyze")||t.includes("think")?(n="reasoning",s="high"):n=t.includes("image")||t.includes("picture")?"vision":"chat";const r=e.reduce((e,t)=>e+(t.content?.length||0),0);return r<200?s="low":r>2e3&&(s="high"),{taskType:n,complexity:s}}}class ua extends aa{rules=oa;async select(e,t,n){if(n){const e=t.find(e=>e.id===n);if(e)return{model:e,reason:"User preferred model",candidates:t,strategy:"smart"}}const s=this.extractContext(e),r=new Map;for(const o of this.rules)if(o.match(s,e))for(const e of o.prefer){const t=r.get(e)||0;r.set(e,t+o.weight)}const i=[...t].sort((e,t)=>{const n=r.get(e.id)||0,s=r.get(t.id)||0;return n!==s?s-n:e.priority-t.priority});return{model:i[0]||t[0],reason:`Task type: ${s.taskType}, Complexity: ${s.complexity}`,candidates:i,strategy:"smart"}}}class ca extends aa{async select(e,t){const n=[...t].sort((e,t)=>(e.costPer1MInput||999)-(t.costPer1MInput||999));return{model:n[0],reason:"Lowest input cost",candidates:n,strategy:"cost"}}}class la extends aa{estimatedLatency={"gpt-4o-mini":500,"glm-4-flash":600,"qwen-turbo":700,"deepseek-chat":800,"claude-3-5-sonnet":1e3,"gpt-4o":1200,o1:5e3};async select(e,t){const n=[...t].sort((e,t)=>(this.estimatedLatency[e.id]||1e3)-(this.estimatedLatency[t.id]||1e3));return{model:n[0],reason:"Lowest estimated latency",candidates:n,strategy:"speed"}}}class da extends aa{async select(e,t){const n=[...t].sort((e,t)=>e.priority-t.priority);return{model:n[0],reason:"Highest configured priority",candidates:n,strategy:"priority"}}}class ha extends aa{async select(e,t){return{model:t[Math.floor(Math.random()*t.length)],reason:"Random selection",candidates:t,strategy:"random"}}}function pa(e){switch(e){case"smart":default:return new ua;case"cost":return new ca;case"speed":return new la;case"priority":return new da;case"random":return new ha}}class fa{models=new Map;adapters=new Map;defaultRouter;enableFallback;maxRetries;retryDelay;enabledModels=[];constructor(e){this.defaultRouter=e.defaultRouter||"smart",this.enableFallback=e.enableFallback??!0,this.maxRetries=e.maxRetries??2,this.retryDelay=e.retryDelay??1e3;for(const t of e.models)this.addModel(t)}addModel(e){this.models.set(e.id,e);const t=this.createAdapter(e);t&&this.adapters.set(e.id,t),e.enabled&&(this.enabledModels=[...this.enabledModels.filter(t=>t.id!==e.id),e].sort((e,t)=>e.priority-t.priority))}removeModel(e){this.models.delete(e),this.adapters.delete(e),this.enabledModels=this.enabledModels.filter(t=>t.id!==e)}setModelEnabled(e,t){const n=this.models.get(e);n&&(n.enabled=t,this.enabledModels=t?[...this.enabledModels.filter(t=>t.id!==e),n].sort((e,t)=>e.priority-t.priority):this.enabledModels.filter(t=>t.id!==e))}getModels(){return Array.from(this.models.values())}getEnabledModels(){return this.enabledModels}getModel(e){return this.models.get(e)}createAdapter(e){switch(e.provider){case"deepseek":return new sa(e);case"openai":return new ra(e);case"anthropic":return new ia(e);default:return null}}async complete(e){const t=e.strategy||this.defaultRouter,n=await pa(t).select(e.messages,this.enabledModels,e.preferredModel),s=n.model,r=this.adapters.get(s.id);if(!r)throw new Error(`No adapter for model: ${s.id}`);const i={messages:e.messages,temperature:e.temperature??s.temperature,max_tokens:e.maxTokens??s.maxTokens};e.systemPrompt&&(i.messages=[{role:"system",content:e.systemPrompt},...i.messages]);let o=null;const a=Date.now();for(let c=0;c<=this.maxRetries;c++)try{const e=await r.complete(i),t=r.estimateCost(e.usage?.prompt_tokens||0,e.usage?.completion_tokens||0);return{response:e,model:s,routing:n,cost:t,latency:Date.now()-a}}catch(u){if(o=u instanceof Error?u:new Error(String(u)),c<this.maxRetries&&this.enableFallback){await this.sleep(this.retryDelay*(c+1));const e=this.enabledModels.filter(e=>e.priority>s.priority);if(e.length>0){const t=e[0];s.id,t.id}}}throw o||new Error("Request failed after retries")}async*stream(e){const t=e.strategy||this.defaultRouter,n=await pa(t).select(e.messages,this.enabledModels,e.preferredModel),s=this.adapters.get(n.model.id);if(!s)throw new Error(`No adapter for model: ${n.model.id}`);const r={messages:e.messages,temperature:e.temperature??n.model.temperature,max_tokens:e.maxTokens??n.model.maxTokens,stream:!0};e.systemPrompt&&(r.messages=[{role:"system",content:e.systemPrompt},...r.messages]),yield*s.stream(r)}async testAll(){const e=[];for(const[t,n]of this.adapters){const s=await n.test();e.push({modelId:t,...s})}return e}getModelInfo(e){return{...this.models.get(e),...Qo[e]}}findByCapability(e){return this.enabledModels.filter(t=>t.capabilities.includes(e))}sleep(e){return new Promise(t=>setTimeout(t,e))}}const ma=[{id:"deepseek-chat",provider:"deepseek",modelName:"deepseek-chat",apiKey:"",enabled:!0,priority:1,capabilities:["chat","reasoning"],costPer1MInput:.5,costPer1MOutput:2},{id:"gpt-4o-mini",provider:"openai",modelName:"gpt-4o-mini",apiKey:"",enabled:!0,priority:2,capabilities:["chat"],costPer1MInput:.15,costPer1MOutput:.6},{id:"claude-3-5-sonnet",provider:"anthropic",modelName:"claude-3-5-sonnet-20241022",apiKey:"",enabled:!0,priority:3,capabilities:["chat","vision","function_calling"],costPer1MInput:3,costPer1MOutput:15}],ga=new e.Command("model");let Da=null;function ya(){if(!Da){const e=ks().aiModels||ma;Da=new fa({models:e,defaultRouter:"smart"})}return Da}ga.command("list").description("ÂàóÂá∫ÊâÄÊúâÈÖçÁΩÆÁöÑÊ®°Âûã").action(()=>{const e=ya().getModels();if(0===e.length)return;const t=e.filter(e=>e.enabled),n=e.filter(e=>!e.enabled);t.length>0&&t.forEach(e=>{}),n.length>0&&n.forEach(e=>{})}),ga.command("add").description("Ê∑ªÂä†Êñ∞Ê®°Âûã").requiredOption("-i, --id <id>","Ê®°Âûã ID").requiredOption("-p, --provider <provider>","Êèê‰æõÂïÜ (deepseek|openai|anthropic|zhipu|qwen)").requiredOption("-m, --model-name <name>","Ê®°ÂûãÂêçÁß∞").requiredOption("-k, --api-key <key>","API Key").option("-u, --base-url <url>","API Âü∫Á°Ä URL").option("--priority <n>","‰ºòÂÖàÁ∫ß","10").option("--enabled","ÊòØÂê¶ÂêØÁî®","true").action(async e=>{const t=ks(),n={id:e.id,provider:e.provider,modelName:e.modelName,apiKey:e.apiKey,baseUrl:e.baseUrl,priority:parseInt(e.priority),enabled:"true"===e.enabled,capabilities:["chat"]},s=t.aiModels?.findIndex(e=>e.id===n.id);void 0!==s&&s>=0?t.aiModels[s]=n:(t.aiModels=t.aiModels||[],t.aiModels.push(n)),bs(t),Da=null}),ga.command("remove").description("ÁßªÈô§Ê®°Âûã").requiredOption("-i, --id <id>","Ê®°Âûã ID").action(e=>{const t=ks();if(!t.aiModels)return;const n=t.aiModels.findIndex(t=>t.id===e.id);n<0||(t.aiModels.splice(n,1),bs(t),Da=null)}),ga.command("enable").description("ÂêØÁî®Ê®°Âûã").requiredOption("-i, --id <id>","Ê®°Âûã ID").action(e=>{const t=ks(),n=t.aiModels?.find(t=>t.id===e.id);n&&(n.enabled=!0,bs(t),Da=null)}),ga.command("disable").description("Á¶ÅÁî®Ê®°Âûã").requiredOption("-i, --id <id>","Ê®°Âûã ID").action(e=>{const t=ks(),n=t.aiModels?.find(t=>t.id===e.id);n&&(n.enabled=!1,bs(t),Da=null)}),ga.command("test").description("ÊµãËØïÊâÄÊúâÊ®°ÂûãÁöÑËøûÊé•").option("-i, --id <id>","Âè™ÊµãËØïÊåáÂÆöÊ®°Âûã").action(async e=>{const t=ya();(e.id?[{modelId:e.id,...await(t.getModel(e.id)?.test())||{success:!1,latency:0,error:"Model not found"}}]:await t.testAll()).forEach(e=>{e.success})}),ga.command("route").description("ÊµãËØïÊ®°ÂûãË∑ØÁî±ÂÜ≥Á≠ñ").argument("<message>","ÊµãËØïÊ∂àÊÅØ").option("-s, --strategy <strategy>","Ë∑ØÁî±Á≠ñÁï• (smart|cost|speed|priority)","smart").action(async(e,t)=>{const n=ya();await n.complete({messages:[{role:"user",content:e}],strategy:t.strategy})}),ga.command("benchmark").description("ÂØπÊØî‰∏çÂêåË∑ØÁî±Á≠ñÁï•").argument("<message>","ÊµãËØïÊ∂àÊÅØ").action(async e=>{const t=ya(),n=["smart","cost","speed","priority"];for(const r of n)try{await t.complete({messages:[{role:"user",content:e}],strategy:r})}catch(s){}});const _a=ga;function ka(){return`thought_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}class ba{chains=new Map;options;constructor(e={}){this.options={verbose:e.verbose??!0,maxDepth:e.maxDepth??10,maxNodes:e.maxNodes??100,enableReflection:e.enableReflection??!0,outputFormat:e.outputFormat??"markdown"}}createChain(e,t){const n=ka(),s=Date.now(),r={id:ka(),type:"requirement",content:e,confidence:1,reasoning:"ÁêÜËß£Áî®Êà∑ËæìÂÖ•",children:[],model:t,timestamp:s},i={id:n,root:r,nodes:new Map([[r.id,r]]),createdAt:s,updatedAt:s,metadata:{input:e,model:t}};return this.chains.set(n,i),i}addNode(e,t,n,s,r,i){const o=this.chains.get(e);if(!o)return null;if(o.nodes.size>=this.options.maxNodes)return null;const a=o.nodes.get(t);if(!a)return null;if(this.getNodeDepth(o,t)>=this.options.maxDepth)return null;const u={id:ka(),type:n,content:s,confidence:i?.confidence??.8,reasoning:r,children:[],model:i?.model,timestamp:Date.now(),metadata:i?.metadata};return a.children.push(u),o.nodes.set(u.id,u),o.updatedAt=Date.now(),u}getNodeDepth(e,t){let n=0,s=e.nodes.get(t);for(;s&&s!==e.root;){n++;for(const[,n]of e.nodes)if(n.children.some(e=>e.id===t)){s=n,t=n.id;break}if(s?.id===t)break}return n}addReflection(e,t,n,s,r){return this.addNode(e,t,"reflection",n,"ÂèçÊÄùÂÆ°Êü•",{confidence:s,model:r})}addToolCall(e,t,n){const s=this.chains.get(e),r=s?.nodes.get(t);r&&(r.toolCalls=r.toolCalls||[],r.toolCalls.push(n))}toSteps(e){const t=[];return this.traverseTree(e.root,(e,n)=>{t.push({step:t.length+1,type:e.type,title:this.getTypeTitle(e.type),description:e.content,reasoning:e.reasoning,confidence:e.confidence})}),t}traverseTree(e,t,n=0){t(e,n);for(const s of e.children)this.traverseTree(s,t,n+1)}getTypeTitle(e){return{requirement:"üéØ ÁêÜËß£ÈúÄÊ±Ç",analysis:"üìä ÂàÜÊûêÈóÆÈ¢ò",decomposition:"üî® ÊãÜËß£‰ªªÂä°",task:"üìã ÁîüÊàê‰ªªÂä°",action:"‚ö° ÊâßË°åË°åÂä®",reflection:"üîç ÂèçÊÄùÂÆ°Êü•",synthesis:"‚úÖ ÁªºÂêàÊÄªÁªì"}[e]}toText(e){const t=[];t.push("ü§î ÊÄùÁª¥ÈìæÂàÜÊûê\n"),t.push("‚îÄ".repeat(40));const n=this.toSteps(e);for(const s of n)t.push(`\n${"  ".repeat(s.step-1)}${s.title}`),t.push(`${"  ".repeat(s.step)}üìù ${s.description}`),s.reasoning&&this.options.verbose&&t.push(`${"  ".repeat(s.step)}üí≠ ${s.reasoning}`),t.push(`${"  ".repeat(s.step)}üìä ÁΩÆ‰ø°Â∫¶: ${(100*s.confidence).toFixed(0)}%`);return t.join("\n")}toMarkdown(e){const t=[];t.push("# üß† ÊÄùÁª¥ÈìæÂàÜÊûê\n"),t.push(`> ËæìÂÖ•: ${e.metadata.input?.substring(0,100)}...`),t.push(`> Ê®°Âûã: ${e.metadata.model||"Êú™Áü•"}`),t.push(`> Êó∂Èó¥: ${new Date(e.createdAt).toLocaleString()}\n`),t.push("---\n");const n=this.toSteps(e);for(const s of n)t.push(`## ${s.step}. ${s.title}\n`),t.push(`**ÊèèËø∞**: ${s.description}\n`),t.push(`**ÁΩÆ‰ø°Â∫¶**: ${(100*s.confidence).toFixed(0)}%\n`),s.reasoning&&this.options.verbose&&t.push(`**Êé®ÁêÜ**: ${s.reasoning}\n`);return t.join("\n")}toJSON(e){return JSON.stringify({id:e.id,createdAt:e.createdAt,metadata:e.metadata,steps:this.toSteps(e)},null,2)}export(e){const t=this.chains.get(e);if(!t)return null;switch(this.options.outputFormat){case"json":return this.toJSON(t);case"markdown":return this.toMarkdown(t);default:return this.toText(t)}}getChain(e){return this.chains.get(e)}listChains(){return Array.from(this.chains.values()).map(e=>({id:e.id,createdAt:e.createdAt,input:e.metadata.input||""}))}}class wa{render(e){const t=[];t.push("ü§î ÊÄùÁª¥ÈìæÂàÜÊûê\n"),t.push("‚ïê".repeat(50));const n=this.extractSteps(e);for(const s of n){const e="  ".repeat(s.depth);t.push(`${e}Step ${s.step}: ${s.title}`),t.push(`${e}  ${s.description}`),s.reasoning&&t.push(`${e}  üí≠ ${s.reasoning}`),t.push(`${e}  üìä ÁΩÆ‰ø°Â∫¶: ${(100*s.confidence).toFixed(0)}%`),t.push("")}return t.join("\n")}extractSteps(e){const t=[];let n=0;const s=(e,r)=>{n++,t.push({step:n,title:this.getTitle(e.type),description:e.content,reasoning:e.reasoning,confidence:e.confidence,depth:r});for(const t of e.children||[])s(t,r+1)};return s(e.root,0),t}getTitle(e){return{requirement:"üéØ ÁêÜËß£ÈúÄÊ±Ç",analysis:"üìä ÂàÜÊûêÈóÆÈ¢ò",decomposition:"üî® ÊãÜËß£‰ªªÂä°",task:"üìã ÁîüÊàê‰ªªÂä°",action:"‚ö° ÊâßË°åË°åÂä®",reflection:"üîç ÂèçÊÄùÂÆ°Êü•",synthesis:"‚úÖ ÁªºÂêàÊÄªÁªì"}[e]||e}}class Ca{render(e){const t=[];t.push("# üß† ÊÄùÁª¥ÈìæÂàÜÊûê\n"),t.push(`**Êó∂Èó¥**: ${new Date(e.createdAt).toLocaleString()}`),t.push(`**Ê®°Âûã**: ${e.metadata.model||"Êú™Áü•"}`),t.push(`**ËæìÂÖ•**: ${e.metadata.input?.substring(0,100)}...\n`),t.push("---\n");const n=this.extractSteps(e.root,0);for(const s of n){const e="#".repeat(Math.min(s.depth+2,6));t.push(`${e} ${s.step}. ${s.title}\n`),t.push(`> **ÁΩÆ‰ø°Â∫¶**: ${(100*s.confidence).toFixed(0)}%\n`),t.push(`**ÊèèËø∞**: ${s.description}\n`),s.reasoning&&t.push(`**Êé®ÁêÜ**: ${s.reasoning}\n`)}return t.join("\n")}extractSteps(e,t,n={value:0}){const s=[];n.value++,s.push({step:n.value,title:this.getTitle(e.type),description:e.content,reasoning:e.reasoning,confidence:e.confidence,depth:t});for(const r of e.children||[])s.push(...this.extractSteps(r,t+1,n));return s}getTitle(e){return{requirement:"üéØ ÁêÜËß£ÈúÄÊ±Ç",analysis:"üìä ÂàÜÊûêÈóÆÈ¢ò",decomposition:"üî® ÊãÜËß£‰ªªÂä°",task:"üìã ÁîüÊàê‰ªªÂä°",action:"‚ö° ÊâßË°åË°åÂä®",reflection:"üîç ÂèçÊÄùÂÆ°Êü•",synthesis:"‚úÖ ÁªºÂêàÊÄªÁªì"}[e]||e}}class va{render(e){const t=[];t.push("```mermaid"),t.push("flowchart TD"),t.push("    %% ËäÇÁÇπÊ†∑Âºè"),t.push("    classDef requirement fill:#ffecd2,stroke:#fcb69f,stroke-width:2px"),t.push("    classDef analysis fill:#d4fc79,stroke:#96e6a1,stroke-width:2px"),t.push("    classDef decomposition fill:#84fab0,stroke:#8fd3f4,stroke-width:2px"),t.push("    classDef task fill:#a18cd1,stroke:#fbc2eb,stroke-width:2px"),t.push("    classDef action fill:#f093fb,stroke:#f5576c,stroke-width:2px"),t.push("    classDef reflection fill:#fdfbfb,stroke:#ebedee,stroke-width:2px"),t.push("    classDef synthesis fill:#4facfe,stroke:#00f2fe,stroke-width:2px"),t.push("");let n=0;const s=new Map,r=e=>{const i="node"+n++,o=this.truncate(e.content,30),a=this.getTitle(e.type);s.set(e.id,i),t.push(`    ${i}["${a}: ${o}"]:::${e.type}`);for(const n of e.children||[]){const e=r(n);t.push(`    ${i} --\x3e ${e}`)}return i};return r(e.root),t.push("```"),t.join("\n")}getTitle(e){return{requirement:"ÈúÄÊ±Ç",analysis:"ÂàÜÊûê",decomposition:"ÊãÜËß£",task:"‰ªªÂä°",action:"Ë°åÂä®",reflection:"ÂèçÊÄù",synthesis:"ÊÄªÁªì"}[e]||e}truncate(e,t){return e.length<=t?e:e.substring(0,t-3)+"..."}}class Fa{render(e){const t=[];t.push("# ÊÄùÁª¥ÂØºÂõæ\n");const n=(e,s,r)=>{const i=r?"‚îî‚îÄ‚îÄ ":"‚îú‚îÄ‚îÄ ",o=this.getTitle(e.type);t.push(`${s}${i}${o}: ${this.truncate(e.content,40)}`);const a=s+(r?"    ":"‚îÇ   "),u=e.children||[];u.forEach((e,t)=>{n(e,a,t===u.length-1)})};return n(e.root,"",!0),t.join("\n")}getTitle(e){return{requirement:"üéØ",analysis:"üìä",decomposition:"üî®",task:"üìã",action:"‚ö°",reflection:"üîç",synthesis:"‚úÖ"}[e]||"‚Ä¢"}truncate(e,t){return e.length<=t?e:e.substring(0,t-3)+"..."}}function xa(e){switch(e){case"text":default:return new wa;case"markdown":return new Ca;case"mermaid":return new va;case"mindmap":return new Fa}}const Ea=new e.Command("think");let Aa=null;function Sa(){return Aa||(Aa=new ba({verbose:!0,enableReflection:!0,outputFormat:"markdown"})),Aa}function Ma(e,t){const n=e.createChain(t);e.addNode(n.id,n.root.id,"analysis","ÂàÜÊûêÁî®Êà∑ËæìÂÖ•","ÁêÜËß£ÈúÄÊ±ÇÂÜÖÂÆπ"),e.addNode(n.id,n.root.id,"decomposition","ÊãÜËß£‰∏∫Â≠ê‰ªªÂä°","Â∞ÜÂ§çÊùÇÈóÆÈ¢òÂàÜËß£‰∏∫ÂèØÁÆ°ÁêÜÁöÑÈÉ®ÂàÜ"),e.addNode(n.id,n.root.id,"task","ÁîüÊàêÂÖ∑‰Ωì‰ªªÂä°ÂàóË°®","ÂàõÂª∫ÂèØÊâßË°åÁöÑ‰ªªÂä°È°π"),e.addNode(n.id,n.root.id,"synthesis","ÂàÜÊûêÂÆåÊàê","ËæìÂá∫ÂàÜÊûêÁªìÊûú")}Ea.description("AI ÊÄùÁª¥ÈìæÂàÜÊûê").argument("<prompt>","ÈúÄË¶ÅÂàÜÊûêÁöÑÂÜÖÂÆπ").option("-m, --model <model>","‰ΩøÁî®ÁöÑÊ®°Âûã").option("-v, --visualize","ÂèØËßÜÂåñËæìÂá∫",!1).option("-f, --format <format>","ËæìÂá∫Ê†ºÂºè (text|markdown|mermaid|mindmap)","markdown").option("--no-reflection","Á¶ÅÁî®ÂèçÊÄù").action(async(e,t)=>{const n=Sa(),s=ks();if((s.aiModels?.filter(e=>e.enabled)||[]).length>0)try{await async function(e,t){Ma(e,t)}(n,e,t.model)}catch(i){Ma(n,e)}else Ma(n,e);const r=n.listChains();if(0===r.length)return;if(n.getChain(r[r.length-1].id))if(t.visualize){xa("mermaid")}else{xa(t.format)}}),Ea.command("history").description("Êü•ÁúãÊÄùÁª¥ÂàÜÊûêÂéÜÂè≤").action(()=>{const e=Sa().listChains();0!==e.length&&e.forEach((e,t)=>{new Date(e.createdAt).toLocaleString(),e.input.substring(0,50)})}),Ea.command("visualize").description("ÂèØËßÜÂåñÊÄùÁª¥Èìæ").argument("[chainId]","ÊÄùÁª¥Èìæ ID").option("-f, --format <format>","Ê†ºÂºè (mermaid|mindmap)","mermaid").action((e,t)=>{const n=Sa();let s;if(e)s=n.getChain(e);else{const e=n.listChains();e.length>0&&(s=n.getChain(e[e.length-1].id))}if(!s)return;xa(t.format)});const Ta=Ea;class Ba{logger=me.getInstance("WorkflowParser");parse(e,t){this.logger.info(`Ëß£ÊûêÂ∑•‰ΩúÊµÅ: ${t}`);try{let n;return n="yaml"===t?this.parseYAML(e):this.parseJSON(e),this.convertToWorkflow(n)}catch(n){throw this.logger.error("Â∑•‰ΩúÊµÅËß£ÊûêÂ§±Ë¥•:",n),n}}parseYAML(e){const t=e.split("\n"),n={steps:[]};let s=null,r=0,i=!1;for(const o of t){const e=o.trim();if(!e||e.startsWith("#"))continue;const t=o.search(/\S/);if(e.startsWith("steps:"))i=!0;else if(i){if(e.match(/^-\s+\w+:/)){s&&n.steps.push(s);const i=e.match(/^-\s+(\w+):/)?.[1];s={id:i,type:"task"},r=t;continue}if(s&&t>r){const[t,...n]=e.split(":"),r=n.join(":").trim();"if"===t?s.condition=r:"on_true"===t||"on_false"===t||("retry"===t?s.retry={max_attempts:1}:s[t]=r||!0)}}else{const[t,...s]=e.split(":"),r=s.join(":").trim();t&&""!==r&&(n[t]=r||!0)}}return s&&n.steps.push(s),n}parseJSON(e){return JSON.parse(e)}convertToWorkflow(e){const t={id:`workflow-${Date.now()}`,name:e.name,version:e.version||"1.0.0",description:e.description,triggers:e.triggers||[{type:"manual"}],variables:e.variables||{},steps:[],metadata:{createdAt:Date.now()}};for(const n of e.steps){const s=this.convertStep(n,e.steps);t.steps.push(s)}return this.resolveDependencies(t),t}convertStep(e,t){const n={id:e.id,name:e.name||e.id,type:e.type||"task",config:{prompt:e.prompt,tool:e.tool,toolInput:e.tool_input,outputKey:e.output_key,timeout:e.timeout,retries:e.retry?.max_attempts}};return e.if&&(n.type="condition",n.condition=e.if,n.branches=[],e.on_true&&n.branches.push({id:"true",condition:e.if,stepId:e.on_true[0]}),e.on_false&&e.on_false[0]&&n.branches.push({id:"false",condition:`!(${e.if})`,stepId:e.on_false[0]})),e.depends_on&&(n.config=n.config||{},n.config.dependsOn=e.depends_on),e.retry&&(n.errorHandling={maxRetries:e.retry.max_attempts,retryDelay:e.retry.delay}),n}resolveDependencies(e){const t=new Map(e.steps.map(e=>[e.id,e]));for(const n of e.steps){if("condition"===n.type&&n.branches)continue;const e=n.config;if(e?.dependsOn){const s=Array.isArray(e.dependsOn)?e.dependsOn:[e.dependsOn];for(const e of s){const s=t.get(e);s&&(s.next=s.next||[],s.next.includes(n.id)||s.next.push(n.id))}}}for(let n=0;n<e.steps.length-1;n++){const t=e.steps[n];t.next&&0!==t.next.length||(t.next=[e.steps[n+1].id])}}validate(e){const t=[],n=new Set(e.steps.map(e=>e.id));for(const s of e.steps){if(s.next)for(const e of s.next)n.has(e)||t.push(`Ê≠•È™§ ${s.id} ÂºïÁî®‰∫Ü‰∏çÂ≠òÂú®ÁöÑ‰∏ã‰∏ÄÊ≠•: ${e}`);if(s.branches)for(const e of s.branches)n.has(e.stepId)||t.push(`Ê≠•È™§ ${s.id} ÁöÑÂàÜÊîØÂºïÁî®‰∫Ü‰∏çÂ≠òÂú®ÁöÑÊ≠•È™§: ${e.stepId}`)}return this.hasCycle(e)&&t.push("Â∑•‰ΩúÊµÅÂ≠òÂú®Âæ™ÁéØÂºïÁî®"),{valid:0===t.length,errors:t}}hasCycle(e){const t=new Set,n=new Set,s=r=>{t.add(r),n.add(r);const i=e.steps.find(e=>e.id===r);if(i?.next)for(const e of i.next)if(t.has(e)){if(n.has(e))return!0}else if(s(e))return!0;return n.delete(r),!1};for(const r of e.steps)if(!t.has(r.id)&&s(r.id))return!0;return!1}toJSON(e){const t={name:e.name,version:e.version,description:e.description,triggers:e.triggers,variables:e.variables,steps:e.steps.map(e=>({id:e.id,name:e.name,type:e.type,prompt:e.config.prompt,tool:e.config.tool,tool_input:e.config.toolInput,output_key:e.config.outputKey,depends_on:e.next,if:e.condition,timeout:e.config.timeout}))};return JSON.stringify(t,null,2)}toYAML(e){return this.toJSON(e)}}class $a{constructor(e,t){this.step=e,this.context=t,this.logger=me.getInstance(`Executor:${e.id}`)}logger;prepareInput(e){const t={};for(const[n,s]of Object.entries(e))t[n]="string"==typeof s?this.replaceVariables(s):s;return t}replaceVariables(e){return e.replace(/\{\{(\w+(?:\.\w+)*)\}\}/g,(e,t)=>{const n=this.getByPath(this.context.variables,t);if(void 0!==n)return String(n);const s=this.getByPath(this.context.outputs,t);return void 0!==s?String(s):e})}getByPath(e,t){const n=t.split(".");let s=e;for(const r of n){if(!s||"object"!=typeof s)return;s=s[r]}return s}}class Ia extends $a{async execute(){const e=Date.now(),t=this.step.config.tool;if(!t)return{success:!1,error:"Êú™ÊåáÂÆöÂ∑•ÂÖ∑ÂêçÁß∞",duration:Date.now()-e};try{const n=this.prepareInput(this.step.config.toolInput||{});this.logger.info(`ÊâßË°åÂ∑•ÂÖ∑: ${t}`);const s=await Go.execute(t,n);return this.step.config.outputKey&&(this.context.outputs[this.step.config.outputKey]=s),{success:!0,output:s,duration:Date.now()-e}}catch(n){return this.logger.error(`Â∑•ÂÖ∑ÊâßË°åÂ§±Ë¥•: ${t}`,n),{success:!1,error:n instanceof Error?n.message:String(n),duration:Date.now()-e}}}}class Oa extends $a{async execute(){const e=Date.now(),t=this.replaceVariables(this.step.config.prompt||"");this.logger.info(`ÊâßË°åÊÄùÁª¥ÂàÜÊûê: ${this.step.id}`),await this.sleep(100);const n={thought:t,timestamp:Date.now()};return this.step.config.outputKey&&(this.context.outputs[this.step.config.outputKey]=n),{success:!0,output:n,duration:Date.now()-e}}sleep(e){return new Promise(t=>setTimeout(t,e))}}class ja extends $a{async execute(){const e=Date.now();this.logger.info(`ÊâßË°å‰ªªÂä°: ${this.step.id}`),await this.sleep(50);const t={taskId:this.step.id,status:"completed"};return this.step.config.outputKey&&(this.context.outputs[this.step.config.outputKey]=t),{success:!0,output:t,duration:Date.now()-e}}sleep(e){return new Promise(t=>setTimeout(t,e))}}class Na extends $a{async execute(){const e=Date.now(),t=this.step.config.outputKey||"result",n=this.context.outputs[t];return this.logger.info(`ËæìÂá∫ÁªìÊûú: ${t}`),{success:!0,output:n,duration:Date.now()-e}}}function Pa(e,t){switch(e.type){case"tool":return new Ia(e,t);case"thought":return new Oa(e,t);case"task":default:return new ja(e,t);case"output":return new Na(e,t)}}class Ra{logger;executions=new Map;constructor(){this.logger=me.getInstance("WorkflowEngine")}async execute(e,t){const n=Date.now(),s={variables:{...e.variables,...t},outputs:{},stepStatuses:{}},r={id:`exec-${Date.now()}`,workflowId:e.id,status:"running",currentStep:void 0,stepStatuses:{},variables:s.variables,outputs:{},startedAt:Date.now()};this.executions.set(r.id,r),this.logger.info(`ÂºÄÂßãÊâßË°åÂ∑•‰ΩúÊµÅ: ${e.name} (${r.id})`);try{const t=this.validateWorkflow(e);if(!t.valid)throw new Error(`Â∑•‰ΩúÊµÅÈ™åËØÅÂ§±Ë¥•: ${t.errors.join(", ")}`);const i=new Map(e.steps.map(e=>[e.id,e])),o=this.findStartSteps(e);return await this.executeSteps(i,o,s,r),r.status="completed",r.finishedAt=Date.now(),this.logger.info(`Â∑•‰ΩúÊµÅÊâßË°åÂÆåÊàê: ${r.id}`),{success:!0,execution:r,output:s.outputs,duration:Date.now()-n}}catch(i){return r.status="failed",r.error=i instanceof Error?i.message:String(i),r.finishedAt=Date.now(),this.logger.error(`Â∑•‰ΩúÊµÅÊâßË°åÂ§±Ë¥•: ${r.id}`,i),{success:!1,execution:r,error:r.error,duration:Date.now()-n}}}async pause(e){const t=this.executions.get(e);return!!t&&("running"===t.status&&(t.status="paused",t.pausedAt=t.currentStep,this.logger.info(`Â∑•‰ΩúÊµÅÂ∑≤ÊöÇÂÅú: ${e}`),!0))}async resume(e){const t=this.executions.get(e);if(!t||"paused"!==t.status)throw new Error("Êó†Ê≥ïÊÅ¢Â§çÊâßË°å");return this.logger.info(`ÊÅ¢Â§çÂ∑•‰ΩúÊµÅ: ${e}`),{success:!1,execution:t,error:"Resume not implemented",duration:0}}getExecution(e){return this.executions.get(e)}listExecutions(e){const t=Array.from(this.executions.values());return e?t.filter(t=>t.workflowId===e):t}async executeSteps(e,t,n,s){for(const r of t){if("skipped"===s.stepStatuses[r.id])continue;s.currentStep=r.id,s.stepStatuses[r.id]="running",n.stepStatuses[r.id]="running";const t=Pa(r,n),i=await t.execute();if(i.success)s.stepStatuses[r.id]="completed",n.stepStatuses[r.id]="completed";else{if(!r.errorHandling?.onError)throw s.stepStatuses[r.id]="failed",n.stepStatuses[r.id]="failed",new Error(`Ê≠•È™§ ${r.id} ÊâßË°åÂ§±Ë¥•: ${i.error}`);{const t=e.get(r.errorHandling.onError);t&&await this.executeSteps(e,[t],n,s)}}if(r.next&&r.next.length>0){const t=r.next.map(t=>e.get(t)).filter(e=>void 0!==e);await this.executeSteps(e,t,n,s)}}}findStartSteps(e){const t=new Set;for(const n of e.steps){const e=n.config;if(e?.dependsOn){(Array.isArray(e.dependsOn)?e.dependsOn:[e.dependsOn]).forEach(e=>t.add(e))}}return e.steps.filter(e=>!t.has(e.id))}validateWorkflow(e){const t=[];0===e.steps.length&&t.push("Â∑•‰ΩúÊµÅÊ≤°ÊúâÊ≠•È™§");new Set(e.steps.map(e=>e.id)).size!==e.steps.length&&t.push("Ê≠•È™§ ID ÈáçÂ§ç");const n=new Set(e.steps.map(e=>e.id));for(const s of e.steps)if(s.next)for(const e of s.next)n.has(e)||t.push(`Ê≠•È™§ ${s.id} ÂºïÁî®‰∫Ü‰∏çÂ≠òÂú®ÁöÑ‰∏ã‰∏ÄÊ≠•: ${e}`);return{valid:0===t.length,errors:t}}}new Ra;const qa=new e.Command("flow");let za=null,La=null;function Za(){return za||(za=new Ra),za}function Ha(){return La||(La=new Ba),La}qa.command("list").description("ÂàóÂá∫ÊâÄÊúâÂ∑•‰ΩúÊµÅ").option("-d, --dir <dir>","Â∑•‰ΩúÊµÅÁõÆÂΩï","./workflows").action(async e=>{const t=r.resolve(e.dir);if(!(await i.pathExists(t)))return;const n=(await i.readdir(t)).filter(e=>e.endsWith(".json")||e.endsWith(".yaml"));if(0!==n.length)for(const o of n){const e=r.join(t,o);try{const t=await i.readFile(e,"utf-8"),n=o.endsWith(".yaml")?"yaml":"json";Ha().parse(t,n)}catch(s){}}}),qa.command("run").description("ËøêË°åÂ∑•‰ΩúÊµÅ").argument("<name>","Â∑•‰ΩúÊµÅÂêçÁß∞").option("-d, --dir <dir>","Â∑•‰ΩúÊµÅÁõÆÂΩï","./workflows").option("-i, --input <json>","ËæìÂÖ•ÂèòÈáè (JSON Ê†ºÂºè)").option("-f, --format <format>","Ê†ºÂºè (json|yaml)","json").action(async(e,t)=>{const n=r.resolve(t.dir),s=r.join(n,`${e}.${t.format}`);if(await i.pathExists(s))try{const e=await i.readFile(s,"utf-8"),n=Ha().parse(e,t.format);let r={};if(t.input)try{r=JSON.parse(t.input)}catch(o){return}const a=await Za().execute(n,r);a.success&&a.output}catch(a){}}),qa.command("create").description("ÂàõÂª∫Êñ∞Â∑•‰ΩúÊµÅ").argument("<name>","Â∑•‰ΩúÊµÅÂêçÁß∞").option("-d, --dir <dir>","Â∑•‰ΩúÊµÅÁõÆÂΩï","./workflows").option("-t, --template <template>","Ê®°Êùø (basic|prd-to-code|ci-cd)","basic").action(async(e,t)=>{const n=r.resolve(t.dir);await i.ensureDir(n);const s=function(e){switch(e){case"prd-to-code":return{name:"",description:"‰ªé PRD ÁîüÊàê‰ª£Á†Å",triggers:[{type:"manual"}],variables:{prd_content:""},steps:[{id:"parse",name:"Ëß£Êûê PRD",type:"thought",prompt:"ÂàÜÊûê‰ª•‰∏ã PRDÔºåÊèêÂèñÂäüËÉΩÁÇπ\n{{prd_content}}",output_key:"parsed"},{id:"decompose",name:"‰ªªÂä°ÊãÜÂàÜ",type:"task",depends_on:["parse"]},{id:"generate",name:"ÁîüÊàê‰ª£Á†Å",type:"tool",tool:"code_generate",depends_on:["decompose"]}]};case"ci-cd":return{name:"",description:"CI/CD ÊµÅÊ∞¥Á∫ø",triggers:[{type:"event"}],steps:[{id:"build",name:"ÊûÑÂª∫",type:"tool",tool:"shell_exec",tool_input:{command:"npm run build"}},{id:"test",name:"ÊµãËØï",type:"tool",tool:"shell_exec",tool_input:{command:"npm test"},depends_on:["build"]}]};default:return{name:"",description:"Âü∫Á°ÄÂ∑•‰ΩúÊµÅ",triggers:[{type:"manual"}],variables:{},steps:[{id:"step1",name:"Ê≠•È™§ 1",type:"task"},{id:"step2",name:"Ê≠•È™§ 2",type:"task",depends_on:["step1"]}]}}}(t.template);s.name=e,s.version="1.0.0";const o=r.join(n,`${e}.json`);await i.writeFile(o,JSON.stringify(s,null,2))}),qa.command("history").description("Êü•ÁúãÊâßË°åÂéÜÂè≤").option("-w, --workflow <name>","Â∑•‰ΩúÊµÅÂêçÁß∞").action(async e=>{const n=Za().listExecutions();if(0!==n.length)for(const s of n.slice(-10).reverse()){"completed"===s.status?t.green:"failed"===s.status?t.red:t.yellow;s.finishedAt,s.error}}),qa.command("pause").description("ÊöÇÂÅúÂ∑•‰ΩúÊµÅÊâßË°å").argument("<executionId>","ÊâßË°å ID").action(async e=>{await Za().pause(e)}),qa.command("resume").description("ÊÅ¢Â§çÂ∑•‰ΩúÊµÅÊâßË°å").argument("<executionId>","ÊâßË°å ID").action(async e=>{try{(await Za().resume(e)).success}catch(t){}});const Ua=qa;const Va=new class{constructor(e="./plugins"){this.pluginDir=e,this.logger=me.getInstance("PluginManager"),this.context=this.createContext()}logger;plugins=new Map;hooks=new Map;context;createContext(){return{appRoot:process.cwd(),workspace:process.cwd(),config:{},logger:this.logger,registry:this}}async loadAll(){if(this.logger.info(`Âä†ËΩΩÊèí‰ª∂ÁõÆÂΩï: ${this.pluginDir}`),!(await i.pathExists(this.pluginDir)))return void this.logger.warn("Êèí‰ª∂ÁõÆÂΩï‰∏çÂ≠òÂú®");const e=(await i.readdir(this.pluginDir)).filter(e=>!e.startsWith("."));for(const t of e)await this.load(t);this.logger.info(`Â∑≤Âä†ËΩΩ ${this.plugins.size} ‰∏™Êèí‰ª∂`)}async load(e){try{const t=r.resolve(this.pluginDir,e),n=await this.loadPackageJson(t);if(!n)return{success:!1,error:"Êó†ÊïàÁöÑÊèí‰ª∂: Áº∫Â∞ë package.json"};if(!n.keywords?.includes("taskflow-plugin"))return{success:!1,error:"‰∏çÊòØ TaskFlow Êèí‰ª∂"};const s=r.join(t,n.main||"index.js");if(!(await i.pathExists(s)))return{success:!1,error:"Êèí‰ª∂ÂÖ•Âè£Êñá‰ª∂‰∏çÂ≠òÂú®"};const o=await this.importPlugin(e,n,s);return this.plugins.set(e,o),this.registerHooks(o),o.hooks?.onLoad&&await o.hooks.onLoad(o),this.logger.info(`Êèí‰ª∂Â∑≤Âä†ËΩΩ: ${o.name} v${o.version}`),{success:!0,plugin:o}}catch(t){const n=t instanceof Error?t.message:String(t);return this.logger.error(`Êèí‰ª∂Âä†ËΩΩÂ§±Ë¥•: ${e}`,t),{success:!1,error:n}}}async unload(e){const t=this.plugins.get(e);if(!t)return!1;try{return t.hooks?.onUnload&&await t.hooks.onUnload(t),this.unregisterHooks(t),this.plugins.delete(e),this.logger.info(`Êèí‰ª∂Â∑≤Âç∏ËΩΩ: ${t.name}`),!0}catch(n){return this.logger.error(`Êèí‰ª∂Âç∏ËΩΩÂ§±Ë¥•: ${e}`,n),!1}}async loadPackageJson(e){const t=r.join(e,"package.json");if(!(await i.pathExists(t)))return null;const n=await i.readFile(t,"utf-8");return JSON.parse(n)}async importPlugin(e,t,n){return{id:e,name:t.name,version:t.version,description:t.description,author:t.author,main:t.main,dependencies:t.dependencies}}registerHooks(e){const t=["onInit","onLoad","onUnload","onTaskCreate","onTaskUpdate","onTaskComplete","onWorkflowExecute","onCommand"];for(const n of t)e.hooks&&"function"==typeof e.hooks[n]&&(this.hooks.has(n)||this.hooks.set(n,new Set),this.hooks.get(n).add(e.hooks[n]))}unregisterHooks(e){const t=["onInit","onLoad","onUnload","onTaskCreate","onTaskUpdate","onTaskComplete","onWorkflowExecute","onCommand"];for(const n of t)e.hooks&&"function"==typeof e.hooks[n]&&this.hooks.get(n)?.delete(e.hooks[n])}async triggerHook(e,...t){const n=this.hooks.get(e);if(!n)return[];const s=[];for(const i of n)try{const e=await i(...t);void 0!==e&&s.push(e)}catch(r){this.logger.error(`Èí©Â≠êÊâßË°åÂ§±Ë¥•: ${e}`,r)}return s}get(e){return this.plugins.get(e)}list(){return Array.from(this.plugins.values())}count(){return this.plugins.size}async initialize(){await this.triggerHook("onInit",this.context)}},Wa=new class{constructor(e="./templates"){this.templateDir=e,this.logger=me.getInstance("TemplateManager"),this.initBuiltinTemplates()}logger;templates=new Map;initBuiltinTemplates(){this.register({id:"prd-default",name:"Ê†áÂáÜ PRD Ê®°Êùø",description:"ÈÄöÁî®ÁöÑ‰∫ßÂìÅÈúÄÊ±ÇÊñáÊ°£Ê®°Êùø",category:"prd",content:"# {{project_name}}\n\n## 1. ËÉåÊôØ\n{{background}}\n\n## 2. ÁõÆÊ†á\n{{goals}}\n\n## 3. ÂäüËÉΩÈúÄÊ±Ç\n### 3.1 Ê†∏ÂøÉÂäüËÉΩ\n- {{feature_1}}\n- {{feature_2}}\n- {{feature_3}}\n\n### 3.2 ËæÖÂä©ÂäüËÉΩ\n- {{aux_feature_1}}\n\n## 4. ÈùûÂäüËÉΩÈúÄÊ±Ç\n### 4.1 ÊÄßËÉΩË¶ÅÊ±Ç\n- ÂìçÂ∫îÊó∂Èó¥ < {{response_time}}ms\n- ÊîØÊåÅ {{concurrent_users}} Âπ∂ÂèëÁî®Êà∑\n\n### 4.2 ÂÆâÂÖ®Ë¶ÅÊ±Ç\n- {{security_requirement}}\n\n## 5. È™åÊî∂Ê†áÂáÜ\n- [ ] {{acceptance_criteria_1}}\n- [ ] {{acceptance_criteria_2}}\n\n## 6. Êó∂Èó¥ËÆ°Âàí\n- ÂºÄÂßãÊó•Êúü: {{start_date}}\n- ÁªìÊùüÊó•Êúü: {{end_date}}\n",variables:[{name:"project_name",type:"string",description:"È°πÁõÆÂêçÁß∞"},{name:"background",type:"string",description:"È°πÁõÆËÉåÊôØ"},{name:"goals",type:"string",description:"È°πÁõÆÁõÆÊ†á"}]}),this.register({id:"workflow-prd-to-code",name:"PRD ËΩ¨‰ª£Á†ÅÂ∑•‰ΩúÊµÅ",description:"‰ªé PRD ÊñáÊ°£ÁîüÊàê‰ª£Á†ÅÁöÑÂÆåÊï¥Â∑•‰ΩúÊµÅ",category:"workflow",content:JSON.stringify({name:"{{workflow_name}}",version:"1.0.0",description:"{{description}}",triggers:[{type:"manual"}],variables:{},steps:[{id:"parse",name:"Ëß£Êûê PRD",type:"thought"},{id:"decompose",name:"‰ªªÂä°ÊãÜÂàÜ",type:"task",depends_on:["parse"]},{id:"generate",name:"ÁîüÊàê‰ª£Á†Å",type:"tool",depends_on:["decompose"]},{id:"review",name:"‰ª£Á†ÅÂÆ°Êü•",type:"thought",depends_on:["generate"]}]},null,2)}),this.register({id:"task-feature",name:"ÂäüËÉΩÂºÄÂèë‰ªªÂä°",description:"Ê†áÂáÜÁöÑÂäüËÉΩÂºÄÂèë‰ªªÂä°Ê®°Êùø",category:"task",content:JSON.stringify({title:"{{title}}",description:"{{description}}",type:"development",priority:"medium",estimatedHours:8,acceptanceCriteria:["{{criteria_1}}","{{criteria_2}}"]},null,2)}),this.register({id:"task-bug",name:"Bug ‰øÆÂ§ç‰ªªÂä°",description:"Bug ‰øÆÂ§ç‰ªªÂä°Ê®°Êùø",category:"task",content:JSON.stringify({title:"‰øÆÂ§ç: {{bug_title}}",description:"{{bug_description}}",type:"development",priority:"high",estimatedHours:4,acceptanceCriteria:["Bug Â∑≤‰øÆÂ§ç","Áõ∏ÂÖ≥ÊµãËØïÈÄöËøá"]},null,2)})}register(e){this.templates.set(e.id,e),this.logger.info(`Ê®°ÊùøÂ∑≤Ê≥®ÂÜå: ${e.name}`)}get(e){return this.templates.get(e)}list(e){return e?Array.from(this.templates.values()).filter(t=>t.category===e):Array.from(this.templates.values())}listByCategory(){const e={prd:[],workflow:[],task:[]};for(const t of this.templates.values())e[t.category].push(t);return e}render(e,t){const n=this.templates.get(e);if(!n)return null;let s=n.content;for(const[r,i]of Object.entries(t)){const e=new RegExp(`\\{\\{${r}\\}\\}`,"g");s=s.replace(e,String(i))}return s=s.replace(/\{\{\w+\}\}/g,""),s}async loadFromFile(e){try{const t=await i.readFile(e,"utf-8"),n=JSON.parse(t);return this.register(n),n}catch(t){return this.logger.error("Âä†ËΩΩÊ®°ÊùøÊñá‰ª∂Â§±Ë¥•:",t),null}}async saveToFile(e,t){const n=this.templates.get(e);if(!n)return!1;try{const s=r.resolve(t||this.templateDir,`${e}.json`);return await i.ensureDir(r.dirname(s)),await i.writeFile(s,JSON.stringify(n,null,2)),!0}catch(s){return this.logger.error("‰øùÂ≠òÊ®°ÊùøÊñá‰ª∂Â§±Ë¥•:",s),!1}}unregister(e){return this.templates.delete(e)}search(e){const t=e.toLowerCase();return Array.from(this.templates.values()).filter(e=>e.name.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)||e.tags?.some(e=>e.toLowerCase().includes(t)))}},Ja=new e.Command("plugin");Ja.command("list").description("ÂàóÂá∫Â∑≤ÂÆâË£ÖÁöÑÊèí‰ª∂").action(()=>{const e=Va.list();if(0!==e.length)for(const t of e)t.author}),Ja.command("load").description("Âä†ËΩΩÊèí‰ª∂").argument("<pluginId>","Êèí‰ª∂ ID").action(async e=>{(await Va.load(e)).success}),Ja.command("unload").description("Âç∏ËΩΩÊèí‰ª∂").argument("<pluginId>","Êèí‰ª∂ ID").action(async e=>{await Va.unload(e)}),Ja.command("init").description("ÂàùÂßãÂåñÊèí‰ª∂Á≥ªÁªü").action(async()=>{await Va.initialize(),await Va.loadAll()});const Ka=Ja,Ga=new e.Command("template");Ga.command("list").description("ÂàóÂá∫ÂèØÁî®Ê®°Êùø").option("-c, --category <category>","ÂàÜÁ±ª (prd|workflow|task)").action(e=>{if(0===(e.category?Wa.list(e.category):Wa.list()).length)return;const t=Wa.listByCategory(),n=["prd","workflow","task"];for(const s of n){const e=t[s];if(0!==e.length)for(const t of e);}}),Ga.command("use").description("‰ΩøÁî®Ê®°ÊùøÂàõÂª∫Êñá‰ª∂").argument("<templateId>","Ê®°Êùø ID").option("-o, --output <file>","ËæìÂá∫Êñá‰ª∂").option("-v, --variable <key=value>","Ê®°ÊùøÂèòÈáè",(e,t)=>{const[n,s]=e.split("=");return t[n]=s,t},{}).action(async(e,t)=>{if(!Wa.get(e))return;const n=t.variable||{},s=Wa.render(e,n);s&&t.output&&await i.writeFile(t.output,s)}),Ga.command("search").description("ÊêúÁ¥¢Ê®°Êùø").argument("<query>","ÊêúÁ¥¢ÂÖ≥ÈîÆËØç").action(e=>{const t=Wa.search(e);if(0!==t.length)for(const n of t);}),Ga.command("export").description("ÂØºÂá∫Ê®°ÊùøÂà∞Êñá‰ª∂").argument("<templateId>","Ê®°Êùø ID").option("-d, --dir <dir>","ËæìÂá∫ÁõÆÂΩï","./templates").action(async(e,t)=>{await Wa.saveToFile(e,t.dir)});const Ya=Ga;class Qa{constructor(e){this.agent=e,this.logger=me.getInstance(`Agent:${e.name}`)}logger;executions=new Map;async parseGoal(e){this.logger.info(`Ëß£ÊûêÁõÆÊ†á: ${e}`);return{goal:e,subgoals:this.extractSubgoals(e),constraints:[],successCriteria:this.extractSuccessCriteria(e),estimatedSteps:5}}async execute(e){const t={id:`exec-${Date.now()}`,agentId:this.agent.id,task:e,steps:[],currentStep:0,status:"thinking",startedAt:Date.now()};this.executions.set(t.id,t),this.logger.info(`ÂºÄÂßãÊâßË°å‰ªªÂä°: ${e.description}`);try{const n=await this.parseGoal(e.goal||e.description);this.addStep(t,{step:t.steps.length+1,type:"thought",content:`ÁõÆÊ†á: ${n.goal}`,reasoning:`ÂàÜËß£‰∏∫ ${n.subgoals.length} ‰∏™Â≠êÁõÆÊ†á`,timestamp:Date.now()});for(const e of n.subgoals){if("failed"===t.status)break;await this.executeSubgoal(t,e)}const s=await this.reflect(t);!s.success&&s.shouldRetry&&this.logger.info("ÂèçÊÄùÂª∫ËÆÆÈáçËØï"),t.status="completed",t.finishedAt=Date.now(),e.status="completed",e.finishedAt=Date.now()}catch(n){t.status="failed",t.finishedAt=Date.now(),e.status="failed",e.error=n instanceof Error?n.message:String(n),this.logger.error("‰ªªÂä°ÊâßË°åÂ§±Ë¥•",n)}return t}async executeSubgoal(e,t){e.status="executing",this.addStep(e,{step:e.steps.length+1,type:"thought",content:`Â§ÑÁêÜÂ≠êÁõÆÊ†á: ${t}`,timestamp:Date.now()});if(this.shouldUseTool(t)&&this.agent.tools.length>0){const n=this.selectTool(t);n&&await this.executeTool(e,n,{query:t})}else await this.think(e,t)}async think(e,t){this.addStep(e,{step:e.steps.length+1,type:"thought",content:`ÂàÜÊûê: ${t}`,reasoning:"ÈúÄË¶ÅÊõ¥Â§öÊÄùËÄÉÊù•Ëß£ÂÜ≥ÈóÆÈ¢ò",timestamp:Date.now()}),await this.sleep(100)}async executeTool(e,t,n){const s=Date.now();this.addStep(e,{step:e.steps.length+1,type:"action",content:`ÊâßË°åÂ∑•ÂÖ∑: ${t}`,tool:t,toolInput:n,timestamp:Date.now()});try{const r=await Go.execute(t,n),i=e.steps[e.steps.length-1];i.toolResult=r,i.duration=Date.now()-s,this.addStep(e,{step:e.steps.length+1,type:"observation",content:`Â∑•ÂÖ∑ËøîÂõûÁªìÊûú: ${JSON.stringify(r).substring(0,100)}...`,timestamp:Date.now()})}catch(r){this.addStep(e,{step:e.steps.length+1,type:"observation",content:`Â∑•ÂÖ∑ÊâßË°åÂ§±Ë¥•: ${r}`,timestamp:Date.now()})}}async reflect(e){this.logger.info("ÊâßË°åÂèçÊÄù..."),e.status="reflecting",this.addStep(e,{step:e.steps.length+1,type:"reflection",content:"ÂèçÊÄùÊâßË°åËøáÁ®ã",reasoning:"Ê£ÄÊü•ÁªìÊûúÊòØÂê¶Á¨¶ÂêàÈ¢ÑÊúü",timestamp:Date.now()});const t=[],n=[];e.steps.some(e=>"observation"===e.type&&e.content.includes("Â§±Ë¥•"))&&(t.push("Â≠òÂú®ÊâßË°åÂ§±Ë¥•ÁöÑÊ≠•È™§"),n.push("ËÄÉËôë‰ΩøÁî®Â§áÈÄâÂ∑•ÂÖ∑")),e.steps.length<3&&n.push("ÂèØËÉΩÈúÄË¶ÅÊõ¥Â§öÊ≠•È™§Êù•ÂÆåÊàê‰ªªÂä°");return{success:"completed"===e.status,issues:t,improvements:n,learnedLessons:[],shouldRetry:t.length>0&&t.length<3}}addMemory(e,t,n=.5){const s={id:`mem-${Date.now()}`,type:e,content:t,timestamp:Date.now(),importance:n};this.agent.memory.shortTerm.push(s),this.agent.memory.shortTerm.length>this.agent.memory.maxShortTerm&&this.agent.memory.shortTerm.shift()}getExecution(e){return this.executions.get(e)}listExecutions(){return Array.from(this.executions.values())}addStep(e,t){e.steps.push(t),e.currentStep=t.step}shouldUseTool(e){return["Êü•Êâæ","ÊêúÁ¥¢","Ëé∑Âèñ","ÂàõÂª∫","‰øÆÊîπ","Âà†Èô§","ÊâßË°å","run","get","create"].some(t=>e.toLowerCase().includes(t))}selectTool(e){return e.includes("ÊêúÁ¥¢")||e.includes("search")?"project_analyze":e.includes("ÂàõÂª∫")||e.includes("create")?"task_create":this.agent.tools[0]||null}extractSubgoals(e){return e.split(/[,Ôºå]/).map(e=>e.trim()).filter(e=>e)}extractSuccessCriteria(e){return["‰ªªÂä°ÂÆåÊàê","Êó†ÈîôËØØ"]}sleep(e){return new Promise(t=>setTimeout(t,e))}}class Xa{static createAnalyzer(e="analyzer"){return{id:`agent-${e}-${Date.now()}`,name:e,description:"ÂàÜÊûêÂûã AgentÔºåÊìÖÈïøÁêÜËß£ÈúÄÊ±ÇÂíåÈóÆÈ¢òÂàÜÊûê",capabilities:["reasoning"],status:"idle",tools:["project_analyze"],memory:{shortTerm:[],longTerm:[],maxShortTerm:100}}}static createExecutor(e="executor"){return{id:`agent-${e}-${Date.now()}`,name:e,description:"ÊâßË°åÂûã AgentÔºåÊìÖÈïøÂ∑•ÂÖ∑Ë∞ÉÁî®Âíå‰ªªÂä°ÊâßË°å",capabilities:["tool_use","code"],status:"idle",tools:["shell_exec","file_write","file_read"],memory:{shortTerm:[],longTerm:[],maxShortTerm:50}}}static createReviewer(e="reviewer"){return{id:`agent-${e}-${Date.now()}`,name:e,description:"ÂÆ°Êü•Âûã AgentÔºåÊìÖÈïø‰ª£Á†ÅÂíåÁªìÊûúÂÆ°Êü•",capabilities:["reasoning","code"],status:"idle",tools:["file_read","project_analyze"],memory:{shortTerm:[],longTerm:[],maxShortTerm:100}}}}const eu=new class{logger;agents=new Map;messageQueue=[];messageBus=new Map;constructor(){this.logger=me.getInstance("MultiAgentCoordinator")}register(e){const t=new Qa(e);return this.agents.set(e.id,t),this.messageBus.set(e.id,[]),this.logger.info(`Agent Â∑≤Ê≥®ÂÜå: ${e.name}`),t}unregister(e){return!!this.agents.get(e)&&(this.agents.delete(e),this.messageBus.delete(e),this.logger.info(`Agent Â∑≤Ê≥®ÈîÄ: ${e}`),!0)}get(e){return this.agents.get(e)}list(){return Array.from(this.agents.values()).map(e=>e.agent)}sendMessage(e){const t=this.messageBus.get(e.to);t&&(t.push(e),this.logger.info(`Ê∂àÊÅØÂèëÈÄÅ: ${e.from} -> ${e.to}`))}receiveMessage(e){const t=[...this.messageBus.get(e)||[]];return this.messageBus.set(e,[]),t}broadcast(e,t){for(const n of this.agents.keys())n!==e&&this.sendMessage({id:`msg-${Date.now()}`,from:e,to:n,type:"notification",content:t,timestamp:Date.now()})}async distributeTask(e,t,n="parallel"){this.logger.info(`ÂàÜÂèë‰ªªÂä°Âà∞ ${t.length} ‰∏™ Agent (Á≠ñÁï•: ${n})`);const s=[];switch(n){case"sequential":for(const o of t){const t=this.agents.get(o);if(t){const n=await t.execute(e);if(s.push(n),"failed"===n.status)break}}break;case"parallel":const n=t.map(async t=>{const n=this.agents.get(t);if(n)return n.execute(e)}),r=await Promise.all(n);s.push(...r.filter(Boolean));break;case"hierarchical":const i=this.agents.get(t[0]);if(i){const t=await i.execute(e);s.push(t)}}return s}async collaborate(e,t){this.logger.info("ÂêØÂä®Âçè‰Ωú‰ªªÂä°");const n=this.decomposeTask(e),s=[];for(let o=0;o<t.length;o++){const e=n[o%n.length];s.push({taskId:e.id,agents:[t[o]],strategy:"sequential"})}const r=[];for(const o of s){const t=this.agents.get(o.agents[0]);if(t){const s=await t.execute({...e,id:o.taskId,description:n.find(e=>e.id===o.taskId)?.description||""});r.push(s)}}const i=this.aggregateResults(r);return this.broadcast("coordinator",`‰ªªÂä°ÂÆåÊàê: ${i}`),r}decomposeTask(e){return e.description.split(/[;.Ôºõ]/).filter(e=>e.trim()).map((t,n)=>({...e,id:`${e.id}-sub${n}`,description:t.trim()}))}aggregateResults(e){return`${e.filter(e=>"completed"===e.status).length}/${e.length} Â≠ê‰ªªÂä°ÂÆåÊàê`}},tu=new e.Command("agent");tu.command("create").description("ÂàõÂª∫Êñ∞ÁöÑ Agent").argument("<type>","Agent Á±ªÂûã (analyzer|executor|reviewer)").argument("[name]","Agent ÂêçÁß∞").action((e,t)=>{let n;switch(e){case"analyzer":n=Xa.createAnalyzer(t||"analyzer");break;case"executor":n=Xa.createExecutor(t||"executor");break;case"reviewer":n=Xa.createReviewer(t||"reviewer");break;default:return}eu.register(n)}),tu.command("list").description("ÂàóÂá∫ÊâÄÊúâ Agent").action(()=>{const e=eu.list();if(0!==e.length)for(const n of e){"idle"===n.status?t.green:"executing"===n.status?t.cyan:"failed"===n.status?t.red:t.gray}}),tu.command("run").description("ËøêË°å Agent ÊâßË°å‰ªªÂä°").argument("<agentId>","Agent ID").argument("<task>","‰ªªÂä°ÊèèËø∞").option("-g, --goal <goal>","ÁõÆÊ†á").action(async(e,t,n)=>{const s=eu.get(e);if(!s)return;const r={id:`task-${Date.now()}`,description:t,goal:n.goal||t,status:"pending",createdAt:Date.now()};try{const e=await s.execute(r);if(e.steps.length>0)for(const t of e.steps.slice(0,5)){"thought"===t.type||("action"===t.type||t.type)}}catch(i){}}),tu.command("collaborate").description("Â§ö Agent Âçè‰Ωú").argument("<agentIds...>","Agent ID ÂàóË°®").argument("<task>","‰ªªÂä°ÊèèËø∞").action(async(e,t)=>{const n={id:`task-${Date.now()}`,description:t,goal:t,status:"pending",createdAt:Date.now()};try{(await eu.collaborate(n,e)).filter(e=>"completed"===e.status).length}catch(s){}});const nu=tu,su=new e.Command;su.name("taskflow").description("TaskFlow AI - Êô∫ËÉΩPRDÊñáÊ°£Ëß£Êûê‰∏é‰ªªÂä°ÁÆ°ÁêÜÂä©Êâã").version(K).option("-v, --verbose","ÊòæÁ§∫ËØ¶ÁªÜËæìÂá∫").option("--debug","ÂêØÁî®Ë∞ÉËØïÊ®°Âºè").hook("preAction",e=>{e.opts().debug&&(process.env.DEBUG="taskflow:*")}),su.command("init").description("ÂàùÂßãÂåñTaskFlowÈ°πÁõÆ").option("-f, --force","Âº∫Âà∂Ë¶ÜÁõñÁé∞ÊúâÈÖçÁΩÆ").option("--skip-ai","Ë∑≥ËøáAIÊ®°ÂûãÈÖçÁΩÆ").option("--template <name>","‰ΩøÁî®È¢ÑÂÆö‰πâÊ®°Êùø").action(async e=>{try{await async function(e){const o=s("Ê≠£Âú®ÂàùÂßãÂåñTaskFlowÈ°πÁõÆ...").start();try{const s=r.join(process.cwd(),G,Y);if(await i.pathExists(s)&&!e.force){o.stop();const{overwrite:e}=await n.prompt([{type:"confirm",name:"overwrite",message:"Ê£ÄÊµãÂà∞Áé∞ÊúâÈÖçÁΩÆÔºåÊòØÂê¶Ë¶ÜÁõñÔºü",default:!1}]);if(!e)return;o.start("Ê≠£Âú®ÈáçÊñ∞ÂàùÂßãÂåñ...")}o.stop();const a=await async function(){const e=r.basename(process.cwd());return await n.prompt([{type:"input",name:"projectName",message:"È°πÁõÆÂêçÁß∞:",default:e,validate:e=>e.trim()?!!/^[a-zA-Z0-9-_\s]+$/.test(e)||"È°πÁõÆÂêçÁß∞Âè™ËÉΩÂåÖÂê´Â≠óÊØç„ÄÅÊï∞Â≠ó„ÄÅ‰∏ãÂàíÁ∫øÂíåËøûÂ≠óÁ¨¶":"È°πÁõÆÂêçÁß∞‰∏çËÉΩ‰∏∫Á©∫"},{type:"input",name:"version",message:"È°πÁõÆÁâàÊú¨:",default:"1.0.0",validate:e=>!!/^\d+\.\d+\.\d+$/.test(e)||"ËØ∑ËæìÂÖ•ÊúâÊïàÁöÑËØ≠‰πâÂåñÁâàÊú¨Âè∑ (Â¶Ç: 1.0.0)"},{type:"list",name:"methodology",message:"ÂºÄÂèëÊñπÊ≥ïËÆ∫:",choices:[{name:"ÊïèÊç∑ÂºÄÂèë (Agile)",value:"agile"},{name:"ÁÄëÂ∏ÉÊ®°Âûã (Waterfall)",value:"waterfall"},{name:"Á≤æÁõäÂàõ‰∏ö (Lean)",value:"lean"}],default:"agile"}])}();o.start("Ê≠£Âú®ÈÖçÁΩÆÈ°πÁõÆ...");let u=[];e.skipAi||(o.stop(),u=await async function(){const{selectedProviders:e}=await n.prompt([{type:"checkbox",name:"selectedProviders",message:"ÈÄâÊã©AIÊ®°ÂûãÊèê‰æõÂïÜ:",choices:[{name:"Ê∑±Â∫¶Ê±ÇÁ¥¢ (DeepSeek) - Êé®Ëçê",value:X,checked:!0},{name:"Êô∫Ë∞±AI (GLM)",value:ee},{name:"ÈÄö‰πâÂçÉÈóÆ (Qwen)",value:te},{name:"ÊñáÂøÉ‰∏ÄË®Ä (ERNIE)",value:ne},{name:"Êúà‰πãÊöóÈù¢ (Moonshot)",value:se},{name:"ËÆØÈ£ûÊòüÁÅ´ (Spark)",value:re},{name:"OpenAI GPT",value:ie},{name:"Claude",value:oe}],validate:e=>0!==e.length||"ËØ∑Ëá≥Â∞ëÈÄâÊã©‰∏Ä‰∏™AIÊ®°ÂûãÊèê‰æõÂïÜ"}]),t=[];for(const s of e){const e=await n.prompt([{type:"input",name:"apiKey",message:"APIÂØÜÈí•:",validate:e=>!!e.trim()||"APIÂØÜÈí•‰∏çËÉΩ‰∏∫Á©∫"},{type:"input",name:"modelName",message:"Ê®°ÂûãÂêçÁß∞:",default:fe(s),validate:e=>!!e.trim()||"Ê®°ÂûãÂêçÁß∞‰∏çËÉΩ‰∏∫Á©∫"},{type:"list",name:"priority",message:"‰ºòÂÖàÁ∫ß:",choices:[{name:"È´ò‰ºòÂÖàÁ∫ß",value:1},{name:"‰∏≠‰ºòÂÖàÁ∫ß",value:2},{name:"‰Ωé‰ºòÂÖàÁ∫ß",value:3}],default:0===t.length?1:2}]);t.push({provider:s,modelName:e.modelName,apiKey:e.apiKey,priority:e.priority,enabled:!0,maxTokens:4e3,temperature:.7})}return t}(),o.start("Ê≠£Âú®‰øùÂ≠òÈÖçÁΩÆ..."));const c={...he,projectName:a.projectName,version:a.version,aiModels:u};await async function(){const e=process.cwd(),t=[G,r.join(G,"cache"),r.join(G,"logs"),r.join(G,"templates"),r.join(G,"plugins"),"docs","output","reports"];for(const n of t)await i.ensureDir(r.join(e,n))}(),await async function(e){const t=r.join(process.cwd(),G,Y);await i.writeJson(t,e,{spaces:2})}(c),await async function(){const e="# Á§∫‰æãPRDÊñáÊ°£\n\n## È°πÁõÆÊ¶ÇËø∞\nËøôÊòØ‰∏Ä‰∏™Á§∫‰æãÁöÑ‰∫ßÂìÅÈúÄÊ±ÇÊñáÊ°£ÔºåÁî®‰∫éÊºîÁ§∫TaskFlow AIÁöÑÂäüËÉΩ„ÄÇ\n\n## ÂäüËÉΩÈúÄÊ±Ç\n\n### 1. Áî®Êà∑ÁÆ°ÁêÜ\n- Áî®Êà∑Ê≥®ÂÜå\n- Áî®Êà∑ÁôªÂΩï\n- Áî®Êà∑‰ø°ÊÅØÁÆ°ÁêÜ\n\n### 2. Êï∞ÊçÆÁÆ°ÁêÜ\n- Êï∞ÊçÆÂΩïÂÖ•\n- Êï∞ÊçÆÊü•ËØ¢\n- Êï∞ÊçÆÂØºÂá∫\n\n## È™åÊî∂Ê†áÂáÜ\n- [ ] Áî®Êà∑ÂèØ‰ª•ÊàêÂäüÊ≥®ÂÜåË¥¶Âè∑\n- [ ] Áî®Êà∑ÂèØ‰ª•‰ΩøÁî®Ê≠£Á°ÆÁöÑÂá≠ÊçÆÁôªÂΩï\n- [ ] Á≥ªÁªüÂèØ‰ª•Ê≠£Á°ÆÂ≠òÂÇ®ÂíåÊ£ÄÁ¥¢Áî®Êà∑Êï∞ÊçÆ\n",t=r.join(process.cwd(),"docs","example-prd.md");await i.writeFile(t,e);const n=`# ${he.projectName||"TaskFlow Project"}\n\nËøô‰∏™È°πÁõÆ‰ΩøÁî® TaskFlow AI ËøõË°åÁÆ°ÁêÜÂíåÂºÄÂèë„ÄÇ\n\n## Âø´ÈÄüÂºÄÂßã\n\n1. Ëß£ÊûêPRDÊñáÊ°£:\n   \`\`\`bash\n   taskflow parse docs/example-prd.md\n   \`\`\`\n\n2. Êü•ÁúãÈ°πÁõÆÁä∂ÊÄÅ:\n   \`\`\`bash\n   taskflow status\n   \`\`\`\n\n3. ÁîüÊàêÂèØËßÜÂåñÊä•Âëä:\n   \`\`\`bash\n   taskflow visualize\n   \`\`\`\n\n4. ÂêØÂä®MCPÊúçÂä°Âô®:\n   \`\`\`bash\n   taskflow mcp start\n   \`\`\`\n\n## Êõ¥Â§ö‰ø°ÊÅØ\n\n- [TaskFlow AI ÊñáÊ°£](https://github.com/Agions/taskflow-ai)\n- [ÈÖçÁΩÆÊñá‰ª∂](.taskflow/config.json)\n`;await i.writeFile(r.join(process.cwd(),"README.md"),n)}(),o.succeed(t.green("È°πÁõÆÂàùÂßãÂåñÂÆåÊàêÔºÅ")),function(e){e.aiModels.length}(c)}catch(a){throw o.fail("ÂàùÂßãÂåñÂ§±Ë¥•"),a}}(e)}catch(o){process.exit(1)}}),function(e){e.command("parse <file>").description("Ëß£ÊûêPRDÊñáÊ°£Âπ∂ÁîüÊàê‰ªªÂä°").option("-o, --output <path>","ËæìÂá∫ÁõÆÂΩï","output").option("-f, --format <format>","ËæìÂá∫Ê†ºÂºè (json|markdown)","json").option("--no-tasks","Âè™Ëß£ÊûêÊñáÊ°£Ôºå‰∏çÁîüÊàê‰ªªÂä°").action(async(e,n)=>{try{await async function(e,n){const o=s("Ê≠£Âú®Ëß£ÊûêPRDÊñáÊ°£...").start();try{const s=r.resolve(e);if(!(await i.pathExists(s)))return void o.fail(t.red("Êñá‰ª∂‰∏çÂ≠òÂú®: "+e));const a=new _s,u=await a.loadConfig();if(!u)return void o.fail(t.red('Êú™ÊâæÂà∞ÈÖçÁΩÆÊñá‰ª∂ÔºåËØ∑ÂÖàËøêË°å "taskflow init"'));o.text="Ê≠£Âú®Ëß£ÊûêÊñáÊ°£ÂÜÖÂÆπ...";const c=new fs(u),l=await c.parse(s);let d=[];if(!1!==n.tasks){o.text="Ê≠£Âú®ÁîüÊàê‰ªªÂä°...";const e=new ms(u);d=await e.generateTasks(l)}await async function(e,t,n){const s=r.resolve(n.output);await i.ensureDir(s);const o=(new Date).toISOString().replace(/[:.]/g,"-"),a=r.parse(e.title||"prd").name,u={document:e,tasks:t,summary:{totalTasks:t.length,totalHours:t.reduce((e,t)=>e+t.estimatedHours,0),generatedAt:(new Date).toISOString()}};let c,l;"markdown"===n.format?(c=r.join(s,`${a}-${o}.md`),l=function(e){const{document:t,tasks:n,summary:s}=e;return`# PRDËß£ÊûêÊä•Âëä\n\n## ÊñáÊ°£‰ø°ÊÅØ\n- **Ê†áÈ¢ò**: ${t.title}\n- **ÁâàÊú¨**: ${t.version}\n- **ÁîüÊàêÊó∂Èó¥**: ${new Date(s.generatedAt).toLocaleString()}\n\n## È°πÁõÆÊ¶ÇËßà\n- **ÊÄª‰ªªÂä°Êï∞**: ${s.totalTasks}\n- **È¢Ñ‰º∞ÊÄªÂ∑•Êó∂**: ${s.totalHours} Â∞èÊó∂\n- **È¢Ñ‰º∞Â∑•Êúü**: ${Math.ceil(s.totalHours/8)} Â§©\n\n## ‰ªªÂä°ÂàóË°®\n\n${n.map((e,t)=>`\n### ${t+1}. ${e.title}\n\n- **Á±ªÂûã**: ${e.type}\n- **‰ºòÂÖàÁ∫ß**: ${e.priority}\n- **Â§çÊùÇÂ∫¶**: ${e.complexity}\n- **È¢Ñ‰º∞Â∑•Êó∂**: ${e.estimatedHours} Â∞èÊó∂\n- **Áä∂ÊÄÅ**: ${e.status}\n- **ÊèèËø∞**: ${e.description}\n\n`).join("")}\n\n---\n*Êä•ÂëäÁî± TaskFlow AI Ëá™Âä®ÁîüÊàê*\n`}(u)):(c=r.join(s,`${a}-${o}.json`),l=JSON.stringify(u,null,2));return await i.writeFile(c,l,"utf-8"),c}(l,d,n);o.succeed(t.green("Ëß£ÊûêÂÆåÊàêÔºÅ"))}catch(a){throw o.fail("Ëß£ÊûêÂ§±Ë¥•"),a}}(e,n)}catch(o){process.exit(1)}})}(su),function(e){e.command("status").description("Êü•ÁúãÈ°πÁõÆÁä∂ÊÄÅÂíåÁªüËÆ°‰ø°ÊÅØ").option("--json","‰ª•JSONÊ†ºÂºèËæìÂá∫").option("--detailed","ÊòæÁ§∫ËØ¶ÁªÜ‰ø°ÊÅØ").action(async e=>{try{await async function(e){const n=s("Ê≠£Âú®Ëé∑ÂèñÈ°πÁõÆÁä∂ÊÄÅ...").start();try{const s=new _s,r=await s.getConfigStats();if(!r.hasConfig)return void n.fail(t.red('Êú™ÊâæÂà∞ÈÖçÁΩÆÊñá‰ª∂ÔºåËØ∑ÂÖàËøêË°å "taskflow init"'));const i=await s.loadConfig();if(!i)return void n.fail(t.red("ÈÖçÁΩÆÊñá‰ª∂Âä†ËΩΩÂ§±Ë¥•"));if(n.succeed(t.green("Áä∂ÊÄÅËé∑ÂèñÂÆåÊàê")),e.json)return;if(i.aiModels.length>0&&i.aiModels.forEach((e,n)=>{e.enabled?t.green("‚óè"):t.red("‚óã"),t.gray(`[‰ºòÂÖàÁ∫ß: ${e.priority}]`)}),r.mcpEnabled,e.detailed){process.memoryUsage()}const o=await s.validateApiKeys(),a=o.filter(e=>e.valid).length,u=o.length;if(u>0){a===u?t.green("Ê≠£Â∏∏"):t.yellow("ÈÉ®ÂàÜÂºÇÂ∏∏");a<u&&o.filter(e=>!e.valid).forEach(e=>{})}s.getConfigPath();r.aiModelsCount,r.mcpEnabled}catch(r){throw n.fail("Ëé∑ÂèñÁä∂ÊÄÅÂ§±Ë¥•"),r}}(e)}catch(n){process.exit(1)}})}(su),function(e){e.command("visualize").description("ÁîüÊàêÈ°πÁõÆÂèØËßÜÂåñÊä•ÂëäÂíåÂõæË°®").option("-t, --type <type>","ÂõæË°®Á±ªÂûã (gantt|pie|bar|timeline|kanban)","gantt").option("-o, --output <path>","ËæìÂá∫Ë∑ØÂæÑ","./reports").option("-f, --format <format>","ËæìÂá∫Ê†ºÂºè (html|svg|png)","html").option("--interactive","‰∫§‰∫íÂºèÊ®°Âºè").action(async e=>{try{await async function(e){const o=s("Ê≠£Âú®ÁîüÊàêÂèØËßÜÂåñÊä•Âëä...").start();try{e.interactive&&(o.stop(),e=await async function(e){const t=await n.prompt([{type:"list",name:"type",message:"ÈÄâÊã©ÂõæË°®Á±ªÂûã:",choices:[{name:"ÁîòÁâπÂõæ - ÊòæÁ§∫‰ªªÂä°Êó∂Èó¥Á∫øÂíå‰æùËµñÂÖ≥Á≥ª",value:"gantt"},{name:"È•ºÂõæ - ÊòæÁ§∫‰ªªÂä°Á±ªÂûãÂàÜÂ∏É",value:"pie"},{name:"Êü±Áä∂Âõæ - ÊòæÁ§∫Â∑•Êó∂ÁªüËÆ°",value:"bar"},{name:"Êó∂Èó¥Á∫ø - ÊòæÁ§∫È°πÁõÆËøõÂ∫¶",value:"timeline"},{name:"ÁúãÊùø - ÊòæÁ§∫‰ªªÂä°Áä∂ÊÄÅ",value:"kanban"},{name:"ÁªÑÂêàÂõæË°® - ÁîüÊàêÂ§öÁßçÂõæË°®",value:"combined"}],default:e.type},{type:"list",name:"format",message:"ÈÄâÊã©ËæìÂá∫Ê†ºÂºè:",choices:[{name:"HTML - ‰∫§‰∫íÂºèÁΩëÈ°µÂõæË°®",value:"html"},{name:"SVG - Áü¢ÈáèÂõæÊ†ºÂºè",value:"svg"},{name:"PNG - ÂõæÁâáÊ†ºÂºè",value:"png"},{name:"PDF - ÊñáÊ°£Ê†ºÂºè",value:"pdf"}],default:e.format},{type:"checkbox",name:"features",message:"ÈÄâÊã©ÂåÖÂê´ÁöÑÂäüËÉΩ:",choices:[{name:"‰ªªÂä°ÁªüËÆ°",value:"stats",checked:!0},{name:"ËøõÂ∫¶ÂàÜÊûê",value:"progress",checked:!0},{name:"Âõ¢ÈòüÂàÜÂ∑•",value:"team",checked:!1},{name:"È£éÈô©ËØÜÂà´",value:"risks",checked:!1},{name:"ÈáåÁ®ãÁ¢ëÊ†áËÆ∞",value:"milestones",checked:!0},{name:"Êï∞ÊçÆÂØºÂá∫",value:"export",checked:!1}]},{type:"list",name:"theme",message:"ÈÄâÊã©‰∏ªÈ¢ò:",choices:[{name:"Êòé‰∫Æ‰∏ªÈ¢ò",value:"light"},{name:"ÊöóËâ≤‰∏ªÈ¢ò",value:"dark"},{name:"ÂïÜÂä°‰∏ªÈ¢ò",value:"business"},{name:"ÂΩ©Ëâ≤‰∏ªÈ¢ò",value:"colorful"}],default:"light"},{type:"input",name:"output",message:"ËæìÂá∫ÁõÆÂΩï:",default:e.output,validate:e=>!!e.trim()||"ËæìÂá∫ÁõÆÂΩï‰∏çËÉΩ‰∏∫Á©∫"}]);return{...e,...t}}(e),o.start("Ê≠£Âú®ÁîüÊàêÂèØËßÜÂåñÊä•Âëä..."));const s=await async function(){const e=["./output","./reports","./.taskflow/data","./data"],t=[];for(const n of e)if(await i.pathExists(n)){const e=(await i.readdir(n)).filter(e=>e.endsWith(".json")).map(e=>r.join(n,e));t.push(...e)}return t}();if(0===s.length)return void o.fail(t.yellow('Êú™ÊâæÂà∞È°πÁõÆÊï∞ÊçÆÔºåËØ∑ÂÖàËøêË°å "taskflow parse" Ëß£ÊûêPRDÊñáÊ°£'));const a=await async function(e){const t={projects:[],tasks:[],documents:[],summary:{}};for(const s of e)try{const e=await i.readJson(s);e.tasks&&t.tasks.push(...e.tasks),e.document&&t.documents.push(e.document),e.summary&&Object.assign(t.summary,e.summary)}catch(n){}return t}(s),u=await async function(e,t){const n=[];switch(t.type){case"gantt":n.push(ws(e,t));break;case"pie":n.push(Cs(e,t));break;case"bar":n.push(vs(e,t));break;case"timeline":n.push(function(e,t){return{type:"timeline",title:"È°πÁõÆÊó∂Èó¥Á∫ø",data:e.tasks.map(e=>({name:e.title,start:(new Date).toISOString(),end:new Date(Date.now()+60*(e.estimatedHours||8)*60*1e3).toISOString(),type:e.type,status:e.status})),config:{theme:t.theme||"light",showToday:!0,groupBy:"type"}}}(e,t));break;case"kanban":n.push(function(e,t){const n=["todo","in-progress","review","done"].map(t=>({name:t,tasks:e.tasks.filter(e=>e.status===t)}));return{type:"kanban",title:"‰ªªÂä°ÁúãÊùø",data:n,config:{theme:t.theme||"light",showTaskDetails:!0,allowDragDrop:!1}}}(e,t));break;case"combined":n.push(ws(e,t),Cs(e,t),vs(e,t))}return n}(a,e);await async function(e,t){const n=r.resolve(t.output);await i.ensureDir(n);const s=`taskflow-report-${(new Date).toISOString().replace(/[:.]/g,"-")}`;let o,a;switch(t.format){case"html":default:o=r.join(n,`${s}.html`),a=Fs(e,t);break;case"svg":o=r.join(n,`${s}.svg`),a=function(e,t){return`\n<svg width="800" height="600" xmlns="http://www.w3.org/2000/svg">\n  <rect width="100%" height="100%" fill="${"dark"===t.theme?"#1a1a1a":"#ffffff"}"/>\n  <text x="400" y="50" text-anchor="middle" font-size="24" font-weight="bold" fill="${"dark"===t.theme?"#ffffff":"#333333"}">\n    TaskFlow AI È°πÁõÆÊä•Âëä\n  </text>\n  <text x="400" y="300" text-anchor="middle" font-size="16" fill="${"dark"===t.theme?"#aaa":"#666"}">\n    üìä ÂåÖÂê´ ${e.length} ‰∏™ÂõæË°®\n  </text>\n  <text x="400" y="350" text-anchor="middle" font-size="14" fill="${"dark"===t.theme?"#aaa":"#666"}">\n    ÂÆåÊï¥ÁöÑ SVG ÂõæË°®ÂäüËÉΩÂºÄÂèë‰∏≠\n  </text>\n</svg>`}(e,t)}return await i.writeFile(o,a,"utf-8"),o}(u,e);o.succeed(t.green("ÂèØËßÜÂåñÊä•ÂëäÁîüÊàêÂÆåÊàêÔºÅ")),function(e){const t={totalTasks:e.tasks.length,totalHours:e.tasks.reduce((e,t)=>e+(t.estimatedHours||0),0),completedTasks:e.tasks.filter(e=>"done"===e.status).length,documents:e.documents.length};if(t.totalTasks>0){(t.completedTasks/t.totalTasks*100).toFixed(1)}}(a),e.format}catch(a){throw o.fail("ÂèØËßÜÂåñÁîüÊàêÂ§±Ë¥•"),a}}(e)}catch(o){process.exit(1)}})}(su),function(e){const t=e.command("mcp").description("MCPÊúçÂä°Âô®ÁÆ°ÁêÜ");t.command("start").description("ÂêØÂä®MCPÊúçÂä°Âô® (stdioÊ®°ÂºèÔºåÁî®‰∫éÁºñËæëÂô®ÈõÜÊàê)").option("--verbose","ÊòæÁ§∫ËØ¶ÁªÜÊó•Âøó").action(async e=>{try{await async function(){try{const e=new _s,t=await e.loadConfig();t||process.exit(1);const n=new Yo({serverName:"taskflow-ai",version:"2.0.0"},t);await n.start()}catch(e){throw e}}()}catch(t){process.exit(1)}}),t.command("status").description("Êü•ÁúãMCPÊúçÂä°Âô®Áä∂ÊÄÅ").action(async()=>{}),t.command("config").description("ÊòæÁ§∫MCPÈÖçÁΩÆÊåáÂçó").action(async()=>{})}(su),function(e){e.command("config").description("ÈÖçÁΩÆÁÆ°ÁêÜ").option("--list","ÂàóÂá∫ÊâÄÊúâÈÖçÁΩÆ").option("--get <key>","Ëé∑ÂèñÈÖçÁΩÆÂÄº").option("--set <key> <value>","ËÆæÁΩÆÈÖçÁΩÆÂÄº").action(async e=>{e.list,e.get})}(su),_a(su),Ta(su),Ua(su),Ka(su),Ya(su),nu(su),{}(su),{}(su),{}(su),su.on("--help",()=>{}),su.on("command:*",e=>{process.exit(1)}),process.on("uncaughtException",e=>{process.exit(1)}),process.on("unhandledRejection",(e,t)=>{process.exit(1)}),require.main===module&&async function(){try{2===process.argv.length?su.help():await su.parseAsync()}catch(e){process.exit(1)}}(),module.exports=su;
